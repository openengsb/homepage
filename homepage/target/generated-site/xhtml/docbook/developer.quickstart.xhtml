<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta name="generator"
    content="HTML Tidy for Java (vers. 2009-12-01), see jtidy.sourceforge.net" />
    <meta http-equiv="Content-Type"
    content="text/html; charset=ISO-8859-1" />
    <title>
      Chapter 39. Getting Started as a Developer
    </title>
    <link rel="stylesheet" href="css/html.css" type="text/css" />
    <meta name="generator"
    content="DocBook XSL-NS Stylesheets V1.75.2" />
    <link rel="home" href="openengsb-manual.html"
    title="OpenEngSB Manual" />
    <link rel="up" href="developer.manual.html"
    title="Part VII. OpenEngSB Commiters &amp; Contributors" />
    <link rel="prev" href="developer.manual.html"
    title="Part VII. OpenEngSB Commiters &amp; Contributors" />
    <link rel="next" href="developer.howto.internal.connector.html"
    title="Chapter 40. How To Create an Internal Connector" />
  </head>
  <body bgcolor="white" text="black" link="#0000FF" vlink="#840084"
  alink="#0000FF">
    <div xmlns:fo="http://www.w3.org/1999/XSL/Format" id="top">
      <div id="header">
      </div>
    </div>
    <div class="chapter"
    title="Chapter 39. Getting Started as a Developer">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title">
              <a id="developer.quickstart"
              name="developer.quickstart"></a>Chapter 39. Getting
              Started as a Developer
            </h2>
          </div>
        </div>
      </div>
      <p>
        This chapter describes the basic steps to get started as a
        developer for the OpenEngSB project.
      </p>
      <div class="section"
      title="39.1. Getting comfortable with the infrastructure">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title" style="clear: both">
                <a id="developer.quickstart.infrastructure"
                name="developer.quickstart.infrastructure"></a>39.1. Getting
                comfortable with the infrastructure
              </h2>
            </div>
          </div>
        </div>
        <p>
          As any open source project the OpenEngSB development
          depends on a wide range of different infrastructural and
          communication methods to get things done. The following
          sub-chapters describe the different tools, their location
          and usage in the OpenEngSB development process.
        </p>
        <div class="section" title="39.1.1. Mailing Lists">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title">
                  <a id="developer.quickstart.infrastructure.mail"
                  name="developer.quickstart.infrastructure.mail"></a>39.1.1. Mailing
                  Lists
                </h3>
              </div>
            </div>
          </div>
          <p>
            The most important communication medium for the
            OpenEngSB development team is email. Mostly all of the
            vital design, architectural and infrastructural
            decisions are discussed on the OpenEngSB developer
            list. Therefore, the first step to get involved into
            the development of the OpenEngSB is to register to the
            <a class="link"
            href="http://groups.google.com/group/openengsb-dev"
            target="_top">Google Groups OpenEngSB Developer Mailing
            List</a> and say hello world.
          </p>
          <p>
            While notifications from the OpenCIT Build Server,
            about code commits and Jira issues are vital for the
            OpenEngSB core developer, they may not be as
            interesting for you. If you get annoyed by the
            automatically generated notification mails ignore all
            mails from openengsb@gmail.com and noreply@github.com
            to openengsb-dev@googlegroups.com. Please remember it
            is important to configure both, <code
            class="literal">to</code> and <code
            class="literal">from</code> in your filter. Both
            addresses will also send notifications directly to you
            which are important and should not be ignored!
          </p>
        </div>
        <div class="section" title="39.1.2. Jira Issue Tracker">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title">
                  <a id="developer.quickstart.infrastructure.jira"
                  name="developer.quickstart.infrastructure.jira"></a>39.1.2. Jira
                  Issue Tracker
                </h3>
              </div>
            </div>
          </div>
          <p>
            All issues are stored within a Jira instance reachable
            at <a class="link"
            href="http://issues.openengsb.org/jira/browse/OPENENGSB"
             target="_top">issues.openengsb.org</a>. Please use the
            issue tracker to keep track of all bugs, ideas and new
            features you're currently working or of which you think
            they might be interesting.
          </p>
        </div>
        <div class="section" title="39.1.3. Code Repository">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title">
                  <a
                  id="developer.quickstart.infrastructure.github"
                  name="developer.quickstart.infrastructure.github"></a>39.1.3. Code
                  Repository
                </h3>
              </div>
            </div>
          </div>
          <p>
            As for any open source project the source code is
            public available. We've chosen <a class="link"
            href="http://github.com" target="_top">Github</a> for
            this task. The project is available at <a class="link"
            href="http://github.com/openengsb/openengsb"
            target="_top">github.com/openengsb/openengsb</a>.
          </p>
          <p>
            As explained later within this document Github is not
            only used to store our code, but also for
            collaboration, code review and patch-tracking.
          </p>
        </div>
        <div class="section" title="39.1.4. Maven Repository">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title">
                  <a id="developer.quickstart.infrastructure.maven"
                  name="developer.quickstart.infrastructure.maven"></a>39.1.4. Maven
                  Repository
                </h3>
              </div>
            </div>
          </div>
          <p>
            The OpenEngSB is available at <a class="link"
            href="http://repo1.maven.org/maven2/org/openengsb/"
            target="_top">Maven Central</a>. We still have our own
            Maven repository at <a class="link"
            href="http://maven.openengsb.org/"
            target="_top">maven.openengsb.org</a>.Please keep in
            mind that we try to get rid of this own infrastructure
            as soon as possible. Therefore the use of this
            repository is as minimal as possible. Snapshots are
            available via the sonatype Maven repository at <a
            class="link" href="http://oss.sonatype.org"
            target="_top">http://oss.sonatype.org</a>.
          </p>
        </div>
        <div class="section" title="39.1.5. Build Server">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title">
                  <a id="developer.quickstart.infrastructure.build"
                  name="developer.quickstart.infrastructure.build"></a>39.1.5. Build
                  Server
                </h3>
              </div>
            </div>
          </div>
          <p>
            The master and integration branch of the OpenEngSB
            repository are watched and built by an <a class="link"
            href="http://opencit.openengsb.org"
            target="_top">OpenCIT</a> build server instance
            available at <a class="link"
            href="http://build.openengsb.org/opencit/"
            target="_top">build.openengsb.org</a>. Notifications
            about failures are directly sent to the OpenEngSB
            developer list.
          </p>
        </div>
      </div>
      <div class="section" title="39.2. Prerequisites">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title" style="clear: both">
                <a id="developer.quickstart.pre"
                name="developer.quickstart.pre"></a>39.2. Prerequisites
              </h2>
            </div>
          </div>
        </div>
        <p>
          First of all the latest JDK has to be installed on the
          system and the <code class="envar">JAVA_HOME</code>
          variable has to be set accordingly. All further steps are
          described in the subsections of this chapter.
        </p>
        <div class="section" title="39.2.1. Installing Git">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title">
                  <a id="developer.quickstart.pre.git"
                  name="developer.quickstart.pre.git"></a>39.2.1. Installing
                  Git
                </h3>
              </div>
            </div>
          </div>
          <p>
            It is assumed that Git is installed. For Linux your
            distribution provides already a package for git. Please
            use the package manager of your distribution (apt, yum,
            pacman, ...) to install it. For MAC binaries are
            available at <a class="link" href="git-scm.com"
            target="_top">git-scm.com</a>. For MS users <a
            class="link" href="www.cygwin.com"
            target="_top">cygwin</a> or <a class="link"
            href="code.google.com/p/msysgit"
            target="_top">msysgit</a>. After installing, set at
            least the following variables:
          </p>
          <div class="literallayout">
            <p>
              <br />
                      <span
              class="command"><strong>git config</strong></span> <code
               class="option">--global</code> user.name "<em
              class="replaceable"><code>Firstname Lastname</code></em>"<br />
                      <span
              class="command"><strong>git config</strong></span> <code
               class="option">--global</code> user.email <em
              class="replaceable"><code>user@example.com</code></em><br />
                      <span
              class="command"><strong>git config</strong></span> <code
               class="option">--global</code> core.autcrlf input<br />
                    
            </p>
          </div>
        </div>
        <div class="section" title="39.2.2. Installing Maven">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title">
                  <a id="developer.quickstart.pre.maven"
                  name="developer.quickstart.pre.maven"></a>39.2.2. Installing
                  Maven
                </h3>
              </div>
            </div>
          </div>
          <p>
            Finally download Apache Maven3 and unpack it. Add the
            path of the maven binary to your <code
            class="envar">PATH</code> variable. Furthermore you
            should set the <code class="envar">MAVEN_OPTS</code>
            environment variable to allow Maven to use more RAM. If
            you don't you'll get Out Of Memory errors.
          </p>
          <div class="literallayout">
            <p>
              <br />
                        <span
              class="command"><strong>export</strong></span> <code
              class="envar">PATH</code>=$<code
              class="envar">PATH</code>:<em
              class="replaceable"><code>/path/to/maven</code></em>/bin<br />
                        <span
              class="command"><strong>export</strong></span> <code
              class="envar">MAVEN_OPTS</code>='-Xmx1024M -XX:MaxPermSize=512m'<br />
                      
            </p>
          </div>
          <p>
            Add these commands to <code
            class="filename">~/.bashrc</code> to make the settings
            permanent.
          </p>
        </div>
      </div>
      <div class="section" title="39.3. Starting OpenEngSB">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title" style="clear: both">
                <a id="developer.quickstart.essential"
                name="developer.quickstart.essential"></a>39.3. Starting
                OpenEngSB
              </h2>
            </div>
          </div>
        </div>
        <p>
          The next step is to get the OpenEngSB source by checking
          out the current master using git:
        </p>
        <div class="literallayout">
          <p>
            <br />
                  <span
            class="command"><strong>git clone</strong></span> git://github.com/openengsb/openengsb.git<br />
                
          </p>
        </div>
        <p>
          Connector, domains and additional various features are
          included into the OpenEngSB as submodules. To include
          them into the build and development cycle execute <span
          class="command"><strong>./etc/scripts/submodulePush.sh</strong></span>
          if you're a commiter and <span
          class="command"><strong>./etc/scripts/submodulePull.sh</strong></span>
          otherwise.
        </p>
        <p>
          Now start the OpenEngSB by executing
        </p>
        <div class="literallayout">
          <p>
            <br />
                  <span
            class="command"><strong>mvn clean install openengsb:provision</strong></span><br />
                
          </p>
        </div>
        <p>
          This command builds, tests and runs the OpenEngSB right
          from your command-line. Executing the following command
          will shutdown it again:
        </p>
        <div class="literallayout">
          <p>
            <br />
                  <span
            class="command"><strong>shutdown</strong></span><br />
                
          </p>
        </div>
      </div>
      <div class="section" title="39.4. Using Eclipse">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title" style="clear: both">
                <a id="developer.quickstart.eclipse"
                name="developer.quickstart.eclipse"></a>39.4. Using
                Eclipse
              </h2>
            </div>
          </div>
        </div>
        <p>
          Eclipse had been chosen by the OpenEngSB team as the main
          development environment. After checkout the code the
          following command creates the required Eclipse project
          files:
        </p>
        <div class="literallayout">
          <p>
            <br />
                  <span
            class="command"><strong>mvn</strong></span> install<br />
                  <span
            class="command"><strong>mvn</strong></span> openengsb:eclipse<br />
                
          </p>
        </div>
        <p>
          Start Eclipse and select any workspace. The folder <code
          class="filename">eclipse-workspace</code> is ignored in
          the OpenEngSB project structure for this purpose. But you
          can choose any other directory if you prefer. At the
          preference page go to <span class="guimenu">Java/Build
          Path/Classpath Variables</span> and create a new <span
          class="guilabel">M2_REPO</span> pointing to <code
          class="filename">~/.m2/repository</code>. Now use <span
          class="guimenu">File</span>, <span
          class="guimenu">Import...</span>, <span
          class="guilabel">Existing Projects into Workspace</span>.
          As the root directory select the root of the OpenEngSB
          source. Eclipse will list several projects and for now
          it's best to import them all by clicking <span
          class="guibutton">Finish</span>.
        </p>
        <p>
          At <code class="filename">openengsb/etc/eclipse/</code>
          eclipse configuration files for formatting can found.
          Checkstyle configuration files are part of the
          openengsb-maven-plugin (<a class="xref"
          href="developer.quickstart.html#developer.quickstart.tools.mavenplugin"
           title="39.7.1. openengsb-maven-plugin">Section 39.7.1, “
          openengsb-maven-plugin”</a>) and can be found <a
          class="link"
          href="https://github.com/openengsb/openengsb-maven-plugin/raw/master/src/main/resources/checkstyle/checkstyle.xml"
           target="_top">here</a>. The mvn openengsb:eclipse goal
          configures your eclipse project to download and use the
          provided checkstyle configuration file, so no manual
          steps are necessary here (however the formatter still
          needs to and should be configured manually).
        </p>
      </div>
      <div class="section"
      title="39.5. Using Other IDEs than Eclipse">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title" style="clear: both">
                <a id="developer.quickstart.noneclipse"
                name="developer.quickstart.noneclipse"></a>39.5. Using
                Other IDEs than Eclipse
              </h2>
            </div>
          </div>
        </div>
        <p>
          Basically, the OpenEngSB is developed in plain Java,
          which means any other IDE than Eclipse can be used too.
          While there are tools for most IDEs to use Checkstyle,
          but non of it supports the formatting file of the
          OpenEngSB. Please use Checkstyle, which automatically
          validates the eclipse formatting rules too.
        </p>
      </div>
      <div class="section" title="39.6. Git Documentation">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title" style="clear: both">
                <a id="git" name="git"></a>39.6. Git Documentation
              </h2>
            </div>
          </div>
        </div>
        <div class="section" title="39.6.1. Usage">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title">
                  <a id="d0e2768" name="d0e2768"></a>39.6.1. Usage
                </h3>
              </div>
            </div>
          </div>
          <p>
            First of all this chapter explains only the <span
            class="emphasis"><em>very</em></span> basics of Git and
            only that parts directly relevant for the development
            of the OpenEngSB project, but not the entire idea and
            possibilities of Git. <span
            class="emphasis"><em>Please</em></span> read some
            tutorials first to get how to work with Git and see
            this chapter more as an summary! You may also take a
            look at the <a class="link"
            href="http://git-scm.com/documentation/"
            target="_top">Git Documentation Page</a> and the <a
            class="link" href="http://progit.org/book/"
            target="_top">Pro Git Book</a>.
          </p>
        </div>
        <div class="section" title="39.6.2. Github">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title">
                  <a id="d0e2785" name="d0e2785"></a>39.6.2. Github
                </h3>
              </div>
            </div>
          </div>
          <p>
            OpenEngSB is developed at <a class="link"
            href="http://github.com/" target="_top">github.com</a>.
            Please create an account there and explore its
            features. Specify your real name in the admin tab and
            add a picture. This makes it easier to associate your
            commits to you.
          </p>
        </div>
        <div class="section"
        title="39.6.3. Starting up and configure">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title">
                  <a id="d0e2793"
                  name="d0e2793"></a>39.6.3. Starting up and
                  configure
                </h3>
              </div>
            </div>
          </div>
          <p>
            Before starting to work with Git some settings should
            be applied to Git. Therefore simply execute the
            following commands.
          </p>
          <div class="literallayout">
            <p>
              <span
              class="command"><strong>git config</strong></span> <code
               class="option">--global</code> user.name "<em
              class="replaceable"><code>Firstname Lastname</code></em>"<br />
              <span
              class="command"><strong>git config</strong></span> <code
               class="option">--global</code> user.email <em
              class="replaceable"><code>user@example.com</code></em><br />
              <span
              class="command"><strong>git config</strong></span> <code
               class="option">--global</code> color.ui "auto"<br />
              <span
              class="command"><strong>git config</strong></span> <code
               class="option">--global</code> pack.threads "0"<br />
              <span
              class="command"><strong>git config</strong></span> <code
               class="option">--global</code> diff.renamelimit "0"<br />
              <span
              class="command"><strong>git config</strong></span> <code
               class="option">--global</code> core.autocrlf "input"
            </p>
          </div>
          <p>
            Additionally execute the special settings for github as
            could be found on github in the "Account Settings" tab
            is a point "Global git config information". Please use
            the two git commands described there
          </p>
          <div class="literallayout">
            <p>
              <span
              class="command"><strong>git config</strong></span> <code
               class="option">--global</code> github.user <em
              class="replaceable"><code>username</code></em><br />
              <span
              class="command"><strong>git config</strong></span> <code
               class="option">--global</code> github.token <em
              class="replaceable"><code>token</code></em>
            </p>
          </div>
          <p>
            If you don't already have an SSH key you can create one
            by executing <span
            class="command"><strong>ssh-keygen</strong></span>
            Simply answer all questions from the application with
            "enter" without enter any values. Afterwards the
            content of the <code class="filename">id_rsa.pub</code>
            file from your <code class="filename">~/.ssh/</code>
            directory should be submitted to github (<span
            class="guilabel">Account Settings</span>/<span
            class="guilabel">SSH public keys</span>).
          </p>
          <p>
            You may also want to setup the provided git-hooks.
            Hooks are scripts that automate some small tasks in the
            git-workflow. To enable them they have to be located in
            the <code class="filename">.git/hooks</code> directory.
            You can achieve this by copying the scripts located in
            the <code class="filename">etc/git-hooks</code>
            directory to <code class="filename">.git/hooks</code>
          </p>
        </div>
        <div class="section" title="39.6.4. Contributor Workflow">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title">
                  <a id="d0e2886"
                  name="d0e2886"></a>39.6.4. Contributor Workflow
                </h3>
              </div>
            </div>
          </div>
          <p>
            Contributor are all developer who like to contribute to
            the OpenEngSB project, but not have commit rights to
            openengsb/openengsb.
          </p>
          <p>
            Please keep in mind, that this manual is NOT a Git
            tutorial. Github itself, e.g. provides a great help at
            <a class="link" href="http://book.git-scm.com/"
            target="_top">help.github.com</a>. All base concepts
            such as forking, pull-requests, ...
          </p>
          <p>
            Please start by choose or create a new issue. Now
            create a new fork of the OpenEngSB at Github (if you've
            not done already so; otherwise this is explained <a
            class="link" href="http://help.github.com/forking/"
            target="_top">here</a>). Clone your fork, but also add
            the original openengsb repository as remote repository.
            This is also explained <a class="link"
            href="http://help.github.com/forking/"
            target="_top">here</a>. In difference to the Github
            tutorial please do not commit to the master, but rather
            create a new branch named
            OPENENGSB-ISSUE_NUMBER_YOURE_WORKING_ON. Optionally
            append /DESCRIPTION (e.g.
            OPENENGSB-586/mvn-eclipse-download-fix).
          </p>
          <div class="literallayout">
            <p>
              <span
              class="command"><strong>git checkout</strong></span> <code
               class="option">-b</code> <em
              class="replaceable"><code>OPENENGSB-ISSUE origin/BRANCH</code></em>
            </p>
          </div>
          <p>
            <em class="replaceable"><code>BRANCH</code></em> is the
            point where you like to start your work. If you like to
            contribute to the head this will be typically
            integration, but could also be a commit or a complete
            different branch. This is the OpenEngSB schema for
            naming branches and we'll really appreciate if you work
            according to it. Please notice that each commit should
            include [OPENENGSB-ISSUEID] at the beginning of its
            message.
          </p>
          <p>
            Now hack, commit and push as you like. If you think
            you're finished invoke <span
            class="command"><strong>mvn
            openengsb:prePush</strong></span> (or use <code
            class="filename">etc/scripts/pre-push.sh</code>) to
            validate your code, tests, licenses and so on. If
            everything works without errors create a Github pull
            request on Github, between the master or integration
            branch (depending on where you've created your branch
            on) and your branch. This process is also explained at
            help.github.com (<a class="link"
            href="http://help.github.com/pull-requests/"
            target="_top">here</a>). In addition it will help if
            you add the link to the pull request to the issue
            you're working on. A commiter will tend as fast as
            possible to your request and give feedback or directly
            merge your commit into the integration/master branch.
          </p>
        </div>
        <div class="section" title="39.6.5. Commiter Workflow">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title">
                  <a id="d0e2928"
                  name="d0e2928"></a>39.6.5. Commiter Workflow
                </h3>
              </div>
            </div>
          </div>
          <p>
            The only difference between a commiter and a
            contributor is that he has to watch and merge branches
            of contributors. If a commiter is happy with the work
            of a contributor. Comments and other discussions should
            be done on the mailing list and/or via the Github
            review system and pull requests.
          </p>
          <p>
            In addition commiters typically do not create forks but
            rather create their branches directly in the OpenEngSB
            repository. This is done because the repository is
            covered by the OpenEngSB build server and in addition
            keeps everything closer together.
          </p>
        </div>
        <div class="section" title="39.6.6. Additional Rules">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title">
                  <a id="d0e2935"
                  name="d0e2935"></a>39.6.6. Additional Rules
                </h3>
              </div>
            </div>
          </div>
          <div class="orderedlist">
            <ol class="orderedlist" type="1">
              <li class="listitem">
                <p>
                  (Contributor/Committer) All development is done
                  in branches (also of the core developers) One
                  exception to this rule exists: Small fixes and
                  maintenance work which is NOT related to a new
                  feature and does not exceed 2 commits should be
                  cherry-picked into the master directly.
                </p>
              </li>
              <li class="listitem">
                <p>
                  (Contributor/Committer) Rebase is <span
                  class="emphasis"><em>not</em></span> dead
                  (although we use merges). <span
                  class="emphasis"><em>Never ever</em></span>
                  commit local merges. You still should develop in
                  local dev branches and rebasing them with the
                  upstream branches. Only if nobody else has access
                  to your fork you can be sure that nobody changed
                  it!
                </p>
              </li>
              <li class="listitem">
                <p>
                  (Committer) If merging branches from forked
                  repositories ALWAYS use the <code
                  class="option">--no-ff</code> option for merges;
                  this will always create a merge node (even if a
                  fast-forward merge is possible). This is required
                  to create a clear and consistent history!
                </p>
              </li>
              <li class="listitem">
                <p>
                  Avoid backward merges from the master and keep
                  feature branches small! This does not mean that
                  backward merges from master are forbidden. But
                  they should not be done too often, since they
                  create a history not easy to read. Please use the
                  method described on this page (with <code
                  class="option">--no-ff</code> <code
                  class="option">--no-commit</code>) to reduce the
                  number of merge nodes.
                </p>
              </li>
              <li class="listitem">
                <p>
                  Use <span
                  class="emphasis"><em>meaningful</em></span>
                  feature branch names. Using the merge history in
                  the master you can easily follow the development
                  of features. But this requires (maybe long) good
                  names! In addition, always start with
                  OPENENGSB-NUMBER of the issue you're working on.
                  Try to always do work based on issues. If no
                  issue covers what you're doing create one.
                </p>
              </li>
            </ol>
          </div>
        </div>
      </div>
      <div class="section" title="39.7. Useful Tools">
        <div class="titlepage">
          <div>
            <div>
              <h2 class="title" style="clear: both">
                <a id="developer.quickstart.tools"
                name="developer.quickstart.tools"></a>39.7. Useful
                Tools
              </h2>
            </div>
          </div>
        </div>
        <div class="section"
        title="39.7.1. openengsb-maven-plugin">
          <div class="titlepage">
            <div>
              <div>
                <h3 class="title">
                  <a id="developer.quickstart.tools.mavenplugin"
                  name="developer.quickstart.tools.mavenplugin"></a>39.7.1. openengsb-maven-plugin
                </h3>
              </div>
            </div>
          </div>
          <p>
            The openengsb-maven-plugin is a plugin for Apache
            Maven, intended to simplify various activities
            (creating domains or connectors, building a release
            artifact of the whole project etc.) when developing
            based on the OpenEngSB.
          </p>
          <div class="section"
          title="39.7.1.1. Configuring the openengsb-maven-plugin for your project">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title">
                    <a id="d0e2983"
                    name="d0e2983"></a>39.7.1.1. Configuring the
                    openengsb-maven-plugin for your project
                  </h4>
                </div>
              </div>
            </div>
            <p>
              To use the openengsb-maven-plugin in your project add
              the following configuration to your project's
              pom.xml:
            </p>
<pre xml:space="preserve" class="programlisting">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd"&gt;
  ...
  &lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.openengsb&lt;/groupId&gt;
        &lt;artifactId&gt;openengsb-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;${openengsb.maven.plugin.version}&lt;/version&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
  &lt;/build&gt;
  ...
&lt;/project&gt;       
       
</pre>
            <p>
              The plugin can now be invoked via <span
              class="command"><strong>mvn
              openengsb:&lt;goal&gt;</strong></span>
            </p>
          </div>
          <div class="section"
          title="39.7.1.2. Purpose of the openengsb-maven-plugin">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title">
                    <a id="d0e2995"
                    name="d0e2995"></a>39.7.1.2. Purpose of the
                    openengsb-maven-plugin
                  </h4>
                </div>
              </div>
            </div>
            <p>
              The purpose of the OpenEngSB Maven Plugin is to
              provide additional useful goals for the development
              of the OpenEngSB itself and all projects which base
              on the OpenEngSB. It helps in various goals starting
              in assembling, checkstyle, license checking and many
              other various goals which would otherwise require to
              duplicate tons of version (and manage it in addition)
              between the OpenEngSB and projects which are based on
              the OpenEngSB.
            </p>
          </div>
          <div class="section"
          title="39.7.1.3. Changing the default configuration of the mojos">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title">
                    <a id="d0e3000"
                    name="d0e3000"></a>39.7.1.3. Changing the
                    default configuration of the mojos
                  </h4>
                </div>
              </div>
            </div>
            <p>
              Currently the default configurations can not be
              changed or adapted in the OpenEngSB plugin. This
              means that all changes and adaptions have to be made
              directly in the openengsb-maven-plugin. This
              situation is not ideal. The version 1.6.0 of the
              plugin will tackle this drawback.
            </p>
          </div>
          <div class="section" title="39.7.1.4. Available Goals">
            <div class="titlepage">
              <div>
                <div>
                  <h4 class="title">
                    <a id="d0e3005"
                    name="d0e3005"></a>39.7.1.4. Available Goals
                  </h4>
                </div>
              </div>
            </div>
            <p>
              <span
              class="command"><strong>assemble</strong></span> or
              <code class="filename">etc/scripts/assemble.sh</code>
            </p>
            <p>
              Installs the OpenEngSB and skips tests. Furthermore a
              <span class="emphasis"><em>nightly</em></span>
              profile is activated if available in your poms.
            </p>
            <p>
              <span class="command"><strong>eclipse</strong></span>
              or <code
              class="filename">etc/scripts/eclipse.sh</code>
            </p>
            <p>
              Generates eclipse configuration file for the module
              where it is invoked from and all submodules. The
              generated eclipse projects are also configured to use
              the checkstyle rules shipped with the plugin (see
              checkstyle mojo).
            </p>
            <p>
              <span
              class="command"><strong>checkstyle</strong></span>
            </p>
            <p>
              Performs a Checkstyle check of the project. The
              checkstyle configuration file which is used for the
              check can be found <a class="link"
              href="https://github.com/openengsb/openengsb-maven-plugin/blob/master/src/main/resources/checkstyle/checkstyle.xml"
               target="_top">here</a>. We ship this configuration
              file with the plugin (and changes need to be done
              there) because we think it may be useful for other
              OpenEngSB related projects. Setting up eclipse
              projects with configured checkstyle becomes very easy
              that way (simply mvn openengsb:eclipse).
            </p>
            <p>
              <span
              class="command"><strong>genConnector</strong></span>
              or <code
              class="filename">etc/scripts/gen-connector.sh</code>
              (For additional info how to create a connector see <a
              class="xref"
              href="developer.howto.internal.connector.html"
              title="Chapter 40. How To Create an Internal Connector">Chapter 40,
              <i>How To Create an Internal Connector</i></a>)
            </p>
            <p>
              Guides interactively through the creation of a
              connector and generates the artifact via the
              connector archetype.
            </p>
            <p>
              <span
              class="command"><strong>genDomain</strong></span> or
              <code
              class="filename">etc/scripts/gen-domain.sh</code>
              (For additional info how to create a domain see <a
              class="xref"
              href="developer.howto.internal.domain.html"
              title="Chapter 41. How To Create an Internal Domain">Chapter 41,
              <i>How To Create an Internal Domain</i></a>)
            </p>
            <p>
              Guides interactively through the creation of a domain
              and generates the artifact via the domain archetype.
            </p>
            <p>
              <a id="licenseCheck" name="licenseCheck"></a> <span
              class="command"><strong>licenseCheck</strong></span>
              or <code
              class="filename">etc/scripts/license-check.sh</code>
            </p>
            <p>
              Performs a check if appropriate license headers are
              available in every source file. The licenseCheck mojo
              wraps the com.mycila.maven-license-plugin. A large
              part of the default behavior of this mojo can be
              changed in <code
              class="filename">src/main/resources/license/licenseConfig.xml</code>.
              See <a class="link"
              href="http://code.google.com/p/maven-license-plugin/wiki/Configuration#maven-license-plugin_configuration_options"
               target="_top">this site</a> for available
              configuration options. The openengsb-maven-plugin
              needs to be reinstalled after changing its default
              behavior.
            </p>
            <p>
              <span class="emphasis"><em>NOTE: pom.xml files are
              excluded from license check</em></span>
            </p>
            <p>
              Parameters:
            </p>
            <div class="itemizedlist">
              <ul class="itemizedlist" type="disc">
                <li class="listitem">
                  <p>
                    <span
                    class="emphasis"><em>additionalExcludes</em></span>
                  </p>
                  <p>
                    Defines path to a file where each line
                    represents a pattern which files to exclude
                    from license check or license format
                    (additionally to the default excludes).
                  </p>
                </li>
              </ul>
            </div>
            <p>
              <span
              class="command"><strong>licenseFormat</strong></span>
              or <code
              class="filename">etc/scripts/license-format.sh</code>
            </p>
            <p>
              Adds a license header to files where the license
              header is missing. Regarding the configuration for
              this mojo the same applies as for licenseCheck.
            </p>
            <p>
              <span class="emphasis"><em>NOTE: pom.xml files are
              excluded from license format</em></span>
            </p>
            <p>
              Parameters:
            </p>
            <div class="itemizedlist">
              <ul class="itemizedlist" type="disc">
                <li class="listitem">
                  <p>
                    <span
                    class="emphasis"><em>additionalExcludes</em></span>
                  </p>
                  <p>
                    see description of <a class="link"
                    href="developer.quickstart.html#licenseCheck">licenseCheck</a>
                  </p>
                </li>
              </ul>
            </div>
            <p>
              <span class="command"><strong>prePush</strong></span>
              or <code
              class="filename">etc/scripts/pre-push.sh</code>
            </p>
            <p>
              Builds and installs the openengsb, checks for license
              headers, performs a Checkstyle check and runs the
              integration tests.
            </p>
            <p>
              Parameters:
            </p>
            <div class="itemizedlist">
              <ul class="itemizedlist" type="disc">
                <li class="listitem">
                  <p>
                    <span
                    class="emphasis"><em>additionalExcludes</em></span>
                  </p>
                  <p>
                    see description of <a class="link"
                    href="developer.quickstart.html#licenseCheck">licenseCheck</a>
                  </p>
                </li>
              </ul>
            </div>
            <p>
              <span
              class="command"><strong>provision</strong></span> or
              <code class="filename">etc/scripts/run.sh</code> /
              <code class="filename">etc/scripts/quickrun.sh</code>
            </p>
            <p>
              Equivalent to execute karaf or karaf.bat per hand
              after build by mvn clean install in a (typically)
              assembly directory.
            </p>
            <p>
              Parameters:
            </p>
            <div class="itemizedlist">
              <ul class="itemizedlist" type="disc">
                <li class="listitem">
                  <p>
                    <span
                    class="emphasis"><em>provisionPathUnix</em></span>
                  </p>
                  <p>
                    This setting should be done in the one of the
                    assembly folders and have to point to the final
                    directory where the karaf system, etc configs
                    and so on consist.
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    <span
                    class="emphasis"><em>provisionExecutionPathUnix</em></span>
                  </p>
                  <p>
                    The path to the executable in the unix archive
                    file
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    <span
                    class="emphasis"><em>additionalRequiredExecutionPathUnix</em></span>
                  </p>
                  <p>
                    Sometimes it's required that some executable
                    files, provided in <span
                    class="emphasis"><em>provisionExecutionPathUnix</em></span>
                    execute other files which have to made
                    executable to work correctly on themselves.
                    Those files should be specified here.
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    <span
                    class="emphasis"><em>provisionPathWindows</em></span>
                  </p>
                  <p>
                    This setting should be done in the one of the
                    assembly folders and have to point to the final
                    directory where the karaf system, etc configs
                    and so on consist.
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    <span
                    class="emphasis"><em>provisionExecutionPathWindows</em></span>
                  </p>
                  <p>
                    The path to the executable in the windows
                    archive file
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    <span
                    class="emphasis"><em>additionalRequiredExecutionPathWindows</em></span>
                  </p>
                  <p>
                    Sometimes it's required that some executable
                    files, provided in <span
                    class="emphasis"><em>provisionExecutionPathWindows</em></span>
                    execute other files which have to made
                    executable to work correctly on themselves.
                    Those files should be specified here.
                  </p>
                </li>
              </ul>
            </div>
            <p>
              These parameters are typically configured in the pom
              of your assembly project (<code
              class="filename">/assembly/pom.xml</code> for the
              OpenEngSB)).
            </p>
            <p>
              <span
              class="command"><strong>pushVersion</strong></span>
              or <code
              class="filename">etc/scripts/push-version.sh</code>
            </p>
            <p>
              Updates the development version.
            </p>
            <p>
              Parameters:
            </p>
            <div class="itemizedlist">
              <ul class="itemizedlist" type="disc">
                <li class="listitem">
                  <p>
                    <span
                    class="emphasis"><em>developmentVersion</em></span>
                  </p>
                  <p>
                    The new SNAPSHOT version.
                  </p>
                </li>
              </ul>
            </div>
            <p>
              <span
              class="command"><strong>releaseNightly</strong></span>
              or <code
              class="filename">etc/scripts/release-nightly.sh</code>
            </p>
            <p>
              Mojo to perform nightly releases. This mojo activates
              the <span class="emphasis"><em>nightly</em></span>
              profile in the project, where you can put your
              additional configuration for nightly releases (To see
              what these profiles can be necessary for please read
              the descript of the other release mojos).
            </p>
            <p>
              <span
              class="command"><strong>release&lt;XXX&gt;</strong></span>
              (You can find a detailed description of the OpenEngSB
              release process in <a class="xref"
              href="developer.release.html"
              title="Chapter 43. Release and Release Process">Chapter 43,
              <i>Release and Release Process</i></a>)
            </p>
            <p>
              The release&lt;XXX&gt; mojos (except Nightly) wrap
              the <a class="link"
              href="http://code.google.com/p/maven-license-plugin/"
              target="_top">maven-license-plugin</a>, basically
              just invoking <code class="literal">mvn
              release:prepare</code> and then <code
              class="literal">mvn release:perforn</code> with some
              useful default configuration which can be reused for
              other projects related to the openengsb. These mojos
              perform a release and activate the <span
              class="emphasis"><em>&lt;XXX&gt;</em></span> profile.
              These release profiles are important and are required
              to ..
            </p>
            <div class="itemizedlist">
              <ul class="itemizedlist" type="disc">
                <li class="listitem">
                  <p>
                    .. select the appropriate passphrase for the
                    maven release repository from your <code
                    class="filename">settings.xml</code>. For
                    additional information on this topic see <a
                    class="xref"
                    href="developer.release.html#developer.release.configuremaven"
                     title="43.3. Configure Maven">Section 43.3, “
                    Configure Maven”</a>.
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    .. set links depending on the release type. For
                    examples please see the profiles in <a
                    class="link"
                    href="https://github.com/openengsb/openengsb/blob/master/pom.xml"
                     target="_top">the pom</a>
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    .. configure distribution management of the
                    project site, depending on the release type.
                    For examples see profiles in <a class="link"
                    href="https://github.com/openengsb/openengsb/blob/master/docs/homepage/pom.xml"
                     target="_top">docs/homepage/pom</a>
                  </p>
                </li>
              </ul>
            </div>
            <p>
              Parameters:
            </p>
            <div class="itemizedlist">
              <ul class="itemizedlist" type="disc">
                <li class="listitem">
                  <p>
                    <span
                    class="emphasis"><em>connectionUrl</em></span>
                  </p>
                  <p>
                    URL to your SCM repository (e.g.
                    scm:git:file://~/openengsb). During the release
                    process changes (version updates, etc) are
                    commited into your SCM.
                  </p>
                </li>
              </ul>
            </div>
            <p>
              Goals:
            </p>
            <div class="itemizedlist">
              <ul class="itemizedlist" type="disc">
                <li class="listitem">
                  <p>
                    <span
                    class="command"><strong>releaseFinal</strong></span>
                    or <code
                    class="filename">etc/scripts/release-final.sh</code>
                  </p>
                  <p>
                    profile = <span
                    class="emphasis"><em>final</em></span>
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    <span
                    class="command"><strong>releaseMilestone</strong></span>
                    or <code
                    class="filename">etc/scripts/release-milestone.sh</code>
                  </p>
                  <p>
                    profile = <span
                    class="emphasis"><em>milestone</em></span>
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    <span
                    class="command"><strong>releaseRC</strong></span>
                    or <code
                    class="filename">etc/scripts/release-rc.sh</code>
                  </p>
                  <p>
                    profile = <span
                    class="emphasis"><em>rc</em></span>
                  </p>
                </li>
                <li class="listitem">
                  <p>
                    <span
                    class="command"><strong>releaseSupport</strong></span>
                    or <code
                    class="filename">etc/scripts/release-support.sh</code>
                  </p>
                  <p>
                    profile = <span
                    class="emphasis"><em>support</em></span>
                  </p>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div xmlns:fo="http://www.w3.org/1999/XSL/Format"
    class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td width="40%" align="left">
            <a accesskey="p" href="developer.manual.html">Prev</a> 
          </td>
          <td width="20%" align="center">
            <a accesskey="h" href="openengsb-manual.html">Home</a>
          </td>
          <td width="40%" align="right">
             <a accesskey="n"
            href="developer.howto.internal.connector.html">Next</a>
          </td>
        </tr>
        <tr>
          <td width="40%" align="left" valign="top">
            Part VII. OpenEngSB Commiters &amp; Contributors 
          </td>
          <td width="20%" align="center">
            <span style="color:white;font-size:85%;"><a
            href="http://openengsb.org/"
            title="OpenEngSB Community">OpenEngSB
            Community</a></span>
          </td>
          <td width="40%" align="right" valign="top">
             Chapter 40. How To Create an Internal Connector
          </td>
        </tr>
      </table>
    </div>
  </body>
</html>
