<!--

    Licensed to the Austrian Association for Software Tool Integration (AASTI)
    under one or more contributor license agreements. See the NOTICE file
    distributed with this work for additional information regarding copyright
    ownership. The AASTI licenses this file to you under the Apache License,
    Version 2.0 (the "License"); you may not use this file except in compliance
    with the License. You may obtain a copy of the License at

        http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.

-->

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Sep 17, 2011 -->
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>
    
    
    
      Chapter 8. HowTo - Create a connector for an already existing
      domain for the OpenEngSB
    </title>
    <style type="text/css" media="all">
      @import url("../css/maven-base.css");
      @import url("../css/maven-theme.css");
      @import url("../css/site.css");

            
      <!--[if IE]>
      @import url("../css/site-ie-fixes.css");
      <![endif]-->
    </style>

        <!--[if IE]><link rel="stylesheet" href="../css/site-ie-fixes.css" type="text/css" media="all" /><![endif]-->
    <link rel="icon" type="image/x-icon" href="../images/openengsb.ico" />
    <link rel="shortcut icon" type="image/x-icon" href="../images/openengsb.ico" />
    <link rel="stylesheet" href="../css/print.css" type="text/css" media="print" />
        <meta name="Date-Revision-yyyymmdd" content="20110917" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
                                                    
<script type="text/javascript">var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-17453231-1']);
        _gaq.push(['_trackPageview']);

        (function() {
          var ga = document.createElement('script'); ga.type =
          'text/javascript'; ga.async = true;
          ga.src = ('https:' == document.location.protocol ? 'https://ssl' :
          'http://www') + '.google-analytics.com/ga.js';
          var s = document.getElementsByTagName('script')[0];
          s.parentNode.insertBefore(ga, s);
        })();</script>
                    </head>
  <body class="composite">
<div id="header">
    <div id="banner">
                  <span id="bannerLeft">
                                                <img src="../images/openengsb_small.png" alt="" />
                </span>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                                        <div class="xleft">
        Last Published: 2011-09-17
                  &nbsp;| Version: 2.0.0-SNAPSHOT "Qualified Q"
                      </div>
            <div class="xright">            <a href="http://openengsb.org/" class="externalLink" target="_blank">Final Release</a>
            |
                <a href="http://openengsb.org/milestone" class="externalLink" target="_blank">Milestone Release</a>
            |
                <a href="http://openengsb.org/nightly" class="externalLink" target="_blank">Nightly Release</a>
              
                              </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
</div>   
<div id="body">
	<div id="content">
    <div id="leftColumn">
      <div id="navcolumn">
             
                                                        <div class="menuItem"><h5>OpenEngSB</h5></div>
                  <ul>
                  <li class="none">
                  <a href="../index.html">Welcome</a>
            </li>
                  <li class="none">
                  <a href="../about.html">What is OpenEngSB?</a>
            </li>
                  <li class="none">
                  <a href="../downloads.html">Downloads</a>
            </li>
                  <li class="none">
                  <a href="https://github.com/openengsb/openengsb/raw/master/CHANGELOG.md" class="externalLink" target="_blank">Changelog</a>
            </li>
                  <li class="none">
                  <a href="https://github.com/openengsb/openengsb/blob/master/KNOWN_ISSUES.md" class="externalLink" target="_blank">Known Issues</a>
            </li>
                  <li class="none">
                  <a href="../sponsors.html">Sponsors</a>
            </li>
                  <li class="none">
                  <a href="../subprojects.html">Subprojects</a>
            </li>
          </ul>
                       <div class="menuItem"><h5>Quickstart</h5></div>
                  <ul>
                  <li class="none">
                  <a href="../docbook/howto.setup.html">Installation</a>
            </li>
                  <li class="none">
                  <a href="../docbook/howto.logging.html">Connectors and Domains</a>
            </li>
                  <li class="none">
                  <a href="../docbook/howto.contexteditor.html">Events</a>
            </li>
          </ul>
                       <div class="menuItem"><h5>Documentation</h5></div>
                  <ul>
                  <li class="none">
                  <a href="../manual/index.html">Manual</a>
            </li>
                  <li class="none">
                  <a href="../reference/faq.html">FAQ</a>
            </li>
                  <li class="none">
                  <a href="../reference/additional.html">Articles</a>
            </li>
                  <li class="none">
                  <a href="http://www.youtube.com/user/cdflexvideo" class="externalLink" target="_blank">Youtube Channel</a>
            </li>
          </ul>
                       <div class="menuItem"><h5>Community</h5></div>
                  <ul>
                  <li class="none">
                  <a href="../community/mailinglists.html">Mailing Lists</a>
            </li>
                  <li class="none">
                  <a href="../community/irc.html">IRC Channels</a>
            </li>
                  <li class="none">
                  <a href="http://twitter.com/openEngSB" class="externalLink" target="_blank">Twitter</a>
            </li>
                  <li class="none">
                  <a href="http://www.facebook.com/group.php?gid=208312030232" class="externalLink" target="_blank">Facebook</a>
            </li>
          </ul>
                       <div class="menuItem"><h5>Development</h5></div>
                  <ul>
                  <li class="none">
                  <a href="../contribution.html">Contribution</a>
            </li>
                  <li class="none">
                  <a href="../source-repository.html">Source</a>
            </li>
                  <li class="none">
                  <a href="../issue-tracking.html">Issues</a>
            </li>
                  <li class="none">
                  <a href="../integration.html">CI</a>
            </li>
                  <li class="none">
                  <a href="../team-list.html">Team</a>
            </li>
          </ul>
                   
                                    </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        
  
  
    
      
      
    
    
      
        
          
            <div class="title"><h2 class="title">
              <a name="howto.connector" id="howto.connector"></a>Chapter&#xa0;8.&#xa0;HowTo - Create
              a connector for an already existing domain for the
              OpenEngSB
            <a name="Chapter8.HowTo_-_Create______________a_connector_for_an_already_existing_domain_for_the______________OpenEngSB"></a></h2>
          
        
      
      
        
          
            
              </div><div class="title" style="clear: both"><h2 class="title" style="clear: both">
                <a name="d0e529" id="d0e529"></a>8.1.&#xa0;Goal
              <a name="a8.1.Goal"></a></h2>
            
          
        
        <p>
          This tutorial describes examplary for all connectors the
          implementation of an email connector. The email connector
          implements the interface of the <a href="domains.notification.domain.html" class="xref" title="Chapter 28. Notification Domain">Chapter&#xa0;28,
          <i>Notification Domain</i></a>, which is already
          implemented in the OpenEngSB. Therefore, this tutorial
          describes the implementation of a connector for an
          already present domain.
        </p>
      
      
        
          
            
              </div><div class="title" style="clear: both"><h2 class="title" style="clear: both">
                <a name="d0e536" id="d0e536"></a>8.2.&#xa0;Time to
                Complete
              <a name="a8.2.Time_to________________Complete"></a></h2>
            
          
        
        <p>
          If you are already familiar with the OpenEngSB about 30
          minutes. If you are not familiar with the OpenEngSB
          please read this manual from the start or check the <a class="link" href="http://www.openengsb.org" target="_top">homepage</a> for further information.
        </p>
      
      
        
          
            
              </div><div class="title" style="clear: both"><h2 class="title" style="clear: both">
                <a name="d0e544" id="d0e544"></a>8.3.&#xa0;Prerequisites
              <a name="a8.3.Prerequisites"></a></h2>
            
          
        
        <p>
          Warning: This section is likely to change in the near
          future, as domains and connectors are currently separated
          from the rest of the OpenEngSB project. Currently
          connectors are developed together with the core system.
        </p>
        <p>
          For information about how to get started as contributor
          to the OpenEngSB project and how to get the current
          OpenEngSB source please read the contributor section of
          the manual: <a href="developer.manual.html" class="xref" title="Part VII. OpenEngSB Commiters & Contributors">Part&#xa0;VII,
          &#x201c;OpenEngSB Commiters &amp; Contributors&#x201d;</a>.
        </p>
      
      
        
          
            
              </div><div class="title" style="clear: both"><h2 class="title" style="clear: both">
                <a name="d0e553" id="d0e553"></a>8.4.&#xa0;Step 1 - Use
                the archetype
              <a name="a8.4.Step_1_-_Use________________the_archetype"></a></h2>
            
          
        
        <p>
          As the development of a connector is a recurring task the
          OpenEngSB developer team has prepared Maven archetypes
          and useful mojos, which provide support for the initial
          creation of a connector. A new connector can be created
          by invoking <span class="command"><b>mvn
          openengsb:genConnector</b></span> (or using <tt>/etc/scripts/gen-connector.sh</tt>)
        </p>
        <p>
          Go into the directory &quot;/connector&quot; and invoke the mojo
          from there. It generates the result in the directory from
          where it is started, therefore it is recommended to run
          it from the &quot;/connector&quot; directory. You can also run it
          from a different directory and copy the results into the
          &quot;/connector&quot; directory. Fill in the following values (if
          no input is provided the default value is kept):
        </p>
<div class="programlisting"><pre>
Domain Name (is domainname): notification
Domain Interface (is NotificationDomain):
Connector Name: email
Version (is 1.1.0-SNAPSHOT):
Project Name (is OpenEngSB :: Connector :: Email):
   
</pre></div>
        <p>
          Now the maven archetype is executed. It asks you to
          confirm the configuration:
        </p>
<div class="programlisting"><pre>
groupId: org.openengsb.connector
artifactId: openengsb-connector-email
version: 1.1.0-SNAPSHOT
package: org.openengsb.connector.email
connectorName: Email
connectorNameLC: email
domainArtifactId: openengsb-domain-notification
domainInterface: NotificationDomain
domainPackage: org.openengsb.domain.notification
name: OpenEngSB :: Connector :: Email
 Y: : y
   
</pre></div>
        <p>
          A project named &quot;email&quot; is created with the following
          structure:
        </p>
<div class="programlisting"><pre>
email
|
|---pom.xml
|
|---src
     |
     |---main
          |
          |---java
          |     |
          |     |---org
          |          |
          |          |---openengsb
          |                  |
          |                  |---connector
          |                          |
          |                          |---email
          |                                |
          |                                |---EmailServiceManager.java
          |                                |
          |                                |---internal
          |                                       |
          |                                       |---EmailServiceImpl.java
          |                                       |
          |                                       |---EmailServiceInstanceFactory.java
          |
          |---resources
                  |
                  |---META-INF
                  |      |
                  |      |---spring
                  |             |
                  |             |---email-context.xml
                  |
                  |---OSGI-INF
                          |
                          |---l10n
                               |
                               |---bundle.properties
                               |
                               |---bundle_de.properties
   
</pre></div>
        <p>
          All these artifacts will be covered during the
          implementation of the connector and explained in step 2
          of this tutorial.
        </p>
      
      
        
          
            
              </div><div class="title" style="clear: both"><h2 class="title" style="clear: both">
                <a name="d0e578" id="d0e578"></a>8.5.&#xa0;Step 2 - Add
                the dependencies
              <a name="a8.5.Step_2_-_Add________________the_dependencies"></a></h2>
            
          
        
        <p>
          Let's start with the dependencies. As the email connector
          will be based upon the javax mail libraries, we need to
          include dependencies for the OSGI versions of these
          artifacts into the pom file located at
          &quot;/provision/pom.xml&quot;. So we add this dependency to the
          dependencies section:
        </p>
<div class="programlisting"><pre>
    &lt;dependency&gt;
  &lt;groupId&gt;org.apache.servicemix.bundles&lt;/groupId&gt;
  &lt;artifactId&gt;org.apache.servicemix.bundles.javax.mail&lt;/artifactId&gt;
  &lt;version&gt;1.4.4&lt;/version&gt;
&lt;/dependency&gt;
    
   
</pre></div>
      
      
        
          
            
              </div><div class="title" style="clear: both"><h2 class="title" style="clear: both">
                <a name="d0e585" id="d0e585"></a>8.6.&#xa0;Step 3 -
                Configure the connector
              <a name="a8.6.Step_3_-________________Configure_the_connector"></a></h2>
            
          
        
        <p>
          To configure the connector as part of the OpenEngSB two
          more things are necessary. At first we have to add the
          connector to the modules section of its parent pom if it
          is not already present there. If you have run
          openengsb:genConnector in the &quot;connector&quot; directory this
          step should have already been performed automatically for
          you. To check or manually add the entry, open the file
          &quot;/connector/pom.xml&quot; and add the new connector to the
          modules section:
        </p>
<div class="programlisting"><pre>
  ...
&lt;modules&gt;
  &lt;module&gt;email&lt;/module&gt;
...
&lt;/modules&gt;
...
  
 
</pre></div>
        <p>
          The second step is necessary to configure Karaf
          correctly. Please open the file &quot;/assembly/pom.xml&quot; and
          add the following line:
        </p>
<div class="programlisting"><pre>
  ...
&lt;profile&gt;
  &lt;id&gt;release&lt;/id&gt;
  ...
     &lt;deployURLs&gt;
       ...
       scan-bundle:mvn:org.openengsb.connector/openengsb-connector-email/2.0.0-SNAPSHOT,
       ...
     &lt;/deployURLs&gt;
...
  
 
</pre></div>
      
      
        
          
            
              </div><div class="title" style="clear: both"><h2 class="title" style="clear: both">
                <a name="d0e596" id="d0e596"></a>8.7.&#xa0;Step 4 -
                Implement the connector
              <a name="a8.7.Step_4_-________________Implement_the_connector"></a></h2>
            
          
        
        <p>
          Now you can run the following command in the root folder
          of the OpenEngSB to create an eclipse project for the new
          connector:
        </p>
<div class="programlisting"><pre>
mvn openengsb:eclipse
</pre></div>
        <p>
          Now import the connector project into Eclipse and
          implement the email service by implementing the classes
          EmailServiceImpl.java and
          EmailServiceInstanceFactory.java. We won't go into detail
          about the actual mail implementation here, so we
          encapsulated the mailing functionality in a mail
          abstraction. While the class EmailServiceImpl is
          responsible for the realization of the domain interface,
          the factory is responsible for creating instances of the
          email service and for publishing the meta data necessary
          to configure an instance of the email service. These two
          classes are now explained in detail.
        </p>
<div class="programlisting"><pre>
package org.openengsb.connector.email.internal;

import org.openengsb.connector.email.internal.abstraction.MailAbstraction;
import org.openengsb.connector.email.internal.abstraction.MailProperties;
import org.openengsb.core.api.AliveState;
import org.openengsb.domain.notification.NotificationDomain;
import org.openengsb.domain.notification.model.Notification;
import org.osgi.framework.ServiceRegistration;

public class EmailServiceImpl implements NotificationDomain {

    private final String id;

    private final MailAbstraction mailAbstraction;
    private ServiceRegistration serviceRegistration;
    private final MailProperties properties;

    public EmailServiceImpl(String id, MailAbstraction mailAbstraction) {
        this.id = id;
        this.mailAbstraction = mailAbstraction;
        properties = mailAbstraction.createMailProperties();
    }

    /**
     * Perform the given notification, which defines message, recipient, subject and 
     * attachments.
     */
    @Override
    public void notify(Notification notification) {
        mailAbstraction.send(properties, notification.getSubject(), notification
                .getMessage(), notification.getRecipient());
    }

    /**
     * return the current state of the service,
     *
     * @see org.openengsb.core.api.AliveState
     */
    @Override
    public AliveState getAliveState() {
        AliveState aliveState = mailAbstraction.getAliveState();
        if (aliveState == null) {
            return AliveState.OFFLINE;
        }
        return aliveState;
    }

    public String getId() {
        return id;
    }

    public ServiceRegistration getServiceRegistration() {
        return serviceRegistration;
    }

    public void setServiceRegistration(ServiceRegistration serviceRegistration) {
        this.serviceRegistration = serviceRegistration;
    }

    public MailProperties getProperties() {
        return properties;
    }
}
 
</pre></div>
        <p>
          As you can see, without the mail specific stuff the
          implementation is quite straight forward. Simply
          implement the domain interface as well as the
          getAliveState() method, which is used to query to current
          status of a tool.
        </p>
<div class="programlisting"><pre>
 
package org.openengsb.connector.email.internal;

import java.util.HashMap;
import java.util.Map;

import org.openengsb.connector.email.internal.abstraction.MailAbstraction;
import org.openengsb.core.api.ServiceInstanceFactory;
import org.openengsb.core.api.descriptor.AttributeDefinition;
import org.openengsb.core.api.descriptor.ServiceDescriptor;
import org.openengsb.core.api.validation.MultipleAttributeValidationResult;
import org.openengsb.core.api.validation.MultipleAttributeValidationResultImpl;
import org.openengsb.domain.notification.NotificationDomain;

public class EmailServiceInstanceFactory implements
          ServiceInstanceFactory&lt;NotificationDomain, EmailServiceImpl&gt; {

    private final MailAbstraction mailAbstraction;

    public EmailServiceInstanceFactory(MailAbstraction mailAbstraction) {
        this.mailAbstraction = mailAbstraction;
    }

    private void setAttributesOnNotifier(Map&lt;String, String&gt; attributes, 
            EmailServiceImpl notifier) {

        if (attributes.containsKey(&quot;user&quot;)) {
            notifier.getProperties().setUser(attributes.get(&quot;user&quot;));
        }
        if (attributes.containsKey(&quot;password&quot;)) {
            notifier.getProperties().setPassword(attributes.get(&quot;password&quot;));
        }
        if (attributes.containsKey(&quot;prefix&quot;)) {
            notifier.getProperties().setPrefix(attributes.get(&quot;prefix&quot;));
        }
        if (attributes.containsKey(&quot;smtpAuth&quot;)) {
            notifier.getProperties().setSmtpAuth(Boolean.parseBoolean(attributes.
                    get(&quot;smtpAuth&quot;)));
        }
        if (attributes.containsKey(&quot;smtpSender&quot;)) {
            notifier.getProperties().setSender(attributes.get(&quot;smtpSender&quot;));
        }
        if (attributes.containsKey(&quot;smtpHost&quot;)) {
            notifier.getProperties().setSmtpHost(attributes.get(&quot;smtpHost&quot;));
        }
        if (attributes.containsKey(&quot;smtpPort&quot;)) {
            notifier.getProperties().setSmtpPort(attributes.get(&quot;smtpPort&quot;));
        }
    }

    /**
     * Called when the {@link #ServiceDescriptor} for the provided service is needed.
     *
     * The {@code builder} already has the id, service type and implementation type
     * set to defaults.
     */
    @Override
    public ServiceDescriptor getDescriptor(ServiceDescriptor.Builder builder) {
        builder.name(&quot;email.name&quot;).description(&quot;email.description&quot;);

        builder
            .attribute(buildAttribute(builder, &quot;user&quot;, &quot;username.outputMode&quot;, 
                    &quot;username.outputMode.description&quot;))
            .attribute(
                builder.newAttribute().id(&quot;password&quot;).name(&quot;password.outputMode&quot;)
                    .description(&quot;password.outputMode.description&quot;).defaultValue(&quot;&quot;)
                    .required().asPassword().build())
            .attribute(buildAttribute(builder, &quot;prefix&quot;, &quot;prefix.outputMode&quot;, 
                    &quot;prefix.outputMode.description&quot;))
            .attribute(
                builder.newAttribute().id(&quot;smtpAuth&quot;).name(&quot;mail.smtp.auth.outputMode&quot;)
                    .description(&quot;mail.smtp.auth.outputMode.description&quot;)
                    .defaultValue(&quot;false&quot;).asBoolean().build())
            .attribute(
                buildAttribute(builder, &quot;smtpSender&quot;, &quot;mail.smtp.sender.outputMode&quot;,
                    &quot;mail.smtp.sender.outputMode.description&quot;))
            .attribute(
                buildAttribute(builder, &quot;smtpPort&quot;, &quot;mail.smtp.port.outputMode&quot;,
                    &quot;mail.smtp.port.outputMode.description&quot;))
            .attribute(
                buildAttribute(builder, &quot;smtpHost&quot;, &quot;mail.smtp.host.outputMode&quot;,
                    &quot;mail.smtp.host.outputMode.description&quot;)).build();

        return builder.build();
    }

    private AttributeDefinition buildAttribute(ServiceDescriptor.Builder builder, 
            String id, String nameId, String descriptionId) {
        return builder.newAttribute().id(id).name(nameId).description(descriptionId)
            .defaultValue(&quot;&quot;).required().build();

    }
    
    /**
     * Called by the {@link AbstractServiceManager} when updated service attributes for
     * an instance are available. The attributes may only contain changed values and 
     * omit previously set attributes.
     *
     * @param instance the instance to update
     * @param attributes the new service settings
     */
    @Override
    public void updateServiceInstance(EmailServiceImpl instance, Map&lt;String,
            String&gt; attributes) {
        setAttributesOnNotifier(attributes, instance);
    }

    /**
     * The {@link AbstractServiceManager} calls this method each time a new service 
     * instance has to be started.
     *
     * @param id the unique id this service has been assigned.
     * @param attributes the initial service settings
     */
    @Override
    public EmailServiceImpl createServiceInstance(String id, 
            Map&lt;String, String&gt; attributes) {
        EmailServiceImpl notifier = new EmailServiceImpl(id, mailAbstraction);
        setAttributesOnNotifier(attributes, notifier);
        return notifier;
    }

    /**
     * Validates if the service is correct before updating.
     */
    @Override
    public MultipleAttributeValidationResult updateValidation(EmailServiceImpl instance,
            Map&lt;String, String&gt; attributes) {
        return new MultipleAttributeValidationResultImpl(true, 
                new HashMap&lt;String, String&gt;());
    }

    /**
     * Validates if the attributes are correct before creation.
     */
    @Override
    public MultipleAttributeValidationResult createValidation(String id, 
            Map&lt;String, String&gt; attributes) {
        return new MultipleAttributeValidationResultImpl(true, 
                new HashMap&lt;String, String&gt;());
    }
}

 
</pre></div>
        <p>
          The factory is more interesting with respect to the
          OpenEngSB. It is used to create and configure instances
          of the email service. Furthermore it is responsible for
          publishing which properties a mail notifier needs to be
          configured in a proper way. The &quot;getDescriptor&quot; method
          returns a service descriptor, which is created with the
          help of a builder. This service descriptor contains the
          properties a mail notifier needs. In this case things
          like user password, smtp server and so on. The
          &quot;updateServiceInstance&quot; method updates an already created
          instance of the mail service. Basically this means
          setting the properties, which are provided in the
          attributes map parameter (see &quot;setAttributesOnNotifier&quot;
          method). The &quot;createServiceInstance&quot; method is
          responsible for the creation of a new email service. The
          methods &quot;updateValidation&quot; and &quot;createValidation&quot; are
          used to check properties before &quot;updateServiceInstance&quot;
          or &quot;createServiceInstance&quot; are called. As the mail
          service does not want to check properties beforehand it
          simply returns that all values are OK.
        </p>
      
      
        
          
            
              </div><div class="title" style="clear: both"><h2 class="title" style="clear: both">
                <a name="d0e613" id="d0e613"></a>8.8.&#xa0;Step 5 -
                Spring Setup and Internationalization
              <a name="a8.8.Step_5_-________________Spring_Setup_and_Internationalization"></a></h2>
            
          
        
        <p>
          The Maven archetype already created the spring setup for
          the email service at src/main/resources/META-INF/spring.
          If properties or constructor arguments are needed for the
          service factory, they have to be defined in the spring
          setup here. In our case the mail abstraction has to be
          injected as constructor argument on the creation of the
          email service factory.
        </p>
        <p>
          With regards to internationalization it is necessary to
          add a name and a description for each property used in
          the service descriptor (see email service factory). The
          properties files for English and German are also already
          created by the Maven archetype and can be found at
          &quot;src/main/resources/OSGI-INF/l10n/&quot;. In our case the
          bundle.properties file contains the following entries:
        </p>
<div class="programlisting"><pre>
email.name=Email Notification
email.description=This is a Email Notification Service

username.outputMode = Username
username.outputMode.description = Specifies the username of the email account 

password.outputMode = Password
password.outputMode.description = Password of the specified user

prefix.outputMode = Prefix
prefix.outputMode.description = Subject prefix for all mails sent by this connector

mail.smtp.auth.outputMode = Authentification
mail.smtp.auth.outputMode.description = Specifies if the smtp authentication is on or off

mail.smtp.sender.outputMode = Sender Emailadress
mail.smtp.sender.outputMode.description = Specifies the Emailadress of the sender

mail.smtp.port.outputMode = SMTP Port
mail.smtp.port.outputMode.description = Specifies the Port for the smtp connection

mail.smtp.host.outputMode = SMTP Host
mail.smtp.host.outputMode.description = Specifies the SMTP Hostname
   
</pre></div>
        <p>
          As you can see each property is defined with name and
          description. The same entries can be found in the German
          properties file (bundle_de.properties) with German names
          and descriptions.
        </p>
      
      
        
          
            
              </div><div class="title" style="clear: both"><h2 class="title" style="clear: both">
                <a name="d0e624" id="d0e624"></a>8.9.&#xa0;Step 6 -
                Start the OpenEngSB with your Connector
              <a name="a8.9.Step_6_-________________Start_the_OpenEngSB_with_your_Connector"></a></h2>
            
          
        
        <p>
          After implementing and testing your connector locally you
          can try to start up the OpenEngSB with your new
          connector. Enter the following commands in the root
          directory of the OpenEngSB to build and start the
          OpenEngSB in development mode:
        </p>
<div class="programlisting"><pre>
mvn clean install
mvn openengsb:provision
   
</pre></div>
        <p>
          Now you can enter &quot;list&quot; into the karaf console to check
          whether your new connector was installed and started.
        </p>
      
      
        
          
            
              </div><div class="title" style="clear: both"><h2 class="title" style="clear: both">
                <a name="d0e633" id="d0e633"></a>8.10.&#xa0;Step 7 -
                Test the new connector
              <a name="a8.10.Step_7_-________________Test_the_new_connector"></a></h2>
            
          
        
        <p>
          Now you can use the OpenEngSB administration WebApp
          (available at <a class="link" href="http://localhost:8090/openengsb" target="_top">http://localhost:8090/openengsb</a>) to
          test your new connector. For more information about how
          to use the WebApp see <a class="link" href="http://openengsb.org/howto/howto_logging.html" target="_top">the How-to section</a>} of the the
          OpenEngSB homepage.
        </p>
      
    
    
      <hr />
      <table border="0" class="bodyTable" width="100%" summary="Navigation footer">
        <tr class="a">
          <td width="40%" align="left">
            <a href="howto.contexteditor.html">Prev</a>&#xa0;
          </td>
          <td width="20%" align="center">
            <a href="openengsb-manual.html">Home</a>
          </td>
          <td width="40%" align="right">
            &#xa0;<a href="howto.clientProject.html">Next</a>
          </td>
        </tr>
        <tr class="b">
          <td width="40%" align="left" valign="top">
            Chapter&#xa0;7.&#xa0;HowTo - Events with the OpenEngSB (Using the
            logging service)&#xa0;
          </td>
          <td width="20%" align="center">
            <span style="color:white;font-size:85%;"><a class="externalLink" href="http://openengsb.org/" title="OpenEngSB Community">OpenEngSB
            Community</a></span>
          </td>
          <td width="40%" align="right" valign="top">
            &#xa0;Chapter&#xa0;9.&#xa0;HowTo - Create a Client-Project for the
            OpenEngSB
          </td>
        </tr>
      </table>
    
  </div>

      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    </div>
</div>
    <div id="footer">
      <div class="xright">&#169;            2009-2011
                
                               - <a href="http://maven.apache.org/privacy-policy.html">Privacy Policy</a> <script type="text/javascript" src="http://www.ohloh.net/p/494725/widgets/project_thin_badge.js"></script></div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
