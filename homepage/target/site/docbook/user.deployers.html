<!--

    Licensed to the Austrian Association for Software Tool Integration (AASTI)
    under one or more contributor license agreements. See the NOTICE file
    distributed with this work for additional information regarding copyright
    ownership. The AASTI licenses this file to you under the Apache License,
    Version 2.0 (the "License"); you may not use this file except in compliance
    with the License. You may obtain a copy of the License at

        http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.

-->

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Sep 17, 2011 -->
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>
    
    
    
      Chapter 22. Deployer services
    </title>
    <style type="text/css" media="all">
      @import url("../css/maven-base.css");
      @import url("../css/maven-theme.css");
      @import url("../css/site.css");

            
      <!--[if IE]>
      @import url("../css/site-ie-fixes.css");
      <![endif]-->
    </style>

        <!--[if IE]><link rel="stylesheet" href="../css/site-ie-fixes.css" type="text/css" media="all" /><![endif]-->
    <link rel="icon" type="image/x-icon" href="../images/openengsb.ico" />
    <link rel="shortcut icon" type="image/x-icon" href="../images/openengsb.ico" />
    <link rel="stylesheet" href="../css/print.css" type="text/css" media="print" />
        <meta name="Date-Revision-yyyymmdd" content="20110917" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
                                                    
<script type="text/javascript">var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-17453231-1']);
        _gaq.push(['_trackPageview']);

        (function() {
          var ga = document.createElement('script'); ga.type =
          'text/javascript'; ga.async = true;
          ga.src = ('https:' == document.location.protocol ? 'https://ssl' :
          'http://www') + '.google-analytics.com/ga.js';
          var s = document.getElementsByTagName('script')[0];
          s.parentNode.insertBefore(ga, s);
        })();</script>
                    </head>
  <body class="composite">
<div id="header">
    <div id="banner">
                  <span id="bannerLeft">
                                                <img src="../images/openengsb_small.png" alt="" />
                </span>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                                        <div class="xleft">
        Last Published: 2011-09-17
                  &nbsp;| Version: 2.0.0-SNAPSHOT "Qualified Q"
                      </div>
            <div class="xright">            <a href="http://openengsb.org/" class="externalLink" target="_blank">Final Release</a>
            |
                <a href="http://openengsb.org/milestone" class="externalLink" target="_blank">Milestone Release</a>
            |
                <a href="http://openengsb.org/nightly" class="externalLink" target="_blank">Nightly Release</a>
              
                              </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
</div>   
<div id="body">
	<div id="content">
    <div id="leftColumn">
      <div id="navcolumn">
             
                                                        <div class="menuItem"><h5>OpenEngSB</h5></div>
                  <ul>
                  <li class="none">
                  <a href="../index.html">Welcome</a>
            </li>
                  <li class="none">
                  <a href="../about.html">What is OpenEngSB?</a>
            </li>
                  <li class="none">
                  <a href="../downloads.html">Downloads</a>
            </li>
                  <li class="none">
                  <a href="https://github.com/openengsb/openengsb/raw/master/CHANGELOG.md" class="externalLink" target="_blank">Changelog</a>
            </li>
                  <li class="none">
                  <a href="https://github.com/openengsb/openengsb/blob/master/KNOWN_ISSUES.md" class="externalLink" target="_blank">Known Issues</a>
            </li>
                  <li class="none">
                  <a href="../sponsors.html">Sponsors</a>
            </li>
                  <li class="none">
                  <a href="../subprojects.html">Subprojects</a>
            </li>
          </ul>
                       <div class="menuItem"><h5>Quickstart</h5></div>
                  <ul>
                  <li class="none">
                  <a href="../docbook/howto.setup.html">Installation</a>
            </li>
                  <li class="none">
                  <a href="../docbook/howto.logging.html">Connectors and Domains</a>
            </li>
                  <li class="none">
                  <a href="../docbook/howto.contexteditor.html">Events</a>
            </li>
          </ul>
                       <div class="menuItem"><h5>Documentation</h5></div>
                  <ul>
                  <li class="none">
                  <a href="../manual/index.html">Manual</a>
            </li>
                  <li class="none">
                  <a href="../reference/faq.html">FAQ</a>
            </li>
                  <li class="none">
                  <a href="../reference/additional.html">Articles</a>
            </li>
                  <li class="none">
                  <a href="http://www.youtube.com/user/cdflexvideo" class="externalLink" target="_blank">Youtube Channel</a>
            </li>
          </ul>
                       <div class="menuItem"><h5>Community</h5></div>
                  <ul>
                  <li class="none">
                  <a href="../community/mailinglists.html">Mailing Lists</a>
            </li>
                  <li class="none">
                  <a href="../community/irc.html">IRC Channels</a>
            </li>
                  <li class="none">
                  <a href="http://twitter.com/openEngSB" class="externalLink" target="_blank">Twitter</a>
            </li>
                  <li class="none">
                  <a href="http://www.facebook.com/group.php?gid=208312030232" class="externalLink" target="_blank">Facebook</a>
            </li>
          </ul>
                       <div class="menuItem"><h5>Development</h5></div>
                  <ul>
                  <li class="none">
                  <a href="../contribution.html">Contribution</a>
            </li>
                  <li class="none">
                  <a href="../source-repository.html">Source</a>
            </li>
                  <li class="none">
                  <a href="../issue-tracking.html">Issues</a>
            </li>
                  <li class="none">
                  <a href="../integration.html">CI</a>
            </li>
                  <li class="none">
                  <a href="../team-list.html">Team</a>
            </li>
          </ul>
                   
                                    </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        
  
  
    
      
      
    
    
      
        
          
            <div class="title"><h2 class="title">
              <a name="user.deployers" id="user.deployers"></a>Chapter&#xa0;22.&#xa0;Deployer
              services
            <a name="Chapter22.Deployer______________services"></a></h2>
          
        
      
      <p>
        The OpenEngSB supports file-based configuration through its
        deployer services. These services are constantly checking
        the &quot;config/&quot; directory for new/changed/deleted
        configuration files.
      </p>
      <p>
        If a new file is created, its configuration is loaded into
        the OpenEngSB. When the file changes the configuration is
        updated and when it is deleted the configuration is
        unloaded. Each deployer handles a different type of
        configuration file represented by different file name
        extensions. Details and structure of these files are
        covered in this section.
      </p>
      <p>
        It should be noted that the OpenEngSB itself uses deployer
        services for internal configuration. For this purpose the
        deployer services also listen for configuration files in
        &quot;etc/&quot;. These config files however are essential for the
        correct operation of the OpenEngSB and should not be
        modified.
      </p>
      
        
          
            
              </div><div class="title" style="clear: both"><h2 class="title" style="clear: both">
                <a name="user.deployers.connector" id="user.deployers.connector"></a>22.1.&#xa0;Connector
                configuration
              <a name="a22.1.Connector________________configuration"></a></h2>
            
          
        
        <p>
          The connector deployer service creates, updates or
          deletes instances of connector services.
        </p>
        <p>
          All files in the &quot;config/&quot; directory with the extension
          &quot;.connector&quot; are handled by the connector deployer. The
          .connector files have to be simple property files
          containing the configuration properies of a certain
          connector service and their values. Those files have to
          follow a specific form to be read correctly. First of all
          they follow the pattern:
          &quot;domain+connector+instance.connector&quot;. Here &quot;domain&quot;
          stands for the domainId to use (e.g. notification),
          &quot;connector&quot; for the name of the connector which should be
          created in the domain (e.g. mail) and &quot;instance&quot; is a
          unique id per connector. A simple UUID or a unique
          counter should do here. The content of the file is
          two-fold. On one hand you can configure the properties of
          a service directly using
          property.NAME_OF_THE_PROPERTY=VALUE_OF_THE_PROPERTY (for
          example property.location.root=notificaiton). Those
          properties are directly added to the properties of a
          service. On the other hand you have to configure the
          connectors themselves. Therefore you have the
          attribute.NAME_OF_THE_CONNECTOR_ATTRIBUTE=VALUE_TO_ASSIGN.
          Throwing this together you can end with a connector file
          as shown next.
        </p>
        
          <a name="d0e1873" id="d0e1873"></a>
          <p class="title">
            <b>Example&#xa0;22.1.&#xa0;Example .connector configuration file
            for the email connector</b>
          </p>
          
            <p>
              The email connector is regsitered in the root context
              with the name notify. The file name has to be
              notificaiton+email+dc110658-c6be-4470-8b41-6db154301791.connector
              which represents a connector instance with the
              instanceId dc110658-c6be-4470-8b41-6db154301791 of
              the eemail connector in the notificaiton domain.
            </p>
<div class="programlisting"><pre>
property.location.root=notify
attribute.user = user
attribute.password = test
attribute.prefix = [test]
attribute.smtpAuth = true
attribute.smtpSender = test@test.com
attribute.smtpPort = 25
attribute.smtpHost = smtp.testserver.com
     
</pre></div>
          
        <br class="example-break" />
        
          
            
              
                <div class="title"><h3 class="title">
                  <a name="user.deployers.connector.root" id="user.deployers.connector.root"></a>22.1.1.&#xa0;Root
                  services
                <a name="a22.1.1.Root__________________services"></a></h3>
              
            
          
          <p>
            Note, that root services (ie. connector services
            deployed from the &quot;etc/&quot; directory) are deployed with a
            lower service ranking. This is done so that normal
            services are preferred when matching services.
          </p>
        
      
      
        
          
            
              </div></div><div class="title" style="clear: both"><h2 class="title" style="clear: both">
                <a name="user.deployers.context" id="user.deployers.context"></a>22.2.&#xa0;Context
                configuration
              <a name="a22.2.Context________________configuration"></a></h2>
            
          
        
        <p>
          The context deployer service creates contexts according
          to any .context files found in the config directory. The
          context id is the file-name (without the extension). The
          file content will be ignored. So for example
        </p>
      
    
    
      <hr />
      <table border="0" class="bodyTable" width="100%" summary="Navigation footer">
        <tr class="a">
          <td width="40%" align="left">
            <a href="developer.plugins.html">Prev</a>&#xa0;
          </td>
          <td width="20%" align="center">
            <a href="openengsb-manual.html">Home</a>
          </td>
          <td width="40%" align="right">
            &#xa0;<a href="developer.client.html">Next</a>
          </td>
        </tr>
        <tr class="b">
          <td width="40%" align="left" valign="top">
            Chapter&#xa0;21.&#xa0;External Domains and Connectors&#xa0;
          </td>
          <td width="20%" align="center">
            <span style="color:white;font-size:85%;"><a class="externalLink" href="http://openengsb.org/" title="OpenEngSB Community">OpenEngSB
            Community</a></span>
          </td>
          <td width="40%" align="right" valign="top">
            &#xa0;Chapter&#xa0;23.&#xa0;Client Projects and Embedding The
            OpenEngSB
          </td>
        </tr>
      </table>
    
  </div>

      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    </div>
</div>
    <div id="footer">
      <div class="xright">&#169;            2009-2011
                
                               - <a href="http://maven.apache.org/privacy-policy.html">Privacy Policy</a> <script type="text/javascript" src="http://www.ohloh.net/p/494725/widgets/project_thin_badge.js"></script></div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
