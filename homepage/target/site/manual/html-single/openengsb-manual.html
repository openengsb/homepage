<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>OpenEngSB Manual</title><link rel="stylesheet" href="css/html.css" type="text/css"><meta name="generator" content="DocBook XSL-NS Stylesheets V1.75.2"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="book" title="OpenEngSB Manual"><div class="titlepage"><div><div><h1 class="title"><a name="d0e2"></a>OpenEngSB Manual</h1></div><div><h2 class="subtitle">2.0.0-SNAPSHOT "Qualified Q"</h2></div><div><div class="author"><h3 class="author"><span class="firstname">Open Engineering Service Bus</span> <span class="surname">Development Team and Contributors</span></h3><code class="email">&lt;<a class="email" href="mailto:openengsb-dev at googlegroups.com">openengsb-dev at googlegroups.com</a>&gt;</code></div></div><div><p class="copyright">Copyright &copy; 2009, 2010, 2011 Austrian Association for Software Tool Integration (AASTI)</p></div></div><hr></div><div class="toc"><dl><dt><span class="part"><a href="#introduction.manual">I. Introduction</a></span></dt><dd><dl><dt><span class="chapter"><a href="#how.to.read">1. How to read the Manual</a></span></dt><dt><span class="chapter"><a href="#what.is.openengsb">2. What is the Open Engineering Service Bus</a></span></dt><dt><span class="chapter"><a href="#when.to.use">3. When to use the OpenEngSB</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e68">3.1. The OpenEngSB as Base Environment</a></span></dt><dt><span class="section"><a href="#d0e73">3.2. Reusing integration Components and Workflows</a></span></dt><dt><span class="section"><a href="#d0e78">3.3. Management Environment</a></span></dt><dt><span class="section"><a href="#d0e83">3.4. Simple Development and Distribution Management</a></span></dt><dt><span class="section"><a href="#d0e88">3.5. Simple Plug-Ins and Extensions</a></span></dt></dl></dd></dl></dd><dt><span class="part"><a href="#tutorials.manual">II. Tutorials</a></span></dt><dd><dl><dt><span class="chapter"><a href="#howto.setup">4. HowTo - Setup OpenEngSB for development (First steps)</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e103">4.1. Goal</a></span></dt><dt><span class="section"><a href="#d0e110">4.2. Time to Complete</a></span></dt><dt><span class="section"><a href="#d0e115">4.3. Prerequisites</a></span></dt><dt><span class="section"><a href="#d0e120">4.4. Java Development Kit 6</a></span></dt><dt><span class="section"><a href="#d0e130">4.5. Getting OpenEngSB</a></span></dt><dt><span class="section"><a href="#d0e138">4.6. Installing OpenEngSB</a></span></dt><dt><span class="section"><a href="#d0e158">4.7. Setup required domains</a></span></dt><dt><span class="section"><a href="#d0e300">4.8. First Steps</a></span></dt><dt><span class="section"><a href="#d0e305">4.9. Shutdown OpenEngSB</a></span></dt></dl></dd><dt><span class="chapter"><a href="#howto.addConsoleCommands">5. HowTo - Extend OpenEngSB Console</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e319">5.1. Goal</a></span></dt><dt><span class="section"><a href="#d0e324">5.2. Time to Complete</a></span></dt><dt><span class="section"><a href="#d0e329">5.3. Prerequisites</a></span></dt><dt><span class="section"><a href="#d0e334">5.4. Start the console</a></span></dt><dt><span class="section"><a href="#d0e339">5.5. Adding new commands</a></span></dt></dl></dd><dt><span class="chapter"><a href="#howto.logging">6. HowTo - First steps with the OpenEngSB (Send mails via the OpenEngSB)</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e354">6.1. Goal</a></span></dt><dt><span class="section"><a href="#d0e359">6.2. Time to Complete</a></span></dt><dt><span class="section"><a href="#d0e366">6.3. Prerequisites</a></span></dt><dt><span class="section"><a href="#d0e371">6.4. Creating EMail Services</a></span></dt><dt><span class="section"><a href="#d0e399">6.5. Executing Service Actions Directly</a></span></dt><dt><span class="section"><a href="#d0e420">6.6. Executing Service Actions via Domains</a></span></dt><dt><span class="section"><a href="#d0e438">6.7. Next Steps</a></span></dt></dl></dd><dt><span class="chapter"><a href="#howto.contexteditor">7. HowTo - Events with the OpenEngSB (Using the logging service)</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e449">7.1. Goal</a></span></dt><dt><span class="section"><a href="#d0e454">7.2. Time to Complete</a></span></dt><dt><span class="section"><a href="#d0e462">7.3. Prerequisites</a></span></dt><dt><span class="section"><a href="#d0e467">7.4. Create required connectors</a></span></dt><dt><span class="section"><a href="#d0e480">7.5. Configure</a></span></dt><dt><span class="section"><a href="#d0e490">7.6. Creating a rule</a></span></dt><dt><span class="section"><a href="#d0e508">7.7. Throw Event</a></span></dt><dt><span class="section"><a href="#d0e520">7.8. Next Steps</a></span></dt></dl></dd><dt><span class="chapter"><a href="#howto.connector">8. HowTo - Create a connector for an already existing domain for the OpenEngSB</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e529">8.1. Goal</a></span></dt><dt><span class="section"><a href="#d0e536">8.2. Time to Complete</a></span></dt><dt><span class="section"><a href="#d0e544">8.3. Prerequisites</a></span></dt><dt><span class="section"><a href="#d0e553">8.4. Step 1 - Use the archetype</a></span></dt><dt><span class="section"><a href="#d0e578">8.5. Step 2 - Add the dependencies</a></span></dt><dt><span class="section"><a href="#d0e585">8.6. Step 3 - Configure the connector</a></span></dt><dt><span class="section"><a href="#d0e596">8.7. Step 4 - Implement the connector</a></span></dt><dt><span class="section"><a href="#d0e613">8.8. Step 5 - Spring Setup and Internationalization</a></span></dt><dt><span class="section"><a href="#d0e624">8.9. Step 6 - Start the OpenEngSB with your Connector</a></span></dt><dt><span class="section"><a href="#d0e633">8.10. Step 7 - Test the new connector</a></span></dt></dl></dd><dt><span class="chapter"><a href="#howto.clientProject">9. HowTo - Create a Client-Project for the OpenEngSB</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e648">9.1. Goal</a></span></dt><dt><span class="section"><a href="#d0e653">9.2. Time to Complete</a></span></dt><dt><span class="section"><a href="#d0e661">9.3. Step 2 - Needed tools</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e666">9.3.1. Java Development Kit 6</a></span></dt><dt><span class="section"><a href="#d0e674">9.3.2. Maven 3</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e682">9.4. Step 2 - Using the archetype</a></span></dt><dt><span class="section"><a href="#d0e700">9.5. Step 3 - The result</a></span></dt><dt><span class="section"><a href="#d0e712">9.6. Step 4 - Install features</a></span></dt><dt><span class="section"><a href="#d0e721">9.7. Step 5 - Start the Client-Project</a></span></dt><dt><span class="section"><a href="#d0e730">9.8. Step 6 - Shutdown</a></span></dt></dl></dd><dt><span class="chapter"><a href="#howto.remote">10. HowTo - Interact with the OPENENGSB Remotely</a></span></dt><dd><dl><dt><span class="section"><a href="#howto.remote.jms">10.1. Using JMS proxying</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e751">10.1.1. Proxying internal Connector calls</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e758">10.1.1.1. HowTo call an external service via proxies</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e802">10.1.2. Calling internal Services</a></span></dt><dt><span class="section"><a href="#d0e840">10.1.3. Examples</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e845">10.1.3.1. Connect With Python</a></span></dt><dt><span class="section"><a href="#developer.plugins.csharp">10.1.3.2. Connect With CSharp</a></span></dt><dt><span class="section"><a href="#developer.plugins.perl">10.1.3.3. Connect With Perl</a></span></dt></dl></dd></dl></dd><dt><span class="section"><a href="#d0e875">10.2. Using WS Proxing</a></span></dt><dt><span class="section"><a href="#d0e880">10.3. Internal Specialities</a></span></dt></dl></dd><dt><span class="chapter"><a href="#howto.composite">11. HowTo - Combine mulitple connectors</a></span></dt><dd><dl><dt><span class="section"><a href="#howto.composite.strategy">11.1. Composite strategies</a></span></dt><dt><span class="section"><a href="#howto.composite.connector">11.2. Create a composite connector</a></span></dt></dl></dd><dt><span class="chapter"><a href="#howto.integrate">12. HowTo - Integrate services with OpenEngSB</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e933">12.1. Goal</a></span></dt><dt><span class="section"><a href="#d0e953">12.2. Time to Complete</a></span></dt><dt><span class="section"><a href="#d0e961">12.3. Prerequisites</a></span></dt><dt><span class="section"><a href="#d0e968">12.4. Setting up OpenEngSB</a></span></dt><dt><span class="section"><a href="#d0e1007">12.5. Step 1 - Source repository</a></span></dt><dt><span class="section"><a href="#d0e1036">12.6. Step 2 - Building the source code</a></span></dt><dt><span class="section"><a href="#d0e1132">12.7. Step 3 - Testing binaries</a></span></dt><dt><span class="section"><a href="#d0e1179">12.8. Step 4 - Notification Process</a></span></dt><dt><span class="section"><a href="#d0e1273">12.9. Further Reading</a></span></dt></dl></dd></dl></dd><dt><span class="part"><a href="#user.manual">III. OpenEngSB Framework</a></span></dt><dd><dl><dt><span class="chapter"><a href="#user.quickstart">13. Quickstart</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e1307">13.1. Writing new projects using the OpenEngSB</a></span></dt><dt><span class="section"><a href="#d0e1312">13.2. Writing Domains for the OpenEngSB</a></span></dt><dt><span class="section"><a href="#user.quickstart.connectors">13.3. Writing Connectors for the OpenEngSB</a></span></dt></dl></dd><dt><span class="chapter"><a href="#architecture">14. Architecture of the OpenEngSB</a></span></dt><dd><dl><dt><span class="section"><a href="#architecture.concept.esb">14.1. OpenEngSB Enterprise Service Bus (ESB)</a></span></dt><dt><span class="section"><a href="#architecture.concept.infrastructure">14.2. OpenEngSB Infrastructure</a></span></dt><dt><span class="section"><a href="#architecture.concept.components">14.3. OpenEngSB Components</a></span></dt><dt><span class="section"><a href="#architecture.concept.tooldomains">14.4. OpenEngSB Tool Domains</a></span></dt><dt><span class="section"><a href="#architecture.concept.clienttools">14.5. Client Tools (Service Consumer)</a></span></dt><dt><span class="section"><a href="#architecture.concept.domaintools">14.6. Domain Tools (Service Provider)</a></span></dt><dt><span class="section"><a href="#architecture.concept.connectors">14.7. Domain- and Client Tool Connectors</a></span></dt><dt><span class="section"><a href="#architecture.concept.edb">14.8. EDB (Engineering Data Base)</a></span></dt><dt><span class="section"><a href="#architecture.concept.ekb">14.9. EKB (Engineering Knowledge Base)</a></span></dt></dl></dd><dt><span class="chapter"><a href="#developer.context">15. Context Management</a></span></dt><dd><dl><dt><span class="section"><a href="#developer.context.wiring">15.1. Wiring services</a></span></dt></dl></dd><dt><span class="chapter"><a href="#developer.persistence">16. Persistence in the OpenEngSB</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e1545">16.1. Core Persistence</a></span></dt><dt><span class="section"><a href="#d0e1576">16.2. Configuration Persistence</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e1611">16.2.1. Context configuration persistence</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#developer.management">17. Security in the OpenEngSB</a></span></dt><dd><dl><dt><span class="section"><a href="#developer.security.usermanagement">17.1. Usermanagement</a></span></dt><dt><span class="section"><a href="#developer.security.access">17.2. Access control</a></span></dt><dt><span class="section"><a href="#d0e1670">17.3. Authentication</a></span></dt></dl></dd><dt><span class="chapter"><a href="#developer.workflows">18. Workflows</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e1692">18.1. Workflow service</a></span></dt><dt><span class="section"><a href="#d0e1700">18.2. Rulemanager</a></span></dt><dt><span class="section"><a href="#workflows.processes">18.3. Processes</a></span></dt></dl></dd><dt><span class="chapter"><a href="#developer.taskbox">19. Taskbox</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e1721">19.1. Core Functionality</a></span></dt><dt><span class="section"><a href="#d0e1735">19.2. UI Functionality</a></span></dt></dl></dd><dt><span class="chapter"><a href="#developer.remote">20. Remoting</a></span></dt><dd><dl><dt><span class="section"><a href="#developer.remote.filters">20.1. Filters</a></span></dt><dt><span class="section"><a href="#developer.remote.filterconfig">20.2. Configure a filterchain</a></span></dt><dt><span class="section"><a href="#developer.remote.customfilters">20.3. Develop custom filters</a></span></dt><dt><span class="section"><a href="#developer.remote.incoming">20.4. Develop an incoming port</a></span></dt><dt><span class="section"><a href="#developer.remote.outgoing">20.5. Develop an Outgoing port</a></span></dt></dl></dd><dt><span class="chapter"><a href="#developer.plugins">21. External Domains and Connectors</a></span></dt><dd><dl><dt><span class="section"><a href="#developer.plugins.proxy">21.1. Proxying</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e1849">21.1.1. Proxying internal Connector calls</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#user.deployers">22. Deployer services</a></span></dt><dd><dl><dt><span class="section"><a href="#user.deployers.connector">22.1. Connector configuration</a></span></dt><dd><dl><dt><span class="section"><a href="#user.deployers.connector.root">22.1.1. Root services</a></span></dt></dl></dd><dt><span class="section"><a href="#user.deployers.context">22.2. Context configuration</a></span></dt></dl></dd><dt><span class="chapter"><a href="#developer.client">23. Client Projects and Embedding The OpenEngSB</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e1896">23.1. Using the same dependencies as the OPENENGSB</a></span></dt></dl></dd><dt><span class="chapter"><a href="#user.platform">24. OpenEngSB Platform</a></span></dt></dl></dd><dt><span class="part"><a href="#console.ui.manual">IV. Administration Console</a></span></dt><dd><dl><dt><span class="chapter"><a href="#howto.consolecommands">25. OpenEngSB console commands</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e1940">25.1. Start the console</a></span></dt><dt><span class="section"><a href="#d0e1945">25.2. Available commands</a></span></dt></dl></dd></dl></dd><dt><span class="part"><a href="#web.ui.manual">V. Administration User Interface</a></span></dt><dd><dl><dt><span class="chapter"><a href="#ui.testclient">26. Testclient</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e1979">26.1. Managing global variables</a></span></dt><dt><span class="section"><a href="#d0e1984">26.2. Managing imports</a></span></dt></dl></dd><dt><span class="chapter"><a href="#ui.wiring">27. Wiring</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e1997">27.1. Wire a global variable with a service</a></span></dt><dt><span class="section"><a href="#d0e2067">27.2. What wiring does in the background</a></span></dt></dl></dd></dl></dd><dt><span class="part"><a href="#domain.manual">VI. OpenEngSB Available Domains &amp; Connectors</a></span></dt><dd><dl><dt><span class="chapter"><a href="#domains.notification.domain">28. Notification Domain</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e2086">28.1. Description</a></span></dt><dt><span class="section"><a href="#d0e2091">28.2. Functional Interface</a></span></dt><dt><span class="section"><a href="#d0e2098">28.3. Connectors</a></span></dt><dd><dl><dt><span class="section"><a href="#domains.notification.email">28.3.1. Email Connector</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e2107">28.3.1.1. External Tool Configuration</a></span></dt></dl></dd><dt><span class="section"><a href="#domains.notification.facebook">28.3.2. Facebook Connector</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e2118">28.3.2.1. Connector Configuration</a></span></dt><dt><span class="section"><a href="#d0e2133">28.3.2.2. Create an instance of this connector</a></span></dt><dt><span class="section"><a href="#d0e2145">28.3.2.3. External Tool Configuration</a></span></dt></dl></dd></dl></dd></dl></dd><dt><span class="chapter"><a href="#domains.scm.domain">29. SCM Domain</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e2156">29.1. Description</a></span></dt><dt><span class="section"><a href="#d0e2161">29.2. Functional Interface</a></span></dt><dt><span class="section"><a href="#d0e2168">29.3. Connectors</a></span></dt><dd><dl><dt><span class="section"><a href="#domains.scm.git">29.3.1. Git Connector</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e2180">29.3.1.1. External Tool Configuration</a></span></dt></dl></dd></dl></dd></dl></dd><dt><span class="chapter"><a href="#domains.issue.domain">30. Issue Domain</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e2203">30.1. Description</a></span></dt><dt><span class="section"><a href="#d0e2208">30.2. Functional Interface</a></span></dt><dt><span class="section"><a href="#d0e2215">30.3. Connectors</a></span></dt><dd><dl><dt><span class="section"><a href="#domains.issue.trac">30.3.1. Trac Connector</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e2227">30.3.1.1. External Tool Configuration</a></span></dt></dl></dd><dt><span class="section"><a href="#domains.issue.jira">30.3.2. Jira Connector</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e2244">30.3.2.1. External Tool Configuration</a></span></dt></dl></dd><dt><span class="section"><a href="#domains.issue.github">30.3.3. Github Connector</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e2261">30.3.3.1. External Tool Configuration</a></span></dt></dl></dd></dl></dd></dl></dd><dt><span class="chapter"><a href="#domains.report.domain">31. Report Domain</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e2272">31.1. Description</a></span></dt><dt><span class="section"><a href="#d0e2277">31.2. Functional Interface</a></span></dt><dt><span class="section"><a href="#d0e2284">31.3. Connectors</a></span></dt><dd><dl><dt><span class="section"><a href="#domains.report.plaintext">31.3.1. Plaintext Report Connector</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e2293">31.3.1.1. External Tool Configuration</a></span></dt></dl></dd><dt><span class="section"><a href="#domains.report.prom">31.3.2. ProM Report Connector</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e2307">31.3.2.1. External Tool Configuration</a></span></dt></dl></dd></dl></dd></dl></dd><dt><span class="chapter"><a href="#domains.build.domain">32. Build Domain</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e2327">32.1. Description</a></span></dt><dt><span class="section"><a href="#d0e2332">32.2. Functional Interface</a></span></dt><dt><span class="section"><a href="#d0e2339">32.3. Connectors</a></span></dt></dl></dd><dt><span class="chapter"><a href="#domains.test.domain">33. Test Domain</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e2354">33.1. Description</a></span></dt><dt><span class="section"><a href="#d0e2359">33.2. Functional Interface</a></span></dt><dt><span class="section"><a href="#d0e2366">33.3. Connectors</a></span></dt></dl></dd><dt><span class="chapter"><a href="#domains.deploy.domain">34. Deploy Domain</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e2381">34.1. Description</a></span></dt><dt><span class="section"><a href="#d0e2386">34.2. Functional Interface</a></span></dt><dt><span class="section"><a href="#d0e2393">34.3. Connectors</a></span></dt></dl></dd><dt><span class="chapter"><a href="#domains.auditing.domain">35. Auditing Domain</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e2405">35.1. Description</a></span></dt><dt><span class="section"><a href="#d0e2410">35.2. Functional Interface</a></span></dt><dt><span class="section"><a href="#d0e2417">35.3. Connectors</a></span></dt><dd><dl><dt><span class="section"><a href="#domains.auditing.memoryauditing">35.3.1. Memory Auditing Connector</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#domains.appointment.domain">36. Appointment Domain</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e2432">36.1. Description</a></span></dt><dt><span class="section"><a href="#d0e2437">36.2. Functional Interface</a></span></dt><dt><span class="section"><a href="#d0e2444">36.3. Connectors</a></span></dt><dd><dl><dt><span class="section"><a href="#domains.appointment.gcalendar">36.3.1. Gcalendar Connector</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e2456">36.3.1.1. External Tool Configuration</a></span></dt></dl></dd></dl></dd></dl></dd><dt><span class="chapter"><a href="#domains.contact.domain">37. Contact Domain</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e2467">37.1. Description</a></span></dt><dt><span class="section"><a href="#d0e2472">37.2. Functional Interface</a></span></dt><dt><span class="section"><a href="#d0e2479">37.3. Connectors</a></span></dt><dd><dl><dt><span class="section"><a href="#domains.contact.gcontacts">37.3.1. Gcontacts Connector</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e2488">37.3.1.1. External Tool Configuration</a></span></dt></dl></dd></dl></dd></dl></dd><dt><span class="chapter"><a href="#domains.multiple.connectors">38. Multi-Domain Connectors</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e2499">38.1. Connectors</a></span></dt><dd><dl><dt><span class="section"><a href="#domains.multiple.maven">38.1.1. Maven Connector</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e2511">38.1.1.1. External Tool Configuration</a></span></dt></dl></dd></dl></dd></dl></dd></dl></dd><dt><span class="part"><a href="#developer.manual">VII. OpenEngSB Commiters &amp; Contributors</a></span></dt><dd><dl><dt><span class="chapter"><a href="#developer.quickstart">39. Getting Started as a Developer</a></span></dt><dd><dl><dt><span class="section"><a href="#developer.quickstart.infrastructure">39.1. Getting comfortable with the infrastructure</a></span></dt><dd><dl><dt><span class="section"><a href="#developer.quickstart.infrastructure.mail">39.1.1. Mailing Lists</a></span></dt><dt><span class="section"><a href="#developer.quickstart.infrastructure.jira">39.1.2. Jira Issue Tracker</a></span></dt><dt><span class="section"><a href="#developer.quickstart.infrastructure.github">39.1.3. Code Repository</a></span></dt><dt><span class="section"><a href="#developer.quickstart.infrastructure.maven">39.1.4. Maven Repository</a></span></dt><dt><span class="section"><a href="#developer.quickstart.infrastructure.build">39.1.5. Build Server</a></span></dt></dl></dd><dt><span class="section"><a href="#developer.quickstart.pre">39.2. Prerequisites</a></span></dt><dd><dl><dt><span class="section"><a href="#developer.quickstart.pre.git">39.2.1. Installing Git</a></span></dt><dt><span class="section"><a href="#developer.quickstart.pre.maven">39.2.2. Installing Maven</a></span></dt></dl></dd><dt><span class="section"><a href="#developer.quickstart.essential">39.3. Starting OpenEngSB</a></span></dt><dt><span class="section"><a href="#developer.quickstart.eclipse">39.4. Using Eclipse</a></span></dt><dt><span class="section"><a href="#developer.quickstart.noneclipse">39.5. Using Other IDEs than Eclipse</a></span></dt><dt><span class="section"><a href="#git">39.6. Git Documentation</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e2768">39.6.1. Usage</a></span></dt><dt><span class="section"><a href="#d0e2785">39.6.2. Github</a></span></dt><dt><span class="section"><a href="#d0e2793">39.6.3. Starting up and configure</a></span></dt><dt><span class="section"><a href="#d0e2886">39.6.4. Contributor Workflow</a></span></dt><dt><span class="section"><a href="#d0e2928">39.6.5. Commiter Workflow</a></span></dt><dt><span class="section"><a href="#d0e2935">39.6.6. Additional Rules</a></span></dt></dl></dd><dt><span class="section"><a href="#developer.quickstart.tools">39.7. Useful Tools</a></span></dt><dd><dl><dt><span class="section"><a href="#developer.quickstart.tools.mavenplugin">39.7.1. openengsb-maven-plugin</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e2983">39.7.1.1. Configuring the openengsb-maven-plugin for your project</a></span></dt><dt><span class="section"><a href="#d0e2995">39.7.1.2. Purpose of the openengsb-maven-plugin</a></span></dt><dt><span class="section"><a href="#d0e3000">39.7.1.3. Changing the default configuration of the mojos</a></span></dt><dt><span class="section"><a href="#d0e3005">39.7.1.4. Available Goals</a></span></dt></dl></dd></dl></dd></dl></dd><dt><span class="chapter"><a href="#developer.howto.internal.connector">40. How To Create an Internal Connector</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e3341">40.1. Prerequisites</a></span></dt><dt><span class="section"><a href="#d0e3350">40.2. Creating a new connector project</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e3363">40.2.1. Using the Maven Archetype</a></span></dt><dt><span class="section"><a href="#d0e3416">40.2.2. Using <code class="literal">mvn openengsb:genConnector</code></a></span></dt></dl></dd><dt><span class="section"><a href="#d0e3466">40.3. Project Structure</a></span></dt><dt><span class="section"><a href="#d0e3503">40.4. Integrating the Connector into the OpenEngSB environment</a></span></dt></dl></dd><dt><span class="chapter"><a href="#developer.howto.internal.domain">41. How To Create an Internal Domain</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e3516">41.1. Prerequisites</a></span></dt><dt><span class="section"><a href="#d0e3523">41.2. Creating a new domain project</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e3536">41.2.1. Using the Maven Archetype</a></span></dt><dt><span class="section"><a href="#d0e3581">41.2.2. Using <code class="literal">mvn openengsb:genDomain</code></a></span></dt><dt><span class="section"><a href="#d0e3619">41.2.3. Project structure</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e3640">41.3. Components</a></span></dt><dt><span class="section"><a href="#d0e3659">41.4. Connectors</a></span></dt></dl></dd><dt><span class="chapter"><a href="#developer.wrapped">42. Prepare and use Non-OSGi Artifacts</a></span></dt><dd><dl><dt><span class="section"><a href="#developer.wrapped.base">42.1. Create Wrapped Artifacts</a></span></dt><dt><span class="section"><a href="#d0e3701">42.2. Tips and Tricks</a></span></dt></dl></dd><dt><span class="chapter"><a href="#developer.release">43. Release and Release Process</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e3720">43.1. Releases and the OpenEngSB</a></span></dt><dt><span class="section"><a href="#d0e3743">43.2. Git Branches</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e3748">43.2.1. New Feature Workflow</a></span></dt><dt><span class="section"><a href="#d0e3753">43.2.2. Milestone Releases</a></span></dt><dt><span class="section"><a href="#d0e3758">43.2.3. Release Candidates</a></span></dt><dt><span class="section"><a href="#d0e3763">43.2.4. Final and Support Releases</a></span></dt></dl></dd><dt><span class="section"><a href="#developer.release.configuremaven">43.3. Configure Maven</a></span></dt><dt><span class="section"><a href="#d0e3785">43.4. Adapt Jira</a></span></dt><dt><span class="section"><a href="#d0e3801">43.5. Perform the release</a></span></dt><dt><span class="section"><a href="#d0e3820">43.6. Spread the News</a></span></dt><dt><span class="section"><a href="#d0e3834">43.7. Prepare Changelog</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e3845">43.7.1. General Description</a></span></dt><dt><span class="section"><a href="#d0e3850">43.7.2. Highlights</a></span></dt><dt><span class="section"><a href="#d0e3855">43.7.3. Details</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#developer.admin">44. Admin</a></span></dt><dd><dl><dt><span class="section"><a href="#developer.infrastructure">44.1. Infrastructure</a></span></dt><dd><dl><dt><span class="section"><a href="#developer.admin.server">44.1.1. OpenEngSB Infrastructure Server</a></span></dt><dt><span class="section"><a href="#developer.admin.build">44.1.2. OpenEngSB Build</a></span></dt><dt><span class="section"><a href="#developer.admin.issue">44.1.3. OpenEngSB Issuetracker</a></span></dt><dt><span class="section"><a href="#developer.admin.git">44.1.4. OpenEngSB git</a></span></dt><dt><span class="section"><a href="#developer.admin.maven">44.1.5. OpenEngSB Maven</a></span></dt><dd><dl><dt><span class="section"><a href="#developer.admin.maven.internal">44.1.5.1. internal</a></span></dt><dt><span class="section"><a href="#d0e3914">44.1.5.2. external</a></span></dt></dl></dd><dt><span class="section"><a href="#developer.admin.mailinglist">44.1.6. OpenEngSB Mailinglist</a></span></dt></dl></dd><dt><span class="section"><a href="#developer.admin.logo">44.2. Logo Locations and Upgrade</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e3955">44.2.1. External Infrastructure</a></span></dt><dt><span class="section"><a href="#d0e3971">44.2.2. Internal Management Application</a></span></dt><dt><span class="section"><a href="#d0e3981">44.2.3. Documentation</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#developer.projectroles">45. Project Roles</a></span></dt><dd><dl><dt><span class="section"><a href="#developer.projectroles.user">45.1. Users</a></span></dt><dt><span class="section"><a href="#developer.projectroles.contributor">45.2. Contributors</a></span></dt><dt><span class="section"><a href="#developer.projectroles.commiter">45.3. Commiters</a></span></dt><dt><span class="section"><a href="#developer.projectroles.pmc">45.4. Project Comitee Members</a></span></dt></dl></dd><dt><span class="chapter"><a href="#codestyle">46. Java Coding Style</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e4033">46.1. Sun Coding Guidelines</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e4041">46.1.1. Line length</a></span></dt><dt><span class="section"><a href="#d0e4046">46.1.2. Wrapping</a></span></dt><dt><span class="section"><a href="#d0e4054">46.1.3. Number of declarations per line</a></span></dt><dt><span class="section"><a href="#d0e4059">46.1.4. Declaration placement</a></span></dt><dt><span class="section"><a href="#d0e4064">46.1.5. Blank lines</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e4069">46.2. General</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e4072">46.2.1. File format</a></span></dt><dt><span class="section"><a href="#d0e4077">46.2.2. Header</a></span></dt><dt><span class="section"><a href="#d0e4085">46.2.3. Duplication</a></span></dt><dt><span class="section"><a href="#d0e4090">46.2.4. Use guards</a></span></dt><dt><span class="section"><a href="#d0e4101">46.2.5. Keep methods short</a></span></dt><dt><span class="section"><a href="#d0e4106">46.2.6. Use enums</a></span></dt><dt><span class="section"><a href="#d0e4111">46.2.7. Avoid use of static members</a></span></dt><dt><span class="section"><a href="#d0e4116">46.2.8. Use fully qualified imports</a></span></dt><dt><span class="section"><a href="#d0e4121">46.2.9. Never declare implementation types</a></span></dt><dt><span class="section"><a href="#d0e4132">46.2.10. SerialVersionUID</a></span></dt><dt><span class="section"><a href="#d0e4137">46.2.11. Restrict scope of suppressed warnings</a></span></dt><dt><span class="section"><a href="#d0e4142">46.2.12. Use String.format()</a></span></dt><dt><span class="section"><a href="#d0e4147">46.2.13. Array declaration style</a></span></dt><dt><span class="section"><a href="#d0e4158">46.2.14. Comments</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e4163">46.3. Naming</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e4166">46.3.1. Interfaces</a></span></dt><dt><span class="section"><a href="#d0e4171">46.3.2. Don't abbreviate</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e4176">46.4. No clutter</a></span></dt><dt><span class="section"><a href="#d0e4219">46.5. Exception Handling</a></span></dt><dt><span class="section"><a href="#d0e4241">46.6. Tests</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e4244">46.6.1. General</a></span></dt><dt><span class="section"><a href="#d0e4278">46.6.2. Naming Scheme</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e4318">46.7. XML Formatting</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e4321">46.7.1. File Format</a></span></dt><dt><span class="section"><a href="#d0e4326">46.7.2. Eclipse Settings</a></span></dt><dt><span class="section"><a href="#d0e4340">46.7.3. Recommended Readings</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#writing.code">47. Writing Code</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e4365">47.1. Maven POM files in the OpenEngSB</a></span></dt><dt><span class="section"><a href="#d0e4399">47.2. Making UI Tests Localizable</a></span></dt><dt><span class="section"><a href="#d0e4404">47.3. How to write tests</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e4409">47.3.1. </a></span></dt><dt><span class="section"><a href="#d0e4416">47.3.2. Technologies for writing test, and how to use them</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#recommended.eclipse.plugins">48. Recommended Eclipse Plug-ins for Developers</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e4444">48.1. Properties Editor</a></span></dt><dt><span class="section"><a href="#d0e4452">48.2. Rinzo XML Editor</a></span></dt><dt><span class="section"><a href="#d0e4459">48.3. Eclemma code coverage</a></span></dt><dt><span class="section"><a href="#d0e4467">48.4. Eclipse M2 Plugin</a></span></dt><dt><span class="section"><a href="#d0e4475">48.5. Egit Eclipse Plugin</a></span></dt><dt><span class="section"><a href="#d0e4482">48.6. Eclipse CS</a></span></dt><dt><span class="section"><a href="#d0e4493">48.7. Drools</a></span></dt></dl></dd><dt><span class="chapter"><a href="#writing.documentation">49. Writing Documentation</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e4507">49.1. General Documentation Guidelines</a></span></dt><dt><span class="section"><a href="#d0e4558">49.2. Document a domain or connector</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e4561">49.2.1. Domain</a></span></dt><dt><span class="section"><a href="#d0e4593">49.2.2. Connector</a></span></dt></dl></dd><dt><span class="section"><a href="#d0e4619">49.3. Using Docbook</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e4627">49.3.1. Tags</a></span></dt><dd><dl><dt><span class="section"><a href="#d0e4858">49.3.1.1. Including an image</a></span></dt><dt><span class="section"><a href="#d0e4866">49.3.1.2. Using a table</a></span></dt><dt><span class="section"><a href="#d0e4874">49.3.1.3. Generating the documentation</a></span></dt></dl></dd></dl></dd></dl></dd></dl></dd></dl></div><div class="part" title="Part&nbsp;I.&nbsp;Introduction"><div class="titlepage"><div><div><h1 class="title"><a name="introduction.manual"></a>Part&nbsp;I.&nbsp;Introduction</h1></div></div></div><div class="partintro" title="Introduction"><div></div><p>This parts provides general information to the project, the document, changelog and similar data
      which fits neither in the framework description nor in the contributor section.</p><p>The target audience of this part are developers, contributors and managers.</p></div><div class="chapter" title="Chapter&nbsp;1.&nbsp;How to read the Manual"><div class="titlepage"><div><div><h2 class="title"><a name="how.to.read"></a>Chapter&nbsp;1.&nbsp;How to read the Manual</h2></div></div></div><p>Like any open source project we have the problem that writing documentation is a pain and
  nobody is paid for doing it. In combination with the rapidly changing OpenEngSB
  source base this will lead to a huge mess within shortest time. To avoid this problem we've
  introduced regular documentation reviews and, more importantly, the following rules which apply
  both for writing the document and for reading it.
  </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">The manual is written as short and precise as possible (less text means lesser to read and even lesser to review)</li><li class="listitem">The manual does not describe how to use an interface but only coarse grained concepts in the OpenEngSB. Since the OpenEngSB is not an end user application, but rather a framework for developers we expect that Javadoc is no problem for them. Writing Javadoc and keep it up to date is still hard for developers, but much easier than maintaining an external document. Therefore, all concepts are explained and linked directly to the very well documented interfaces in the OpenEngSB on Github. To fully understand and use them you'll have to read this manual parallel to the interface documentation in the source code.</li></ul></div><p>
  </p></div><div class="chapter" title="Chapter&nbsp;2.&nbsp;What is the Open Engineering Service Bus"><div class="titlepage"><div><div><h2 class="title"><a name="what.is.openengsb"></a>Chapter&nbsp;2.&nbsp;What is the Open Engineering Service Bus</h2></div></div></div><p>In engineering environments a lot of different tools are used. Most of these operate on the same domain, but
    often interoperability is the limiting factor. For each new project and team member tool integration has to be
    repeated again. In general, this ends up with numerous point-to-point connectors between tools which are neither
    stable solutions nor flexible ones.</p><p>This is where the Open (Software) Engineering Service Bus (OpenEngSB) comes into play. It simplifies
    design and implementation of workflows in an engineering team. The engineering team itself (or a process
    administrator) is able to design workflows between different tools. The entire description process happens on the
    layer of generic domains instead of specific tool properties. This provides an out of the box solution which allows
    typical engineering teams to optimize their processes and make their workflows very flexible and easy to change.
    Also, OpenEngSB simplifies the replacement of individual tools and allows interdepartmental tool integration.</p><p>Project management is set to a new level since its possible to clearly guard all integrated tools and
    workflows. This offers new ways in notifying managers at the right moment and furthermore allows a very general,
    distanced and objective view on a project.</p><p>Although this concept is very powerful it cannot solve every problem. The OpenEngSB is not designed as a
    general graphical layer over an Enterprise Service Bus (ESB) which allows you to design ALL of your processes out of
    the box. As long as you work in the designed domains of the OpenEngSB you have a lot of graphical support and other
    tools available making your work extremely easy. But when leaving the common engineering domains you also leave the
    core scope of the service bus. OpenEngSB still allows you to connect your own integration projects, use services and
    react on events, but you have to keep in mind that you're working outside the OpenEngSB and "falling back" to
    classical Enterprise Application Integration (EAI) patterns and tools. </p><p>However, this project does not try to reinvent the wheel. OpenEngSB will not replace the tools already used for
    your development process, it will integrate them. Our service bus is used to connect the different tools and design
    a workflow between them, but not to replace them with yet another application. For example, software engineers like
    us love their tools and will fight desperately if you try to take them away. We like the wheels as they are, but we
    do not like the way they are put together at the moment.</p></div><div class="chapter" title="Chapter&nbsp;3.&nbsp;When to use the OpenEngSB"><div class="titlepage"><div><div><h2 class="title"><a name="when.to.use"></a>Chapter&nbsp;3.&nbsp;When to use the OpenEngSB</h2></div></div></div><p>The OpenEngSB project has several direct purposes which should be explained within this chapter to make clear in which
    situations the OpenEngSB can be useful for you.
    </p><div class="section" title="3.1.&nbsp;The OpenEngSB as Base Environment"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e68"></a>3.1.&nbsp;The OpenEngSB as Base Environment</h2></div></div></div><p>OSGi is a very popular integration environment. Instead of delivering one big product the products get separated into
        minor parts and deployed within a general envioronment. The problem with this concept is to get old, well known concepts
        up and running in the new environment. In addition tools such as PAX construct allow a better integration into Apache Maven, 
        and extended OSGi runtimes, such as Karaf allow a richer and easier development. Neverthless, settting up such a system for 
        development means a lot of hard manual work. Using the OpenEngSB such systems can be setup within minutes.
        </p></div><div class="section" title="3.2.&nbsp;Reusing integration Components and Workflows"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e73"></a>3.2.&nbsp;Reusing integration Components and Workflows</h2></div></div></div><p>The OpenEngSB introduces a new level of ESB. Development with all typical ESBs mean to start from the ground and
        develop a complete, own environment, only using existing connectors. Using the OpenEngSB not only connectors but
        an entire integrated process, workflow and event environment waits for you. In addition connectors to different tools can
        not only be adapted to the specific needs, but also simply replaced by other connectors, using the Domain concept.
        </p></div><div class="section" title="3.3.&nbsp;Management Environment"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e78"></a>3.3.&nbsp;Management Environment</h2></div></div></div><p>The OpenEngSB delivers a complete management and monitoring environment. While this environment can
        be added to your project standalone (similar to e.g. Tomcat management console) you also have the possibility to
        completely integrate the OpenEngSB management enviornment into your Apache Wicket application.
        </p></div><div class="section" title="3.4.&nbsp;Simple Development and Distribution Management"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e83"></a>3.4.&nbsp;Simple Development and Distribution Management</h2></div></div></div><p> While typical ESB have to be installed seperately from your application the OpenEngSB is delivered with your
        application. Develop your application in the OpenEngSB environment and scripts to embed your application into
        the OpenEngSB are provided. In addition easy blending allows to adapt the OpenEngSB visually to your needs and
        cooperate design.
        </p></div><div class="section" title="3.5.&nbsp;Simple Plug-Ins and Extensions"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e88"></a>3.5.&nbsp;Simple Plug-Ins and Extensions</h2></div></div></div><p>The OpenEngSB provides the infrastructure for a rich Plug-In and extension system. Using maven archetypes
        Plug-Ins can be created, uploaded and provided to all other OpenEngSB installations or applications using the OpenEngSB.
        </p></div></div></div><div class="part" title="Part&nbsp;II.&nbsp;Tutorials"><div class="titlepage"><div><div><h1 class="title"><a name="tutorials.manual"></a>Part&nbsp;II.&nbsp;Tutorials</h1></div></div></div><div class="partintro" title="Tutorials"><div></div><p>This part contains tutorials for the OpenEngSB.</p></div><div class="chapter" title="Chapter&nbsp;4.&nbsp;HowTo - Setup OpenEngSB for development (First steps)"><div class="titlepage"><div><div><h2 class="title"><a name="howto.setup"></a>Chapter&nbsp;4.&nbsp;HowTo - Setup OpenEngSB for development (First steps)</h2></div></div></div><div class="section" title="4.1.&nbsp;Goal"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e103"></a>4.1.&nbsp;Goal</h2></div></div></div><p>This section describes the setup process required for OpenEngSB development.</p><p>If you would like to view a use-case centric tutorial take a look at the continuous integration example.</p></div><div class="section" title="4.2.&nbsp;Time to Complete"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e110"></a>4.2.&nbsp;Time to Complete</h2></div></div></div><p>If you are already familiar with Java EE servers about 15 minutes. We will not be using advanced concepts, so you likely be able to continue with the tutorial even without it.</p></div><div class="section" title="4.3.&nbsp;Prerequisites"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e115"></a>4.3.&nbsp;Prerequisites</h2></div></div></div><p>It is assumed you have basic knowledge of system administration and you are able to set up auxiliary software (i.e. JDK 1.6) youself.</p></div><div class="section" title="4.4.&nbsp;Java Development Kit 6"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e120"></a>4.4.&nbsp;Java Development Kit 6</h2></div></div></div><p>First of all the JDK6 should be installed on the system and the JAVA_HOME variable should be set.
  (<a class="link" href="http://java.sun.com/javase/downloads" target="_top">Java download</a>).</p><p>Also, make sure that the java-command is available in the PATH-variable.</p></div><div class="section" title="4.5.&nbsp;Getting OpenEngSB"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e130"></a>4.5.&nbsp;Getting OpenEngSB</h2></div></div></div><p>Download the latest OpenEngSB release from <a class="link" href="http://openengsb.org/downloads.html" target="_top">here</a>.</p></div><div class="section" title="4.6.&nbsp;Installing OpenEngSB"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e138"></a>4.6.&nbsp;Installing OpenEngSB</h2></div></div></div><p>Extract the archive, and run the openengsb-script (bin/openengsb.bat on windows, bin/openengsb otherwise). Click the following link to open the web interface in your browser <a class="link" href="http://localhost:8090/openengsb" target="_top">http://localhost:8090/openengsb</a>.You should automatically be directed to a page asking for a login. The default login is "admin" with "password" as password.</p><div class="mediaobject" align="center"><img src="graphics/setup_login.png" align="middle"><div class="caption">login</div></div><p>If everything works fine you should be welcomed by the following page presenting you the currently installed domains:</p><div class="mediaobject" align="center"><img src="graphics/setup_mainpage.png" align="middle"><div class="caption">main page</div></div></div><div class="section" title="4.7.&nbsp;Setup required domains"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e158"></a>4.7.&nbsp;Setup required domains</h2></div></div></div><p>OpenEngSB implements it's functionality in so called features. Each feature contains a number of OSGi bundles. While all features are distributed with the OpenEngSB not all of them are installed to speed up the startup. For the next section (First Steps) it is required to install additional features. Therefore open the console in which you've started the OpenEngSB and enter "list" which should output something like:</p><pre class="programlisting">
karaf@root&gt; list
START LEVEL 100 , List Threshold: 50
   ID   State         Blueprint      Level  Name
[  42] [Active     ] [Created     ] [   60] Apache Karaf :: Shell :: Service Wrapper (2.2
...
[ 116] [Active     ] [            ] [   60] Jackson JSON processor (1.5.3)
[ 117] [Active     ] [Created     ] [   60] OpenEngSB :: Core :: Common (1.2.0.SNAPSHOT)
[ 118] [Active     ] [Created     ] [   60] OpenEngSB :: Core :: Events (1.2.0.SNAPSHOT)
[ 119] [Active     ] [Created     ] [   60] OpenEngSB :: Core :: Persistence Layer (1.2.0
[ 120] [Active     ] [Created     ] [   60] OpenEngSB :: Core :: Security (1.2.0.SNAPSHOT
[ 121] [Active     ] [Created     ] [   60] OpenEngSB :: Core :: Workflow Engine (1.2.0.S
[ 122] [Active     ] [Created     ] [   60] OpenEngSB :: Domains :: Auditing :: Implement
[ 123] [Active     ] [Created     ] [   60] OpenEngSB :: Connector :: MemoryAuditing (1.2
[ 124] [Active     ] [Created     ] [   60] OpenEngSB :: Domain :: Example (1.2.0.SNAPSHO
[ 125] [Active     ] [Created     ] [   60] OpenEngSB :: Connector :: Example (1.2.0.SNAP
[ 126] [Active     ] [Created     ] [   60] OpenEngSB :: Core :: Ports :: JMS (1.2.0.SNAP
[ 127] [Active     ] [Created     ] [   60] OpenEngSB :: User Interface :: Common (1.2.0.
[ 128] [Active     ] [            ] [   60] OpenEngSB :: User Interface :: Administration
[ 129] [Active     ] [Created     ] [   60] OpenEngSB :: Core :: Deployer :: Connector (1
    </pre><p>In order to install domains and connectors from other repositories you need to add the corresponding
      feature-URLs. Note that in order to install a connector you need to install all domains it implements.</p><div class="table"><a name="d0e167"></a><p class="title"><b>Table&nbsp;4.1.&nbsp;Supported domains</b></p><div class="table-contents"><table summary="Supported domains" border="1"><colgroup><col><col></colgroup><thead><tr><th align="left">name</th><th align="left">feature-url</th></tr></thead><tbody><tr><td align="left">appointment</td><td align="left">mvn:org.openengsb.domain/openengsb-domain-appointment/1.2.1/xml/features</td></tr><tr><td align="left">build</td><td align="left">mvn:org.openengsb.domain/openengsb-domain-build/1.2.1/xml/features</td></tr><tr><td align="left">contact</td><td align="left">mvn:org.openengsb.domain/openengsb-domain-contact/1.2.1/xml/features</td></tr><tr><td align="left">deploy</td><td align="left">mvn:org.openengsb.domain/openengsb-domain-deploy/1.2.1/xml/features</td></tr><tr><td align="left">issue</td><td align="left">mvn:org.openengsb.domain/openengsb-domain-issue/1.2.1/xml/features</td></tr><tr><td align="left">notification</td><td align="left">mvn:org.openengsb.domain/openengsb-domain-notification/1.2.1/xml/features</td></tr><tr><td align="left">report</td><td align="left">mvn:org.openengsb.domain/openengsb-domain-report/1.2.1/xml/features</td></tr><tr><td align="left">scm</td><td align="left">mvn:org.openengsb.domain/openengsb-domain-scm/1.2.1/xml/features</td></tr><tr><td align="left">test</td><td align="left">mvn:org.openengsb.domain/openengsb-domain-test/1.2.1/xml/features</td></tr></tbody></table></div></div><br class="table-break"><div class="table"><a name="d0e223"></a><p class="title"><b>Table&nbsp;4.2.&nbsp;Supported connectors</b></p><div class="table-contents"><table summary="Supported connectors" border="1"><colgroup><col><col></colgroup><thead><tr><th align="left">name</th><th align="left">feature-url</th></tr></thead><tbody><tr><td align="left">email</td><td align="left">mvn:org.openengsb.connector/openengsb-connector-email/1.2.1/xml/features</td></tr><tr><td align="left">gcalendar</td><td align="left">mvn:org.openengsb.connector/openengsb-connector-gcalendar/1.2.1/xml/features</td></tr><tr><td align="left">gcontacts</td><td align="left">mvn:org.openengsb.connector/openengsb-connector-gcontacts/1.2.1/xml/features</td></tr><tr><td align="left">git</td><td align="left">mvn:org.openengsb.connector/openengsb-connector-git/1.2.1/xml/features</td></tr><tr><td align="left">github</td><td align="left">mvn:org.openengsb.connector/openengsb-connector-github/1.2.1/xml/features</td></tr><tr><td align="left">email</td><td align="left">mvn:org.openengsb.connector/openengsb-connector-email/1.2.1/xml/features</td></tr><tr><td align="left">jira</td><td align="left">mvn:org.openengsb.connector/openengsb-connector-jira/1.2.1/xml/features</td></tr><tr><td align="left">maven</td><td align="left">mvn:org.openengsb.connector/openengsb-connector-maven/1.2.1/xml/features</td></tr><tr><td align="left">plaintextreport</td><td align="left">mvn:org.openengsb.connector/openengsb-connector-plaintextreport/1.2.1/xml/features</td></tr><tr><td align="left">promreport</td><td align="left">mvn:org.openengsb.connector/openengsb-connector-promreport/1.2.1/xml/features</td></tr><tr><td align="left">trac</td><td align="left">mvn:org.openengsb.connector/openengsb-connector-trac/1.2.1/xml/features</td></tr></tbody></table></div></div><br class="table-break"><p>In order to install a domain first add the feature-repository using the command <code class="code">features:addurl</code>.
      When the URL has been added the domain can usually be installed using <code class="code">features:install</code></p><pre class="programlisting">
root@openengsb&gt;features:addurl mvn:org.openengsb.domain/openengsb-domain-notification/1.2.1/xml/features
root@openengsb&gt;features:install openengsb-domain-notification
    </pre><p>Note that domains and connectors are versioned independently of each other and the OpenEngSB. It's possible
      to run openengsb-domain-issue-1.2.0 with openengsb-connector-jira-1.2.1 inside openengsb-1.3.0.M2</p></div><div class="section" title="4.8.&nbsp;First Steps"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e300"></a>4.8.&nbsp;First Steps</h2></div></div></div><p>Now that the OpenEngSB is up and running (and all required bundles are installed) start with the first integration tutorial.</p></div><div class="section" title="4.9.&nbsp;Shutdown OpenEngSB"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e305"></a>4.9.&nbsp;Shutdown OpenEngSB</h2></div></div></div><p>To shutdown the OpenEngSB, go to the command-window and type <span class="command"><strong>shutdown</strong></span> or press <span class="command"><strong>Ctrl+D</strong></span></p></div></div><div class="chapter" title="Chapter&nbsp;5.&nbsp;HowTo - Extend OpenEngSB Console"><div class="titlepage"><div><div><h2 class="title"><a name="howto.addConsoleCommands"></a>Chapter&nbsp;5.&nbsp;HowTo - Extend OpenEngSB Console</h2></div></div></div><div class="section" title="5.1.&nbsp;Goal"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e319"></a>5.1.&nbsp;Goal</h2></div></div></div><p>This tutorial shows how to extend the OpenEngSB console.</p></div><div class="section" title="5.2.&nbsp;Time to Complete"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e324"></a>5.2.&nbsp;Time to Complete</h2></div></div></div><p>To read this tutorial and get add a first command should not take more than 10 minutes
    </p></div><div class="section" title="5.3.&nbsp;Prerequisites"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e329"></a>5.3.&nbsp;Prerequisites</h2></div></div></div><p>This HowTo assumes you already have downloaded the OpenEngSB.</p></div><div class="section" title="5.4.&nbsp;Start the console"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e334"></a>5.4.&nbsp;Start the console</h2></div></div></div><p>It is not much needed to get the OpenEngSB console started. Just type in a shell "mvn openengsb:provision"
      or execute the corresponding shell script (etc/scripts/run.sh)
    </p></div><div class="section" title="5.5.&nbsp;Adding new commands"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e339"></a>5.5.&nbsp;Adding new commands</h2></div></div></div><p>This section describes how to add a new commands. The project is located in core/console. To add a new
      command not much is needed. For an finished example have a look at the
      class org.openengsb.core.console.OpenEngSBInfo.
      Here a short description:
      </p><pre class="programlisting">
        import org.apache.felix.gogo.commands.Command;
        import org.apache.karaf.shell.console.OsgiCommandSupport;

        @Command(scope = "openengsb", name = "info", description = "Prints out some information")
        public class OpenEngSBInfo extends OsgiCommandSupport {

            @Override
            protected Object doExecute() throws Exception {
                System.out.println("Here is the information");
                return null;
            }
        }
      </pre><p>
      There is just one single other step which has to be done:
      Go into the core/console/src/main/resources/OSGI-INF/bluepring/shell-config.xml and add the following lines:
      </p><pre class="programlisting">
        
        &lt;command-bundle xmlns="http://karaf.apache.org/xmlns/shell/v1.0.0"&gt;
          &lt;command name="openengsb/info"&gt;
            &lt;action class="org.openengsb.core.console.OpenEngSBInfo"/&gt;
OpenEngSBInfo
        &lt;/command-bundle&gt;
      
      </pre><p>
      This will lead to following command "openengsb:info". To execute this command,
      start the OpenengSB console in a shell as described above and type in
      openengsb:info, this will print out the text "Here is the information"
    </p></div></div><div class="chapter" title="Chapter&nbsp;6.&nbsp;HowTo - First steps with the OpenEngSB (Send mails via the OpenEngSB)"><div class="titlepage"><div><div><h2 class="title"><a name="howto.logging"></a>Chapter&nbsp;6.&nbsp;HowTo - First steps with the OpenEngSB (Send mails via the OpenEngSB)</h2></div></div></div><div class="section" title="6.1.&nbsp;Goal"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e354"></a>6.1.&nbsp;Goal</h2></div></div></div><p>This section describes a  "hello world" use-case for the notification domain using the email connector.</p></div><div class="section" title="6.2.&nbsp;Time to Complete"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e359"></a>6.2.&nbsp;Time to Complete</h2></div></div></div><p>If you are already familiar with setting up services in OpenEngSB about 15 minutes. (see <a class="link" href="#howto.setup" title="Chapter&nbsp;4.&nbsp;HowTo - Setup OpenEngSB for development (First steps)">HowTo: Setup</a></p></div><div class="section" title="6.3.&nbsp;Prerequisites"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e366"></a>6.3.&nbsp;Prerequisites</h2></div></div></div><p>This HowTo assumes you have already a running instance of the OpenEngSB.</p></div><div class="section" title="6.4.&nbsp;Creating EMail Services"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e371"></a>6.4.&nbsp;Creating EMail Services</h2></div></div></div><p>Create a new Email Notification Service by clicking the "New..." link for the Email Notification on the Test Client link.</p><div class="mediaobject" align="center"><img src="graphics/logging_testClient.png" align="middle"><div class="caption">test client</div></div><p>In the following view you have the possibility to configure the Notification Service. The following screen provides an example for a gmail account. Please use "test1" for the Service Id field.</p><div class="mediaobject" align="center"><img src="graphics/logging_emailNot.png" align="middle"><div class="caption">email notification</div></div><p>When you have finished setting all fields to appropriate values, create the new instance by clicking the "Save" button.</p><p>Now create another service with the Service Id "test2". Otherwise you can use exactly the same values again.</p><p>You can validate the services open the "Services" page, which should look similar to the following screenshot. All your created services should be available with the state "ONLINE".</p><div class="mediaobject" align="center"><img src="graphics/logging_notificationOverview.png" align="middle"><div class="caption">overview</div></div></div><div class="section" title="6.5.&nbsp;Executing Service Actions Directly"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e399"></a>6.5.&nbsp;Executing Service Actions Directly</h2></div></div></div><p>Now we're going to validate the created services. First of all start by open the "Test Client" link. Now open the "Notification Domain" tree and choose test1. Next get the notify method from the drop down box. The available fields should change instantly. Let the attachment field free and enter anything into message and subject. The address should be a valid email address (not validated for the moment). After all the view should look similar to the following image:</p><div class="mediaobject" align="center"><img src="graphics/logging_not.png" align="middle"><div class="caption">notification properties</div></div><p>Call the service by using the "Call" button. Some seconds after you've pressed the call button the following message 
    should occur on on your screen:</p><div class="mediaobject" align="center"><img src="graphics/logging_success.png" align="middle"><div class="caption">success</div></div><p>Within the next seconds to minutes the address, specified by you, should receive a mail.</p><p>Next validate if the service test2 does the same. Therefore press on test2, choose notify again and enter your values. Click "Call" again and validate if you receive an email.</p></div><div class="section" title="6.6.&nbsp;Executing Service Actions via Domains"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e420"></a>6.6.&nbsp;Executing Service Actions via Domains</h2></div></div></div><p>Till now you've used the services directly. Now one of the OpenEngSB core concepts is presented: the Domains:</p><p>To send messages via domains, instead of directly via the connectors a default receiver for a specific project has to be set. A graphical user inteface for doing so is the "Context Page":</p><div class="mediaobject" align="center"><img src="graphics/logging_contextOverview.png" align="middle"><div class="caption">context</div></div><p>Change the entry "domains/NotificationDomain/defaultConnector/id" to test1 or test2. Do this by clicking on the node (id). This should create a drop down box next to it. Select test1 or test2. Afterwards go back to the "Test Client" page and select "Notification Domain/domains.notification". Now choose the notify method again and try sending a message to yourself.</p><p>Again, the call was successful if you receive a message (with the prefix of the notifier you've chosen in the context).</p><p>Congratulations, you have just finished the first implementation HowTo of Open Engineering Service Bus.</p></div><div class="section" title="6.7.&nbsp;Next Steps"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e438"></a>6.7.&nbsp;Next Steps</h2></div></div></div><p>Now that you've finished the most easy OpenEngSB use case go on with a more complex one: <a class="link" href="#howto.contexteditor" title="Chapter&nbsp;7.&nbsp;HowTo - Events with the OpenEngSB (Using the logging service)">Events</a></p></div></div><div class="chapter" title="Chapter&nbsp;7.&nbsp;HowTo - Events with the OpenEngSB (Using the logging service)"><div class="titlepage"><div><div><h2 class="title"><a name="howto.contexteditor"></a>Chapter&nbsp;7.&nbsp;HowTo - Events with the OpenEngSB (Using the logging service)</h2></div></div></div><div class="section" title="7.1.&nbsp;Goal"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e449"></a>7.1.&nbsp;Goal</h2></div></div></div><p>This tutorial shows how the event system in the OpenEngSB can be used. Therefore a log and a domain connector are created and configured. The context system in the OpenEngSB is used to define which connectors should be used and a simple event is used starting a rule.</p></div><div class="section" title="7.2.&nbsp;Time to Complete"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e454"></a>7.2.&nbsp;Time to Complete</h2></div></div></div><p>If you are already familiar with using services in OpenEngSB about 30 minutes. (see <a class="link" href="#howto.logging" title="Chapter&nbsp;6.&nbsp;HowTo - First steps with the OpenEngSB (Send mails via the OpenEngSB)">HowTo: First steps</a>)</p></div><div class="section" title="7.3.&nbsp;Prerequisites"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e462"></a>7.3.&nbsp;Prerequisites</h2></div></div></div><p>This HowTo assumes you are already familiar with using and configuring services in OpenEngSB.</p></div><div class="section" title="7.4.&nbsp;Create required connectors"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e467"></a>7.4.&nbsp;Create required connectors</h2></div></div></div><p>Now one logging service and one email service should be created. Create one notification service as described in the <a class="link" href="./howto_logging.html" target="_top">previous example</a>. Please name it "notification" instead of test1 or test2. Now create a logging service:</p><div class="mediaobject" align="center"><img src="graphics/context_loggingService.png" align="middle"><div class="caption">logging service</div></div></div><div class="section" title="7.5.&nbsp;Configure"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e480"></a>7.5.&nbsp;Configure</h2></div></div></div><p>Go to the "Context" page and configure the domains to use the connectors created:</p><div class="mediaobject" align="center"><img src="graphics/context_contextOverview.png" align="middle"><div class="caption">context overview</div></div></div><div class="section" title="7.6.&nbsp;Creating a rule"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e490"></a>7.6.&nbsp;Creating a rule</h2></div></div></div><p>On the "Send Event Page" you can create and edit Rules. Therefore they have to be edited directly with a text editor. The initial system is empty and does not include any rules. To create a rule choose "new". Enter "hello1" into the rulename input field. Make also sure that "Rule" is selected in the type dropdown box.</p><p>As soon as you edit the content of the rule you can save your changes by clicking "save" or revert the changes by clicking "cancel". The name of the rule will automatically be prefixed with "org.openengsb". Please insert the following content into the text box and save the changes:</p><pre class="programlisting">
#
# My notification rule
#
# Sends "Hello World" notification to test recipient.
#

when
	Event(name == "42")
then
	example.doSomething("Hello World");
	Notification n = new Notification();
	n.setSubject("testsubject");
	n.setMessage("testMessage");
	n.setRecipient("testRecipient");
	notification.notify(n);
    </pre><div class="mediaobject" align="center"><img src="graphics/context_event.png" align="middle"><div class="caption">event</div></div><p>Basically this rule reacts on all events (when clause). "log" is a helper class using the default log connector of the log domain to write information to a log file. Notification uses the default notification connector to inform a person. More details about this topic can be found in the user documentation at rules, domains and connectors.</p><p>To run a test the n.setRecipient property should be changed to a (e.g.) your email address.</p></div><div class="section" title="7.7.&nbsp;Throw Event"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e508"></a>7.7.&nbsp;Throw Event</h2></div></div></div><p>Now we can throw an event and see if the rules work correctly. Stay on the "Send Event Page" enter for the contextId field "foo" and press send:</p><p>foo represents the name of the project. For a detailed description about projects and the context see the user documentation. You've should received a email via the rule to the email address configured previously). In addition using the "log:display" command in the OpenEngSB console should present (anywhere in the long log) a logging entry similar to the following (you have to search for the output of the LogService. The other fields can change):</p><div class="mediaobject" align="center"><img src="graphics/context_loggingOutput.png" align="middle"><div class="caption">output</div></div></div><div class="section" title="7.8.&nbsp;Next Steps"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e520"></a>7.8.&nbsp;Next Steps</h2></div></div></div><p>Congratulation. You've gained basic knowledge about the OpenEngSB and its functionality. Nevertheless, you've just touched the surface. As a next step it is recommended continue with further tutorials user manual and start exploring the world of the OpenEngSB.</p></div></div><div class="chapter" title="Chapter&nbsp;8.&nbsp;HowTo - Create a connector for an already existing domain for the OpenEngSB"><div class="titlepage"><div><div><h2 class="title"><a name="howto.connector"></a>Chapter&nbsp;8.&nbsp;HowTo - Create a connector for an already existing domain for the OpenEngSB</h2></div></div></div><div class="section" title="8.1.&nbsp;Goal"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e529"></a>8.1.&nbsp;Goal</h2></div></div></div><p>This tutorial describes examplary for all connectors the implementation of an email connector. The email
    connector implements the interface of the <a class="xref" href="#domains.notification.domain" title="Chapter&nbsp;28.&nbsp;Notification Domain">Chapter&nbsp;28, <i>Notification Domain</i></a>, which is already implemented
    in the OpenEngSB. Therefore, this tutorial describes the implementation of a connector for
    an already present domain.</p></div><div class="section" title="8.2.&nbsp;Time to Complete"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e536"></a>8.2.&nbsp;Time to Complete</h2></div></div></div><p>If you are already familiar with the OpenEngSB about 30 minutes. If you are not familiar with
    the OpenEngSB please read this manual from the start or check the <a class="link" href="http://www.openengsb.org" target="_top">homepage</a> for further information.</p></div><div class="section" title="8.3.&nbsp;Prerequisites"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e544"></a>8.3.&nbsp;Prerequisites</h2></div></div></div><p>Warning: This section is likely to change in the near future, as domains and connectors are
    currently separated from the rest of the OpenEngSB project. Currently connectors are developed
    together with the core system.</p><p>For information about how to get started as contributor to the OpenEngSB project and how to
    get the current OpenEngSB source please read the contributor section of the manual: 
    <a class="xref" href="#developer.manual" title="Part&nbsp;VII.&nbsp;OpenEngSB Commiters &amp; Contributors">Part&nbsp;VII, &#8220;OpenEngSB Commiters &amp; Contributors&#8221;</a>.</p></div><div class="section" title="8.4.&nbsp;Step 1 - Use the archetype"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e553"></a>8.4.&nbsp;Step 1 - Use the archetype</h2></div></div></div><p> As the development of a connector is a recurring task the OpenEngSB developer team has prepared
    Maven archetypes and useful mojos, which provide support for the initial creation of a connector. A new connector
    can be created by invoking <span class="command"><strong>mvn openengsb:genConnector</strong></span> (or using
    <code class="filename">/etc/scripts/gen-connector.sh</code>)</p><p>Go into the directory "/connector" and invoke the mojo from there. It
    generates the result in the directory from where it is started, therefore it is recommended to run it
    from the "/connector" directory. You can also run it from a different directory and copy the results into
    the "/connector" directory. Fill in the following values (if no input is provided the default value is kept):</p><pre class="programlisting">Domain Name (is domainname): notification
Domain Interface (is NotificationDomain):
Connector Name: email
Version (is 1.1.0-SNAPSHOT):
Project Name (is OpenEngSB :: Connector :: Email):
    </pre><p>Now the maven archetype is executed. It asks you to confirm the configuration:</p><pre class="programlisting">groupId: org.openengsb.connector
artifactId: openengsb-connector-email
version: 1.1.0-SNAPSHOT
package: org.openengsb.connector.email
connectorName: Email
connectorNameLC: email
domainArtifactId: openengsb-domain-notification
domainInterface: NotificationDomain
domainPackage: org.openengsb.domain.notification
name: OpenEngSB :: Connector :: Email
 Y: : y
    </pre><p>A project named "email" is created with the following structure:</p><pre class="programlisting">email
|
|---pom.xml
|
|---src
     |
     |---main
          |
          |---java
          |     |
          |     |---org
          |          |
          |          |---openengsb
          |                  |
          |                  |---connector
          |                          |
          |                          |---email
          |                                |
          |                                |---EmailServiceManager.java
          |                                |
          |                                |---internal
          |                                       |
          |                                       |---EmailServiceImpl.java
          |                                       |
          |                                       |---EmailServiceInstanceFactory.java
          |
          |---resources
                  |
                  |---META-INF
                  |      |
                  |      |---spring
                  |             |
                  |             |---email-context.xml
                  |
                  |---OSGI-INF
                          |
                          |---l10n
                               |
                               |---bundle.properties
                               |
                               |---bundle_de.properties
    </pre><p>All these artifacts will be covered during the implementation of the connector and explained in
    step 2 of this tutorial.</p></div><div class="section" title="8.5.&nbsp;Step 2 - Add the dependencies"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e578"></a>8.5.&nbsp;Step 2 - Add the dependencies</h2></div></div></div><p>Let's start with the dependencies. As the email connector will be based upon the javax mail
    libraries, we need to include dependencies for the OSGI versions of these artifacts into the
    pom file located at "/provision/pom.xml". So we add this dependency to the dependencies section:</p><pre class="programlisting">
    &lt;dependency&gt;
  &lt;groupId&gt;org.apache.servicemix.bundles&lt;/groupId&gt;
  &lt;artifactId&gt;org.apache.servicemix.bundles.javax.mail&lt;/artifactId&gt;
  &lt;version&gt;1.4.4&lt;/version&gt;
&lt;/dependency&gt;
    
    </pre></div><div class="section" title="8.6.&nbsp;Step 3 - Configure the connector"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e585"></a>8.6.&nbsp;Step 3 - Configure the connector</h2></div></div></div><p>To configure the connector as part of the OpenEngSB two more things are necessary. At first
    we have to add the connector to the modules section of its parent pom if it is not already present there.
    If you have run openengsb:genConnector in the "connector" directory this step should have already been performed
    automatically for you. To check or manually add the entry, open the file "/connector/pom.xml" and add the
    new connector to the modules section:</p><pre class="programlisting">
  ...
&lt;modules&gt;
  &lt;module&gt;email&lt;/module&gt;
...
&lt;/modules&gt;
...
  
  </pre><p>The second step is necessary to configure Karaf correctly. Please open the file
  "/assembly/pom.xml" and add the following line:</p><pre class="programlisting">
  ...
&lt;profile&gt;
  &lt;id&gt;release&lt;/id&gt;
  ...
     &lt;deployURLs&gt;
       ...
       scan-bundle:mvn:org.openengsb.connector/openengsb-connector-email/2.0.0-SNAPSHOT,
       ...
     &lt;/deployURLs&gt;
...
  
  </pre></div><div class="section" title="8.7.&nbsp;Step 4 - Implement the connector"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e596"></a>8.7.&nbsp;Step 4 - Implement the connector</h2></div></div></div><p>Now you can run the following command in the root folder of the OpenEngSB to create an eclipse
    project for the new connector: </p><pre class="programlisting">mvn openengsb:eclipse</pre><p>Now import the connector project into Eclipse and implement the email service by implementing
    the classes EmailServiceImpl.java and EmailServiceInstanceFactory.java. We won't go into detail about
    the actual mail implementation here, so we encapsulated the mailing functionality in a mail
    abstraction. While the class EmailServiceImpl is responsible for the realization of the domain
    interface, the factory is responsible for creating instances of the email service and for
    publishing the meta data necessary to configure an instance of the email service. These two classes
    are now explained in detail.</p><pre class="programlisting">package org.openengsb.connector.email.internal;

import org.openengsb.connector.email.internal.abstraction.MailAbstraction;
import org.openengsb.connector.email.internal.abstraction.MailProperties;
import org.openengsb.core.api.AliveState;
import org.openengsb.domain.notification.NotificationDomain;
import org.openengsb.domain.notification.model.Notification;
import org.osgi.framework.ServiceRegistration;

public class EmailServiceImpl implements NotificationDomain {

    private final String id;

    private final MailAbstraction mailAbstraction;
    private ServiceRegistration serviceRegistration;
    private final MailProperties properties;

    public EmailServiceImpl(String id, MailAbstraction mailAbstraction) {
        this.id = id;
        this.mailAbstraction = mailAbstraction;
        properties = mailAbstraction.createMailProperties();
    }

    /**
     * Perform the given notification, which defines message, recipient, subject and 
     * attachments.
     */
    @Override
    public void notify(Notification notification) {
        mailAbstraction.send(properties, notification.getSubject(), notification
                .getMessage(), notification.getRecipient());
    }

    /**
     * return the current state of the service,
     *
     * @see org.openengsb.core.api.AliveState
     */
    @Override
    public AliveState getAliveState() {
        AliveState aliveState = mailAbstraction.getAliveState();
        if (aliveState == null) {
            return AliveState.OFFLINE;
        }
        return aliveState;
    }

    public String getId() {
        return id;
    }

    public ServiceRegistration getServiceRegistration() {
        return serviceRegistration;
    }

    public void setServiceRegistration(ServiceRegistration serviceRegistration) {
        this.serviceRegistration = serviceRegistration;
    }

    public MailProperties getProperties() {
        return properties;
    }
}
  </pre><p>As you can see, without the mail specific stuff the implementation is quite straight forward.
  Simply implement the domain interface as well as the getAliveState() method, which is used to query to current status of a tool.</p><pre class="programlisting">
 
package org.openengsb.connector.email.internal;

import java.util.HashMap;
import java.util.Map;

import org.openengsb.connector.email.internal.abstraction.MailAbstraction;
import org.openengsb.core.api.ServiceInstanceFactory;
import org.openengsb.core.api.descriptor.AttributeDefinition;
import org.openengsb.core.api.descriptor.ServiceDescriptor;
import org.openengsb.core.api.validation.MultipleAttributeValidationResult;
import org.openengsb.core.api.validation.MultipleAttributeValidationResultImpl;
import org.openengsb.domain.notification.NotificationDomain;

public class EmailServiceInstanceFactory implements
          ServiceInstanceFactory&lt;NotificationDomain, EmailServiceImpl&gt; {

    private final MailAbstraction mailAbstraction;

    public EmailServiceInstanceFactory(MailAbstraction mailAbstraction) {
        this.mailAbstraction = mailAbstraction;
    }

    private void setAttributesOnNotifier(Map&lt;String, String&gt; attributes, 
            EmailServiceImpl notifier) {

        if (attributes.containsKey("user")) {
            notifier.getProperties().setUser(attributes.get("user"));
        }
        if (attributes.containsKey("password")) {
            notifier.getProperties().setPassword(attributes.get("password"));
        }
        if (attributes.containsKey("prefix")) {
            notifier.getProperties().setPrefix(attributes.get("prefix"));
        }
        if (attributes.containsKey("smtpAuth")) {
            notifier.getProperties().setSmtpAuth(Boolean.parseBoolean(attributes.
                    get("smtpAuth")));
        }
        if (attributes.containsKey("smtpSender")) {
            notifier.getProperties().setSender(attributes.get("smtpSender"));
        }
        if (attributes.containsKey("smtpHost")) {
            notifier.getProperties().setSmtpHost(attributes.get("smtpHost"));
        }
        if (attributes.containsKey("smtpPort")) {
            notifier.getProperties().setSmtpPort(attributes.get("smtpPort"));
        }
    }

    /**
     * Called when the {@link #ServiceDescriptor} for the provided service is needed.
     *
     * The {@code builder} already has the id, service type and implementation type
     * set to defaults.
     */
    @Override
    public ServiceDescriptor getDescriptor(ServiceDescriptor.Builder builder) {
        builder.name("email.name").description("email.description");

        builder
            .attribute(buildAttribute(builder, "user", "username.outputMode", 
                    "username.outputMode.description"))
            .attribute(
                builder.newAttribute().id("password").name("password.outputMode")
                    .description("password.outputMode.description").defaultValue("")
                    .required().asPassword().build())
            .attribute(buildAttribute(builder, "prefix", "prefix.outputMode", 
                    "prefix.outputMode.description"))
            .attribute(
                builder.newAttribute().id("smtpAuth").name("mail.smtp.auth.outputMode")
                    .description("mail.smtp.auth.outputMode.description")
                    .defaultValue("false").asBoolean().build())
            .attribute(
                buildAttribute(builder, "smtpSender", "mail.smtp.sender.outputMode",
                    "mail.smtp.sender.outputMode.description"))
            .attribute(
                buildAttribute(builder, "smtpPort", "mail.smtp.port.outputMode",
                    "mail.smtp.port.outputMode.description"))
            .attribute(
                buildAttribute(builder, "smtpHost", "mail.smtp.host.outputMode",
                    "mail.smtp.host.outputMode.description")).build();

        return builder.build();
    }

    private AttributeDefinition buildAttribute(ServiceDescriptor.Builder builder, 
            String id, String nameId, String descriptionId) {
        return builder.newAttribute().id(id).name(nameId).description(descriptionId)
            .defaultValue("").required().build();

    }
    
    /**
     * Called by the {@link AbstractServiceManager} when updated service attributes for
     * an instance are available. The attributes may only contain changed values and 
     * omit previously set attributes.
     *
     * @param instance the instance to update
     * @param attributes the new service settings
     */
    @Override
    public void updateServiceInstance(EmailServiceImpl instance, Map&lt;String,
            String&gt; attributes) {
        setAttributesOnNotifier(attributes, instance);
    }

    /**
     * The {@link AbstractServiceManager} calls this method each time a new service 
     * instance has to be started.
     *
     * @param id the unique id this service has been assigned.
     * @param attributes the initial service settings
     */
    @Override
    public EmailServiceImpl createServiceInstance(String id, 
            Map&lt;String, String&gt; attributes) {
        EmailServiceImpl notifier = new EmailServiceImpl(id, mailAbstraction);
        setAttributesOnNotifier(attributes, notifier);
        return notifier;
    }

    /**
     * Validates if the service is correct before updating.
     */
    @Override
    public MultipleAttributeValidationResult updateValidation(EmailServiceImpl instance,
            Map&lt;String, String&gt; attributes) {
        return new MultipleAttributeValidationResultImpl(true, 
                new HashMap&lt;String, String&gt;());
    }

    /**
     * Validates if the attributes are correct before creation.
     */
    @Override
    public MultipleAttributeValidationResult createValidation(String id, 
            Map&lt;String, String&gt; attributes) {
        return new MultipleAttributeValidationResultImpl(true, 
                new HashMap&lt;String, String&gt;());
    }
}

  </pre><p>
    The factory is more interesting with respect to the OpenEngSB. It is used to create and configure
    instances of the email service. Furthermore it is responsible for publishing which properties
    a mail notifier needs to be configured in a proper way. The "getDescriptor" method returns a service
    descriptor, which is created with the help of a builder. This service descriptor contains the properties
    a mail notifier needs. In this case things like user password, smtp server and so on. The "updateServiceInstance"
    method updates an already created instance of the mail service. Basically this means setting the properties, which
    are provided in the attributes map parameter (see "setAttributesOnNotifier" method). The "createServiceInstance"
    method is responsible for the creation of a new email service.
    The methods "updateValidation" and "createValidation" are used to check properties before "updateServiceInstance" or
    "createServiceInstance" are called. As the mail service does not want to check properties beforehand it simply returns
    that all values are OK.</p></div><div class="section" title="8.8.&nbsp;Step 5 - Spring Setup and Internationalization"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e613"></a>8.8.&nbsp;Step 5 - Spring Setup and Internationalization</h2></div></div></div><p>The Maven archetype already created the spring setup for the email service at src/main/resources/META-INF/spring.
      If properties or constructor arguments are needed for the service factory, they have to be defined in the spring
      setup here. In our case the mail abstraction has to be injected as constructor argument on the creation of the
      email service factory.</p><p>With regards to internationalization it is necessary to add a name and a description for each property used in the
      service descriptor (see email service factory). The properties files for English and German are also already created
      by the Maven archetype and can be found at "src/main/resources/OSGI-INF/l10n/". In our case the bundle.properties file
      contains the following entries:</p><pre class="programlisting">email.name=Email Notification
email.description=This is a Email Notification Service

username.outputMode = Username
username.outputMode.description = Specifies the username of the email account 

password.outputMode = Password
password.outputMode.description = Password of the specified user

prefix.outputMode = Prefix
prefix.outputMode.description = Subject prefix for all mails sent by this connector

mail.smtp.auth.outputMode = Authentification
mail.smtp.auth.outputMode.description = Specifies if the smtp authentication is on or off

mail.smtp.sender.outputMode = Sender Emailadress
mail.smtp.sender.outputMode.description = Specifies the Emailadress of the sender

mail.smtp.port.outputMode = SMTP Port
mail.smtp.port.outputMode.description = Specifies the Port for the smtp connection

mail.smtp.host.outputMode = SMTP Host
mail.smtp.host.outputMode.description = Specifies the SMTP Hostname
    </pre><p>As you can see each property is defined with name and description. The same entries can be found in the
    German properties file (bundle_de.properties) with German names and descriptions.</p></div><div class="section" title="8.9.&nbsp;Step 6 - Start the OpenEngSB with your Connector"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e624"></a>8.9.&nbsp;Step 6 - Start the OpenEngSB with your Connector</h2></div></div></div><p>After implementing and testing your connector locally you can try to start up the OpenEngSB with your new connector.
    Enter the following commands in the root directory of the OpenEngSB to build and start the OpenEngSB in development mode:</p><pre class="programlisting">mvn clean install
mvn openengsb:provision
    </pre><p>Now you can enter "list" into the karaf console to check whether your new connector was installed and
      started.</p></div><div class="section" title="8.10.&nbsp;Step 7 - Test the new connector"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e633"></a>8.10.&nbsp;Step 7 - Test the new connector</h2></div></div></div><p>Now you can use the OpenEngSB administration WebApp (available at 
      <a class="link" href="http://localhost:8090/openengsb" target="_top">http://localhost:8090/openengsb</a>) to test your new 
      connector. For more information about how to use the WebApp see 
      <a class="link" href="http://openengsb.org/howto/howto_logging.html" target="_top">the How-to section</a>} of the the OpenEngSB homepage.</p></div></div><div class="chapter" title="Chapter&nbsp;9.&nbsp;HowTo - Create a Client-Project for the OpenEngSB"><div class="titlepage"><div><div><h2 class="title"><a name="howto.clientProject"></a>Chapter&nbsp;9.&nbsp;HowTo - Create a Client-Project for the OpenEngSB</h2></div></div></div><div class="section" title="9.1.&nbsp;Goal"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e648"></a>9.1.&nbsp;Goal</h2></div></div></div><p>This tutorial describes how to setup a client project for OpenEngSB using maven archetype</p></div><div class="section" title="9.2.&nbsp;Time to Complete"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e653"></a>9.2.&nbsp;Time to Complete</h2></div></div></div><p>If you are already familiar with the OpenEngSB about 30 minutes (This includes only the setup for the
      project). If you are not familiar with
      the OpenEngSB please read this manual from the start or check the
      <a class="link" href="http://www.openengsb.org" target="_top">homepage</a>
      for further information.
    </p></div><div class="section" title="9.3.&nbsp;Step 2 - Needed tools"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e661"></a>9.3.&nbsp;Step 2 - Needed tools</h2></div></div></div><p>You need to have following tools to be installed</p><div class="section" title="9.3.1.&nbsp;Java Development Kit 6"><div class="titlepage"><div><div><h3 class="title"><a name="d0e666"></a>9.3.1.&nbsp;Java Development Kit 6</h3></div></div></div><p>First of all the JDK6 should be installed on the system and the JAVA_HOME variable should be set.
        (<a class="link" href="http://java.sun.com/javase/downloads" target="_top">Java download</a>). Also, make sure that the
        java-command is available in the PATH-variable
      </p></div><div class="section" title="9.3.2.&nbsp;Maven 3"><div class="titlepage"><div><div><h3 class="title"><a name="d0e674"></a>9.3.2.&nbsp;Maven 3</h3></div></div></div><p>You will also need Maven 3 be installed on your system.
        (<a class="link" href="http://maven.apache.org/download.html" target="_top">Maven download</a>)
        Also, make sure that the maven-command is available in the PATH-variable
      </p></div></div><div class="section" title="9.4.&nbsp;Step 2 - Using the archetype"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e682"></a>9.4.&nbsp;Step 2 - Using the archetype</h2></div></div></div><p>The OpenEngSB provides an maven archetype to create a client project. To use it go into your target directory
      and type in a shell:
    </p><span class="command"><strong>mvn openengsb:genClientProjectRoot</strong></span><p>
      The script generates the result in the directory from where it was started
    </p><p>You will be asked to fill out following values (if no input is provided the default value is kept):</p><pre class="programlisting">
      Project Group Id [org.openengsb.client-project]:
      Project Artifact Id [openengsb-client-project]:
      Project Name [Client-Poject]:
      Project Version [1.0.0-SNAPSHOT]:
      Project Description [This is a client project for the OpenEngSB]:
      Project Url [http://www.openenbsb.org]:
      OpenEngSB version [1.2.0-SNAPSHOT]:
      OpenEngSB maven plugin Version [1.4.0-SNAPSHOT]:
      Plugin Assembly version [2.2-beta-5]:</pre><p>You will be asked what the groupId, artifactId and a name of your client project should look like.
      You can also specify the OpenEngSB version you want to use, but it is recommended to use an up-to-date version.
      To check the current OpenEngSB version have a look at the
      <a class="link" href="http://www.openengsb.org/downloads.html" target="_top">Download section</a>.
      It asks you to confirm the configuration and will create the project.
    </p></div><div class="section" title="9.5.&nbsp;Step 3 - The result"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e700"></a>9.5.&nbsp;Step 3 - The result</h2></div></div></div><p>If everything worked as expected you will get a client project having following structure:</p><pre class="programlisting">
.
`-- openengsb-client-project
      |-- assembly
      | |-- pom.xml
      |     `-- src
      |     `-- main
      | |-- descriptors
      | |   `-- bin.xml
      |     `-- filtered-resources
      | |-- etc
      | |   `-- org.apache.karaf.features.cfg
      | |-- features.xml
      |     `-- README.txt
      |-- core
      |   `-- pom.xml
      |-- docs
      | |-- homepage
      | | |-- pom.xml
      | |     `-- src
      | |     `-- site
      | |     `-- ...
      | |-- manual
      | | |-- pom.xml
      | |     `-- src
      | |     `-- ...
      |   `-- pom.xml
      |-- LICENSE
      |-- poms
      | |-- compiled
      | |   `-- pom.xml
      | |-- nonosgi
      | |   `-- pom.xml
      | |-- pom.xml
      |     `-- wrapped
      |     `-- pom.xml
      |-- pom.xml
      `-- README.md</pre><p>You can find further information about these modules in the
      <a class="link" href="http://www.openengsb.org/manual/index.html" target="_top">OpenEngSB-Manual</a>
    </p></div><div class="section" title="9.6.&nbsp;Step 4 - Install features"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e712"></a>9.6.&nbsp;Step 4 - Install features</h2></div></div></div><p>To install features to the project have a look at the file org.apache.karaf.features.cfg in
      assembly/src/main/filtered-resource/etc. Here you can define features to be registered by default or which feature
      should be installed on startup.
      To install your own features see the file features.xml in assembly/src/main/filtered-resource. E.G.: You want to
      add a module called clientproject-ui the core features add this to the features.xml
    </p><pre class="programlisting">
      <span style="color: red">&lt;bundle&gt;mvn:org.openengsb.clientproject.ui/clientproject-ui-web$\{project.version\}/war&lt;/bundle&gt;</span></pre></div><div class="section" title="9.7.&nbsp;Step 5 - Start the Client-Project"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e721"></a>9.7.&nbsp;Step 5 - Start the Client-Project</h2></div></div></div><p>To start the client-project, go to the command-window and type</p><pre class="programlisting">mvn clean install openengsb:provision</pre><p>Now you can enter "list" into the karaf console to check what features are installed and running</p></div><div class="section" title="9.8.&nbsp;Step 6 - Shutdown"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e730"></a>9.8.&nbsp;Step 6 - Shutdown</h2></div></div></div><p>To shutdown, go to the command-window and type "shutdown" or press "Ctrl+D"</p></div></div><div class="chapter" title="Chapter&nbsp;10.&nbsp;HowTo - Interact with the OPENENGSB Remotely"><div class="titlepage"><div><div><h2 class="title"><a name="howto.remote"></a>Chapter&nbsp;10.&nbsp;HowTo - Interact with the OPENENGSB Remotely</h2></div></div></div><div class="section" title="10.1.&nbsp;Using JMS proxying"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="howto.remote.jms"></a>10.1.&nbsp;Using JMS proxying</h2></div></div></div><p>The current JMS Connector allows for internal method calls being redirected via JMS as well as internal
      services being called.</p><p>For resources regarding JMS please take a look at the according <a class="link" href="http://en.wikipedia.org/wiki/Java_Message_Service" target="_top">Wikipedia Page</a> and for specific language
      bindings take a look at <a class="link" href="http://activemq.apache.org/connectivity.html" target="_top">ActiveMQ</a></p><div class="section" title="10.1.1.&nbsp;Proxying internal Connector calls"><div class="titlepage"><div><div><h3 class="title"><a name="d0e751"></a>10.1.1.&nbsp;Proxying internal Connector calls</h3></div></div></div><p>Whenever now a method is sent through the JMS Port the call is marshalled and sent via JMS to a queue named
        "receive"". The marshalling is done via JSON. The mapping has the parameters methodName, args, classes, metadata
        and potentially answer and callId. methodName gives the name of the method to call. Args are the serialised
        parameters of the method. classes are the types of the arguments. This way it is easy to unmarshall the args
        into the appropriate classes. metadata is a simple Map which stores key value pairs. answer can simply be yes or
        no and denotes if the methodcall wants an answer to the call. callId gives the return queue the caller will
        listen to for an answer. </p><p>An answer can have the type, arg, className and metaData properties. type can be Object, Exception or Void.
        arg is the serialised form of the return argument. className is the runtime class of the arg for
        deserialisation. metadata is a simple key value store. </p><div class="section" title="10.1.1.1.&nbsp;HowTo call an external service via proxies"><div class="titlepage"><div><div><h4 class="title"><a name="d0e758"></a>10.1.1.1.&nbsp;HowTo call an external service via proxies</h4></div></div></div><p>This section will give a short introduction how to instantiate a proxy and call an external
          connector</p><p>First you have to go to the TestClient to instantiate a new Proxy. Select the Domain you want to have
          proxied and click New Proxy for that Domain.</p><div class="mediaobject" align="center"><img src="graphics/testclient.png" align="middle"><div class="caption">Testclient new proxy link</div></div><p>Then you have to set the correct values for the proxy properties. The Service Id is a unique value that
          identifies the proxy in the OPENENGSB system. The Port Id defines to Port to be used for sending the request.
          "jms-json" is a currently supported Port that sends the request via a json encoded JMS message. The
          destination describes the endpoint the message should be sent to. When using jms-json the domain and port of
          the JMS provider have to be set. When calling a remote connector the unique id of the remote service or
          connector has to be provided. This way the remote service can identify, load and call a certain service. If
          the call is not intended to go to another OPENENGSB, or the external service needs no identification of the
          service to call the remote service id can be ommited.</p><div class="mediaobject" align="center"><img src="graphics/create-proxy.png" align="middle"><div class="caption">Create Proxy</div></div><p>After saving the proxy you should be able to test it via the TestClient page. Following is an example of
          an unsecure call:</p><pre class="programlisting">{
  "authenticationData": {
    "className":"org.openengsb.core.api.security.model.UsernamePasswordAuthenticationInfo",
    "data": {
      "username":"admin",
      "password":"password"
    }
  },
  "timestamp":42,
  "message": {
    "callId":"xyz",
    "answer":true,
    "methodCall": {
      "classes": [
        "java.lang.String",
        "org.openengsb.core.api.workflow.model.ProcessBag"
      ],
      "methodName": "executeWorkflow",
      "metaData": {
        "serviceFilter": "(objectClass=org.openengsb.core.api.workflow.WorkflowService)",
        "contextId": "foo"
      },
      "args": [
        "simpleFlow",
        {
        }
      ]
    }
  }
}</pre><p> IF you would like to use security instead you should prefer the following call: </p><pre class="programlisting">{
{
  "encryptedContent":"encodedMessage", // Base 64 and encryped string of the message above
  "encryptedKey":"encodedKey" // The encoded key
}</pre><p>
        </p><div class="mediaobject" align="center"><img src="graphics/call-proxy.png" align="middle"><div class="caption">Test a proxy</div></div><p>When proxying connector calls you have to provide an answer to every call, as the system blocks until it
          gets an answer. You have to send a JSON message containing a type string parameter, which can be Object,
          Exception or Void depending on the return argument of the method, arg where you simply serialise the Return
          Object, so it can be deserialised into the correct object later and className which gives the exact class that
          has to be used for deserialisation. The request contains a parameter callId which is the name of the queue the
          answer has to be sent to.</p><pre class="programlisting">{"type":"Object","className":"org.openengsb.core.ports.jms.JMSPortTest$TestClass",
          "metaData":{"test":"test"},"arg":{"test":"test"}}</pre><p>Whenever a call to this proxy is then made a new JMS message will be sent to the "receive" queue on the
          destination you entered. The exact make up of the message was already described. When implementing an external
          connector it is best to test the call you want to receive first via the TestClient, so you get the exact
          message that you will have to work with.</p><p>Please always keep in mind security. By default security is turned on. If you want to turn it off please
          take a look into the <code class="code">etc/system.properties</code> file. While using no security for testing is very
          interesting we would not advise you to send unencrypted messages in a production environment.</p></div></div><div class="section" title="10.1.2.&nbsp;Calling internal Services"><div class="titlepage"><div><div><h3 class="title"><a name="d0e802"></a>10.1.2.&nbsp;Calling internal Services</h3></div></div></div><p>To call an internal Service send a methodcall as described before to the "receive" queue on the server you
        want to call. The service works exactly as defined before. There currently are two ways of specifying which
        service to address. </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"> serviceId: This will call the service that was exported with the specified "id"-property. It
            behaves like the following Filter in OSGi-syntax: <code class="code">(id=&lt;serviceId&gt;)</code></li><li class="listitem"> serviceFilter: This way you can specify any filter in OSGi-syntax to adress the service, so it is
            not necessary to bind the client to a specific id, but to other properties as well (e.g.
              <code class="code">location.root</code>, <code class="code">location.&lt;context&gt;</code>, <code class="code">objectClass</code>, ...)
          </li></ul></div><p> You can also use both attributes (serviceId and serviceFilter). It will create a filter matching
        both constraints. </p><p>Example: if you want to execute a workflow via the WorkflowService send</p><code class="code">{"callId":"12345","answer":true,"classes":["java.lang.String",
        "org.openengsb.core.api.workflow.model.ProcessBag"],
        "methodName":"executeWorkflow","metaData":{"serviceId":"workflowService",
        "contextId":"foo"},"args":["simpleFlow", {}]}</code><p>Please be aware that the flow the above method tries to call (simpleFlow) is not available by default on the
        OpenEngSB. To make sure that there's a flow you can call install the flow in the OpenEngSB. Therefore start the
        OpenEngSB and go to the <a class="link" href="http://localhost:8090/openengsb/SendEventPage/" target="_top">SendEventPage</a>.
        There choose to create a new process and press new. Now enter simpleFlow as processname and past the following
        process: </p><pre class="programlisting">&lt;process xs:schemaLocation="http://drools.org/drools-5.0/process 
  drools-processes-5.0.xsd" type="RuleFlow" name="simpleFlow" id="simpleFlow" 
  package-name="org.openengsb" xmlns="http://drools.org/drools-5.0/process" 
  xmlns:xs="http://www.w3.org/2001/XMLSchema-instance"&gt;
 &lt;header&gt;
  &lt;variables&gt;
   &lt;variable name="processBag"&gt;
    &lt;type name="org.drools.process.core.datatype.impl.type.ObjectDataType" 
     className="org.openengsb.core.api.workflow.model.ProcessBag"/&gt;
   &lt;/variable&gt;
  &lt;/variables&gt;
 &lt;/header&gt;
 &lt;nodes&gt;
  &lt;start id="1" name="Start" x="16" y="16" width="91" height="48"/&gt;
  &lt;end id="2" name="End" x="21" y="168" width="80" height="40"/&gt;
  &lt;actionNode id="3" name="Action" x="21" y="96" width="80" height="40"&gt;
   &lt;action type="expression" dialect="mvel"&gt;
    processBag.addProperty("test", 42);
    processBag.addProperty("alternativeName", "The answer to life the universe and everything");
   &lt;/action&gt;
  &lt;/actionNode&gt;
 &lt;/nodes&gt;
 &lt;connections&gt;
  &lt;connection from="3" to="2"/&gt;
  &lt;connection from="1" to="3"/&gt;
 &lt;/connections&gt;
&lt;/process&gt;</pre><p> After pressing save you can access the process via the message shown above. </p><p>to the receive queue on the OPENENGSB JMS Port which is started by default on Port 6549. Make sure that
        classes and args has the same number of arguments. If you just want an object to be instantiated, but have no
        corresponding values that should be set for the object simply add {} (as in the example above) which will
        instantiate the object but recognize, that no values have to be set on the object. {"name" : "SomeName"} would
        on the other hand call the setName method with SomeName.</p><p>The response to the above message will be returned on a queue you've pasted via the callId field.</p></div><div class="section" title="10.1.3.&nbsp;Examples"><div class="titlepage"><div><div><h3 class="title"><a name="d0e840"></a>10.1.3.&nbsp;Examples</h3></div></div></div><p> We provide examples in different languages how to connect to the OpenEngSB. The examples are grouped
        according to language and the documentation to the different examples are directly done in the code of the
        examples. We try to keep those examples as good as possible up-to-date, but do not gurantee that they all work
        as expected since we can't add them to our integration tests. If you want to provide examples in different
        languages you're always welcomed to provide them. </p><div class="section" title="10.1.3.1.&nbsp;Connect With Python"><div class="titlepage"><div><div><h4 class="title"><a name="d0e845"></a>10.1.3.1.&nbsp;Connect With Python</h4></div></div></div><p>To test the OPENENGSB JMS implementation with Python please follow the <a class="link" href="https://github.com/openengsb/openengsb/blob/master/docs/examples/src/main/python/PythonClient.txt" target="_top">instructions</a>
        </p><p>The example can be downloaded <a class="link" href="/org/openengsb/docs/openengsb-docs-examples/2.0.0-SNAPSHOT/openengsb-docs-examples-2.0.0-SNAPSHOT-python.zip" target="_top">here</a></p></div><div class="section" title="10.1.3.2.&nbsp;Connect With CSharp"><div class="titlepage"><div><div><h4 class="title"><a name="developer.plugins.csharp"></a>10.1.3.2.&nbsp;Connect With CSharp</h4></div></div></div><p>The CSharp connector is written on basis of the Apache ActiveMQ JMS connector. There an EngSB.sln file.
          This project file has been developed with SharpDevelop 4, but is also tested with VisualStudio 2008 CSharp
          Express Edition with the .Net Framework 4.</p><p>The example can be downloaded <a class="link" href="/org/openengsb/docs/openengsb-docs-examples/2.0.0-SNAPSHOT/openengsb-docs-examples-2.0.0-SNAPSHOT-csharp.zip" target="_top">here</a></p></div><div class="section" title="10.1.3.3.&nbsp;Connect With Perl"><div class="titlepage"><div><div><h4 class="title"><a name="developer.plugins.perl"></a>10.1.3.3.&nbsp;Connect With Perl</h4></div></div></div><p>As shown in this example you can connect to the OpenEngSB in a similar way as with Python or
          CSharp.</p><p>The example can be downloaded <a class="link" href="/org/openengsb/docs/openengsb-docs-examples/2.0.0-SNAPSHOT/openengsb-docs-examples-2.0.0-SNAPSHOT-perl.zip" target="_top">here</a></p></div></div></div><div class="section" title="10.2.&nbsp;Using WS Proxing"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e875"></a>10.2.&nbsp;Using WS Proxing</h2></div></div></div><p>TBW</p></div><div class="section" title="10.3.&nbsp;Internal Specialities"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e880"></a>10.3.&nbsp;Internal Specialities</h2></div></div></div><p>Basically there is nothing special to do to get up a service. Still, since java has no static type information
      there is no possibility to marshal things like a <code class="code">java.util.List</code> of options. The fix we've introduced
      for this problem is to annotate parameters and define a custom marshaller. Therefore create a class with a default
      constructor extending CustomJsonMarshaller. Then annotate the parameter of the implementations you're using with
      the UseCustomJasonMarshaller annotation adding the Marshaller class. That's it. The framework will automatically
      create the mapper and call the transform method for you. </p><p> Since there is an issue right now with Aries Proxies hiding parameter annotations the
      CustomMarshallerRealTypeAccess interface provides a workaround for the problem. In case this interface is found
      the class provided by it is used for searching. Otherwise the class directly is scanned.</p></div></div><div class="chapter" title="Chapter&nbsp;11.&nbsp;HowTo - Combine mulitple connectors"><div class="titlepage"><div><div><h2 class="title"><a name="howto.composite"></a>Chapter&nbsp;11.&nbsp;HowTo - Combine mulitple connectors</h2></div></div></div><p>It is possible to combine several connector-instances to one parent connector that appears to workflows like
    any other connector. For example you may want to have several notification-connectors in a workflow. It uses the
    location-placeholder "foo". So when the workflow expects the connector-instance at location "foo", you may want it
    to call multiple connectors. One would expect that simply assigning the location "foo" to every connector would
    create this behaviour, but it doesn't. By default, the connector with the highest service ranking is chosen (see
    OSGi-core-specification section 5.5.5).</p><div class="section" title="11.1.&nbsp;Composite strategies"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="howto.composite.strategy"></a>11.1.&nbsp;Composite strategies</h2></div></div></div><p>There are also other issues with using multiple service in a place where one single service is expected:
      </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Should the services be called concurrently or sequentially?</li><li class="listitem">Which service should be called first?</li><li class="listitem">What should be returned as a result?</li></ul></div><p>
      All this is specified by a CompositeStrategy. Strategy-implementations must implement the
      CompositeConnectorStrategy interface and be registerd as OSGi-services exporting this interface. Also the service
      must specify the "composite.strategy.name" property.
      The strategy is provided with a list of ServiceReferences, and the invocation parameters.
      The implementation can decide which services to resolve and to invoke.
      Also the strategy must return a single result.
    </p></div><div class="section" title="11.2.&nbsp;Create a composite connector"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="howto.composite.connector"></a>11.2.&nbsp;Create a composite connector</h2></div></div></div><p>A composite connector instance can be created like a regular connector-instance. You need to supply the
        following attributes:
      </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">querystring: a string representing an OSGi-query. All services that match this query are passed on
            to the strategy as ServiceReferences.
            Example: Suppose we have two notification services. One has the property
            <code class="code">location.foo=notification/1</code> and the other one has <code class="code">location.foo=notification/2</code>.
                A possible query-string for the composite-service could be <code class="code">(location.foo=notification/*)</code>.
          </li><li class="listitem">composite-strategy-name: The name of the strategy that should be used.</li></ul></div><p>
    </p></div></div><div class="chapter" title="Chapter&nbsp;12.&nbsp;HowTo - Integrate services with OpenEngSB"><div class="titlepage"><div><div><h2 class="title"><a name="howto.integrate"></a>Chapter&nbsp;12.&nbsp;HowTo - Integrate services with OpenEngSB</h2></div></div></div><div class="section" title="12.1.&nbsp;Goal"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e933"></a>12.1.&nbsp;Goal</h2></div></div></div><p>The service integration tutorial shows how to combine and automate different software tools, services and applications with OpenEngSB. To show OpenEngSB's versatility the use case we will be implementing is a continuous integration (CI) tool for software development processes. The tutorial takes a straight forward approach favoring visible results over architectural details of tool integration. Whether or not you have experience with CI, bear with the tutorial for a moment and you will see how simple it works out.</p><p>Before we get started let us lay out the idea of our CI tool and create a step-by-step development plan. The practice of continuous integration aims at improving software quality by frequent (automated) building and testing of a project's source base and by reporting back to the developers. The CI tool must be able to access the source repository, build the project, test the binaries and  reports to the developers. And there we have a basic four step plan:</p><p>(1) Repository access</p><p>(2) Building source</p><p>(3) Testing binaries</p><p>(4) Notification process</p><p>If you would like to take a look at a fully functional CI server built on OpenEngSB check out <a class="link" href="http://opencit.openengsb.org" target="_top">OpenCIT</a>. It implements a wider range of features, but it's a great reference.</p></div><div class="section" title="12.2.&nbsp;Time to Complete"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e953"></a>12.2.&nbsp;Time to Complete</h2></div></div></div><p>If you are already familiar with the OpenEngSB about 30 minutes. If you are not familiar with the OpenEngSB please read this manual from the start or check the <a class="link" href="http://www.openengsb.org" target="_top">homepage</a> for further information.</p></div><div class="section" title="12.3.&nbsp;Prerequisites"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e961"></a>12.3.&nbsp;Prerequisites</h2></div></div></div><p>It is assumed you have basic knowledge of software development practices and you are able to set up auxiliary software (i.e. JDK 1.6) youself.</p><p>Warning: This section is likely to change in the near future, as the web UI as well as domains and connectors are subject to change.</p></div><div class="section" title="12.4.&nbsp;Setting up OpenEngSB"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e968"></a>12.4.&nbsp;Setting up OpenEngSB</h2></div></div></div><div class="mediaobject" align="center"><img src="graphics/ci_download.png" align="middle"><div class="caption">download openengsb</div></div><p>Getting OpenEngSB is simple. Go to <a class="link" href="http://www.openengsb.org" target="_top">openengsb.org</a>, <a class="link" href="http://www.openengsb.org/downloads.html" target="_top">download</a> the latest stable version to your computer and unpack the archive to a convenient location. Before you fire up OpenEngSB for the first time, please make sure you have a Java Development Kit 1.6+ available and set up.</p><div class="mediaobject" align="center"><img src="graphics/ci_console.png" align="middle"><div class="caption">openengsb console</div></div><p>You can startup OpenEngSB via the <span class="command"><strong>openengsb</strong></span> script in the "bin" folder. If you want to explore the web interface yourself before digging into implementing the CI use case, open up your web browser and navigate to <a class="link" href="http://localhost:8090/openengsb" target="_top">http://localhost:8090/openengsb</a> and log on as "admin" with password "password".</p><div class="mediaobject" align="center"><img src="graphics/ci_webui.png" align="middle"><div class="caption">openengsb web UI</div></div><p>If you want to take a break or shutdown OpenEngSB in the middle of the tutorial, go ahead and do not worry. All changes made so far are saved and restored upon restart, so you can continue working with the most up-to-date state. Use the <span class="command"><strong>shutdown</strong></span> command in OpenEngSB's management console to stop any running services.</p></div><div class="section" title="12.5.&nbsp;Step 1 - Source repository"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e1007"></a>12.5.&nbsp;Step 1 - Source repository</h2></div></div></div><div class="mediaobject" align="center"><img src="graphics/ci_mvnversion.png" align="middle"><div class="caption">check maven and jdk version</div></div><p>It turns out, we actually need a sample project before we can start developing and testing our CI tool. In this tutorial we will be using Apache Maven for project and source management and a small <span class="command"><strong>Hello World</strong></span> application written in Java. For this to work flawlessly we need JDK 1.6+ (<a class="link" href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" target="_top">download</a>) and Maven 3+ (<a class="link" href="http://maven.apache.org/download.html" target="_top">download</a>) to be set up on the computer.</p><div class="mediaobject" align="center"><img src="graphics/ci_tutorial.png" align="middle"><div class="caption">tutorial project package</div></div><p>You may download and extract the openengsb-tutorial (<a class="link" href="/org/openengsb/docs/openengsb-docs-examples/2.0.0-SNAPSHOT/openengsb-docs-examples-2.0.0-SNAPSHOT-citutorial.zip" target="_top">download</a>) project that works out of the box or set up your own sample project via maven archetypes. Put the project files in a memorable location (i.e. "/home/user/Desktop/openengsb-tutorial" or "C:\users\user\desktop\openengsb-tutorial") and that's about it for now.</p></div><div class="section" title="12.6.&nbsp;Step 2 - Building the source code"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e1036"></a>12.6.&nbsp;Step 2 - Building the source code</h2></div></div></div><div class="mediaobject" align="center"><img src="graphics/ci_login.png" align="middle"><div class="caption">login</div></div><p>You could certainly build the project using Maven, but we want this to happen from within OpenEngSB. Open up your browser and go to the web interface at <a class="link" href="http://localhost:8090/openengsb" target="_top">http://localhost:8090/openengsb</a>. Authenticate using the <span class="command"><strong>Login</strong></span> link as "admin" with password "password".</p><div class="mediaobject" align="center"><img src="graphics/ci_testclient.png" align="middle"><div class="caption">test client</div></div><p>Switch to the <span class="command"><strong>Test client</strong></span> tab and check whether the <span class="command"><strong>build domain</strong></span> is available to accept commands.</p><div class="mediaobject" align="center"><img src="graphics/ci_feature.png" align="middle"><div class="caption">install connector in console</div></div><p>As the <span class="command"><strong>build domain</strong></span> is not shown, we will need to go to OpenEngSB's console. Use the "features:install openengsb-connector-maven" command to load the tool connector for Apache Maven. The tool connector allows OpenEngSB to communicate with an external service or application, Maven in this case. By loading the connector OpenEngSB also loads the domains associated with the connector. A domain is a generic interface that is implemented by specific connectors. For example, the build domain offers a generic function to build a software project. Whether this is done by Apache Maven, an Ant script or a plain compiler depends on the connector chosen by the user, but does not affect the basic model of our CI tool that simply "builds" the source. Using this technique specific tools can be exchanged quickly and transparently while data-flow and process models are completely unaffected.</p><div class="mediaobject" align="center"><img src="graphics/ci_newconnector.png" align="middle"><div class="caption">create new connector instance</div></div><p>Now let us return to the web interface. After a page refresh we are able to create a new Maven connector instance by following the <span class="command"><strong>new</strong></span> link next to the connector description.</p><div class="mediaobject" align="center"><img src="graphics/ci_buildconnector.png" align="middle"><div class="caption">setup build connector</div></div><p>The service id is an arbitrary name that can be referred to later on, i.e. <span class="command"><strong>builder</strong></span>. The project path refers to the local copy of the source repository, i.e. "/home/user/Desktop/openengsb-tutorial". Finally, the maven command is the command line option handed to Apache Maven, i.e. "clean build". Whenever the connector is ordered to build the project it will now execute "mvn clean compile" in the project directory of openengsb-tutorial. Click save to create the connector instance.</p><div class="mediaobject" align="center"><img src="graphics/ci_testbuilder.png" align="middle"><div class="caption">test build connector</div></div><p>It is time for some action. Scroll down all the way in the <span class="command"><strong>Test Client</strong></span> tab, navigate to the <span class="command"><strong>BuildDomain</strong></span> in the tree view and click the <span class="command"><strong>builder</strong></span> service. From the drop down menu below select <span class="command"><strong>build()</strong></span> and click the "Call" button. When the project is built successfully a "Method called successfully" message appears.</p><div class="mediaobject" align="center"><img src="graphics/ci_helloworld.png" align="middle"><div class="caption">hello world</div></div><p>Let us check the directory of openengsb-tutorial to find the newly created <span class="command"><strong>target</strong></span> directory. Using a console we can navigate to the <span class="command"><strong>classes</strong></span> sub-folder and run "java org.openengsb.Main". It returns "Hello World!". Congratulations, you have just implemented the core functionality of our CI tool.</p><p>In case an error message is returned, we need to check the connector configuration. Please make sure that Maven is able to build the project by manually executing "mvn clean build" in the project directory of openengsb-tutorial. If this does not work out, most likely the setup of either Maven or JDK are incorrect. If it works however, please check the configuration of the connector by navigating to the <span class="command"><strong>builder</strong></span> service in the web interface again and clicking the "Edit Service" button.</p></div><div class="section" title="12.7.&nbsp;Step 3 - Testing binaries"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e1132"></a>12.7.&nbsp;Step 3 - Testing binaries</h2></div></div></div><p>The next step in building the CI tool is implementation of automated testing. We can use the <span class="command"><strong>test domain</strong></span> to achieve this. Conveniently, the Maven connector also exports this type of functionality and we do not to load any additional features in the management console.</p><div class="mediaobject" align="center"><img src="graphics/ci_testconnector.png" align="middle"><div class="caption">setup test connector instance</div></div><p>Use the <span class="command"><strong>Test client</strong></span> tab and create a new instance of the Maven connector for the "test" domain. It works the same way as before. The Service Id is an arbitrary name, i.e. <span class="command"><strong>tester</strong></span>. The project path points at the location of openengsb-tutorial's base directory, i.e. "/home/user/Desktop/openengsb-tutorial", and the maven command indicates the command line arguments passed to Maven, i.e. "test". Click save to create the connector instance.</p><div class="mediaobject" align="center"><img src="graphics/ci_testtester.png" align="middle"><div class="caption">test test connector (yes, that's necessary)</div></div><p>We are also going to test the newly created connector. Use the tree view at the bottom of the page to navigate to <span class="command"><strong>TestDomain</strong></span> and select the <span class="command"><strong>tester</strong></span> service. In the drop down box below choose <span class="command"><strong>runTests()</strong></span> and click the "Call" button. If the "method called successfully" message is returned, the Maven connector ran the rigorous unit tests on our sample application and they were passed with flying colors.</p><div class="mediaobject" align="center"><img src="graphics/ci_sendeventpage.png" align="middle"><div class="caption">send event page</div></div><p>In case you are wondering about the output of the test suite go to the <span class="command"><strong>Send Event page</strong></span>. There you will find an audit list of all events processed by OpenEngSB and their corresponding payload, i.e. the output of the test run. The list behaves like a log file with most recent events appended to the bottom. In OpenEngSB any input from connectors is processed by domains and packaged in form of events. Every time an event is raised it can be matched by a rule in a central rule-base and cause a reaction of the system possibly invoking different domains or spawning additional events. By editing the rule-base we become able to link different actions together. Depending on the outcome of an action, we may receive different events, i.e. build success or build failure. By creating separate rules for each case we can react accordingly and by chaining multiple actions and events we could create a longer decision tree or process model.</p></div><div class="section" title="12.8.&nbsp;Step 4 - Notification Process"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e1179"></a>12.8.&nbsp;Step 4 - Notification Process</h2></div></div></div><p>In the final step we link the build and test stages together and add functionality to output results of the process. For this purpose we will create a small number of rules that react to events generated by the build and test stage. To keep things simple we do not add further connectors and assume that the build process is started by calling the <span class="command"><strong>builder</strong></span>'s "build()" method in the <span class="command"><strong>Test client</strong></span> web UI.</p><p>We are going to write the results of the build and test stage to the management console of OpenEngSB. We will notify about the build starting and its outcome. Also, in case the build works out successfully we will automatically start the test process. Hence, we need rules matching "BuildStartEvent" and "BuildSuccessEvent" that write output to the console and potentially activate the test connector.</p><div class="mediaobject" align="center"><img src="graphics/ci_ruleeditor.png" align="middle"><div class="caption">rule base editor</div></div><p>The easiest way to edit the rule-base of our OpenEngSB instance is the editor area at the bottom of the <span class="command"><strong>Send Event page</strong></span>. You can find event types and names by checking the event log displayed on the page and create rules manually in the editor below. The rules are written in plain text, based on Drools (<a class="link" href="http://www.jboss.org/drools/documentation" target="_top">documentation</a>) and Java standards. They are quickly understood, just take a look at the <span class="command"><strong>auditEvent</strong></span> rule used to generate the event log displayed on top of the page. You can display the rule by choosing "Rule" in the left-most drop-down box and "org.openengsb.auditEvent" in the second one. The text editor now shows that there is a <span class="command"><strong>when</strong></span> section that acts as filter for incoming events and there is a <span class="command"><strong>then</strong></span> section that describes the actions to be taken in case of a match.</p><div class="mediaobject" align="center"><img src="graphics/ci_buildrule.png" align="middle"><div class="caption">build started rule</div></div><p>Let us start out and create our own rule. We will inform the user via console when a build process starts. Click the <span class="command"><strong>new</strong></span> button next to the drop-down boxes, enter a name for the newly created rule, i.e. "buildStarted", and save it. After selecting the rule in the drop-down box the text editor actually shows the same content as for the audit event. Do not be confused, it's the default template. You can start editing right away. <span class="command"><strong>Note</strong></span>: Writing output directly to the console without using a logger service is considered bad practice. Yet, it's simple and sufficient for demonstration purposes.</p><pre class="programlisting">
    
when
  Event(type == "BuildStartEvent")
then
  System.out.println("Build started");
    </pre><p>This rule matches "BuildStartEvent" and prints a line to the console window. Click <span class="command"><strong>save</strong></span> to prepare the rule for testing. Switch to the <span class="command"><strong>Test client</strong></span> tab, select the <span class="command"><strong>builder</strong></span> and call the "build()" method. If things work out, you'll instantly see the "Build started" notification pop up in the management console.</p><p>It's time to push this further. Create another rule, i.e. "buildSuccessful" and edit it to look like this:</p><pre class="programlisting">
    
when
  Event(type == "BuildSuccessfulEvent")
then
  System.out.println("Build successful, running tests");
  tester.runTests();
    </pre><p><span class="command"><strong>Note</strong></span>: as of OpenEngSB 1.1.2 there is a bug in the editor that prevents connector invocations ("connectorId.doSomething()") from working correctly.</p><div class="mediaobject" align="center"><img src="graphics/ci_consoleoutput.png" align="middle"><div class="caption">console output</div></div><p>The rule also matches "BuildSuccessEvent" and prints a line to the console window. In addition, however, it calls a method provided by the test connector. Remember the "runTests()" method you called in the <span class="command"><strong>tester</strong></span> service by using the test client before? This has exactly the same effect but replaces manual UI interaction with an automated response. Click <span class="command"><strong>save</strong></span> and kick off another build using the <span class="command"><strong>Test client</strong></span> again. There you go: "Build started" and "Build successful, running tests".</p><p><span class="command"><strong>Congratulations</strong></span>, you have created a basic CI tool! The foundations have been extended to allow for easy auditing and extensibility. Of course, at the moment it simply replicates the functionality of existing CI tools, but it can be easily extended using SCM access, reporting and notification tools and work together with project management software and PIM applications. Take a look on the long list of available domains and tool connectors.</p><p>If you want to do some more practice you can add more rules, i.e. for "TestSuccessEvent" or "BuildFailureEvent". You can find event types, names and properties by checking the event log displayed on the <span class="command"><strong>Send Event page</strong></span>.</p></div><div class="section" title="12.9.&nbsp;Further Reading"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e1273"></a>12.9.&nbsp;Further Reading</h2></div></div></div><p>There are a number of different HowTo's and tutorials in the online documentation. They describe different scenarios for <a class="link" href="#howto.setup" title="Chapter&nbsp;4.&nbsp;HowTo - Setup OpenEngSB for development (First steps)">setup</a>, <a class="link" href="#howto.logging" title="Chapter&nbsp;6.&nbsp;HowTo - First steps with the OpenEngSB (Send mails via the OpenEngSB)">connectors and domains</a> and <a class="link" href="#howto.contexteditor" title="Chapter&nbsp;7.&nbsp;HowTo - Events with the OpenEngSB (Using the logging service)">event processing</a>. Also, the user manual contains additional information about the topics discussed and numerous OpenEngSB subprojects, i.e. <a class="link" href="http://opencit.openengsb.org" target="_top">OpenCIT</a> and <a class="link" href="http://openticket.openengsb.org" target="_top">OpenTicket</a>, can be used for reference.</p></div></div></div><div class="part" title="Part&nbsp;III.&nbsp;OpenEngSB Framework"><div class="titlepage"><div><div><h1 class="title"><a name="user.manual"></a>Part&nbsp;III.&nbsp;OpenEngSB Framework</h1></div></div></div><div class="partintro" title="OpenEngSB Framework"><div></div><p>
        This part gives an introduction into the OpenEngSB project and explains its base usage environment and the
        concepts, such as Domains, Connectors, Workflows and similar important ideas. Furthermore this part covers
        installation, configuration and usage of the administration interface to implement a tool environment according
        to your needs.</p><p>The target audience of this part are developers and contributors.</p></div><div class="chapter" title="Chapter&nbsp;13.&nbsp;Quickstart"><div class="titlepage"><div><div><h2 class="title"><a name="user.quickstart"></a>Chapter&nbsp;13.&nbsp;Quickstart</h2></div></div></div><p>As a developer you have basically two ways in which you can use the OpenEngSB. One option is to use the OpenEngSB as a
      runtime environment for any project. In addition you've the possibility to write Plug-Ins (Domains, Connectors, ...) for 
      the OpenEngSB. Both cases are explained in this chapter.</p><div class="section" title="13.1.&nbsp;Writing new projects using the OpenEngSB"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e1307"></a>13.1.&nbsp;Writing new projects using the OpenEngSB</h2></div></div></div><p>TBW</p></div><div class="section" title="13.2.&nbsp;Writing Domains for the OpenEngSB"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e1312"></a>13.2.&nbsp;Writing Domains for the OpenEngSB</h2></div></div></div><p>To create a new Domain run <span class="emphasis"><em>mvn openengsb:genDomain</em></span>
        (or use <code class="filename">../etc/scripts/gen-domain.sh</code>)
        in the <code class="filename">domain</code> folder.
        You will be asked for the name of your domain. Enter the domain name starting with a lower case letter.
        For the other questions valid defaults are given.
        </p><p>The new domain project will be added as a submodule. You eventually want to run <span class="emphasis"><em>mvn openengsb:eclipse</em></span> and import the new project in eclipse.</p><p>
        Add the methods your domain supplies to the domain interface.
        If your domain raises any events add methods like</p><pre class="programlisting">void raiseEvent(YourEvent event);</pre><p> (your event class subtype of Event as single parameter) to the events interface.
        </p></div><div class="section" title="13.3.&nbsp;Writing Connectors for the OpenEngSB"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="user.quickstart.connectors"></a>13.3.&nbsp;Writing Connectors for the OpenEngSB</h2></div></div></div><p>To create a new Connector run <span class="emphasis"><em>mvn openengsb:genConnector</em></span>
        (or use <code class="filename">../etc/scripts/gen-connector.sh</code>) in the <code class="filename">connector</code> folder.
        You will be asked for the name of the domain you want to implement. Enter the domain name starting with a lower case letter.
        You may adapt the name of the implemented domain interface if you it does not match the naming convention.
        Supply the name of the connector staring with a lower case letter.
        </p><p>The new domain project will be added as a submodule. You eventually want to run <span class="emphasis"><em>mvn openengsb:eclipse</em></span> and import the new project in eclipse.</p><p>Implement the domain interface in the supplied class (unfortunately no method stubs are generated).</p><p>Unimplemented domain methods should always throw an exception rather than return default value or do nothing.
            Therefore each domain method without body must throw DomainMethodNotImplementedException to indicate that requested domain functionality is not implemented.      
           </p><pre class="programlisting">
@Override
public void foo() {
	throw new DomainMethodNotImplementedException();
}
          </pre><p>         
        </p><p>The <span class="emphasis"><em>ServiceFactory</em></span> has to supply a <span class="emphasis"><em>ServiceDescriptor</em></span> that contains all attributes needed to instanciate the Connector.
        In the methods <span class="emphasis"><em>createServiceInstance</em></span> and <span class="emphasis"><em>updateServiceInstance</em></span> use the provided attributes to create a new new instance or update your Connector. The methods <span class="emphasis"><em>updateValidation</em></span> and <span class="emphasis"><em>createValidation</em></span> should do the same but try to validate the provided attributes first and return a validation result.
        </p><p>The generated ServiceManager usually does not have to be changed.</p></div></div><div class="chapter" title="Chapter&nbsp;14.&nbsp;Architecture of the OpenEngSB"><div class="titlepage"><div><div><h2 class="title"><a name="architecture"></a>Chapter&nbsp;14.&nbsp;Architecture of the OpenEngSB</h2></div></div></div><p>This chapter tries to give a short summary of the most important concepts in the OpenEngSB architecture.</p><p>The following graphic shows the architecture of the OpenEngSB. In the center we use a bus system
  to integrate different modules. In this case we do not use a classical Enterprise Service Bus (ESB), but rather the
  OSGi service infrastructure via Spring-DM (<a class="xref" href="#architecture.concept.esb" title="14.1.&nbsp;OpenEngSB Enterprise Service Bus (ESB)">Section&nbsp;14.1, &#8220;OpenEngSB Enterprise Service Bus (ESB)&#8221;</a>). We are using <a class="link" href="http://karaf.apache.org" target="_top">Apache Karaf</a> as the OSGi
  environment. Karaf is used in this case, instead of a most basic OSGi environment, such as 
  <a class="link" href="http://felix.apache.org" target="_top">Apache Felix</a> or 
  <a class="link" href="http://www.eclipse.org" target="_top">Eclipse Equinox</a> , because it supports us with additional features as 
  extended console support and the feature definitions.
  This base infrastructure, including all modifications required for the OpenEngSB is called the 
  <a class="xref" href="#architecture.concept.infrastructure" title="14.2.&nbsp;OpenEngSB Infrastructure">Section&nbsp;14.2, &#8220;OpenEngSB Infrastructure&#8221;</a>. Within the OpenEngSB 
  Infrastructure so called <a class="xref" href="#architecture.concept.components" title="14.3.&nbsp;OpenEngSB Components">Section&nbsp;14.3, &#8220;OpenEngSB Components&#8221;</a> and 
  <a class="xref" href="#architecture.concept.tooldomains" title="14.4.&nbsp;OpenEngSB Tool Domains">Section&nbsp;14.4, &#8220;OpenEngSB Tool Domains&#8221;</a> are installed. Both
  types are written in a JVM compatible language, including OSGi configuration files to run in the OpenEngSB 
  Infrastructure. They are explained later within this chapter. Different tools running outside the OpenEngSB 
  Infrastructure are called <a class="xref" href="#architecture.concept.clienttools" title="14.5.&nbsp;Client Tools (Service Consumer)">Section&nbsp;14.5, &#8220;Client Tools (Service Consumer)&#8221;</a> or 
  <a class="xref" href="#architecture.concept.domaintools" title="14.6.&nbsp;Domain Tools (Service Provider)">Section&nbsp;14.6, &#8220;Domain Tools (Service Provider)&#8221;</a>, depending on their usage scenario. 
  To integrate and use them within the OpenEngSB so called 
  <a class="xref" href="#architecture.concept.connectors" title="14.7.&nbsp;Domain- and Client Tool Connectors">Section&nbsp;14.7, &#8220;Domain- and Client Tool Connectors&#8221;</a> are used. All of these concepts are explained 
  within the next sections.</p><p>
    </p><div class="mediaobject" title="Technical view of the OpenEngSB highlighting the most important concepts of the integration system." align="center"><img src="graphics/extendedEngSB.png" align="middle"><div class="caption"><p>Technical view of the OpenEngSB highlighting the most important concepts of the integration system</p></div></div><p>
  </p><div class="section" title="14.1.&nbsp;OpenEngSB Enterprise Service Bus (ESB)"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="architecture.concept.esb"></a>14.1.&nbsp;OpenEngSB Enterprise Service Bus (ESB)</h2></div></div></div><p>One of the principal concepts for the OpenEngSB development is (if possible) 
    to use already existing and proven solutions rather than inventing new ones. In this manner the OpenEngSB is an 
    extension to the ESB concept. Typical ESBs such as 
    <a class="link" href="http://servicemix.apache.org" target="_top">Apache Servicemix</a> or other JBI or ESB implementations 
    always have the feeling to be huge and bloated. Complex integration patterns, messaging, huge configuration files
    and similar concepts/problems lead to this feeling. And those feelings are right. They are bloated. The OpenEngsB
    tries a different approach. Using Karaf as its base framework the environment is VERY lightweight. Depending on 
    your use case you can use different configurations and packages out of the box.</p></div><div class="section" title="14.2.&nbsp;OpenEngSB Infrastructure"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="architecture.concept.infrastructure"></a>14.2.&nbsp;OpenEngSB Infrastructure</h2></div></div></div><p>While Apache Karaf provides a rich environment and functionality we're not done with it. Via the Spring-DM
    extension mechanism, AOP and the OSGi listener model the OpenEngSB directly extends the environment to provide
    own commands for the console, fine grained security and a full grown workflow model. These extensions are optional
    and not required if you want to use the platform alone. Add or remove them as required for your use case.</p></div><div class="section" title="14.3.&nbsp;OpenEngSB Components"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="architecture.concept.components"></a>14.3.&nbsp;OpenEngSB Components</h2></div></div></div><p>These libraries are the OpenEngSB core. The core is responsible to provide the OpenEngSB infrastructure
    as well as general services such as persistence, security and workflows. To provide best integration most of
    these components are tied to the OpenEngSB ESB environment. Nevertheless, feel free to add or remove them
    as required for your use case.</p></div><div class="section" title="14.4.&nbsp;OpenEngSB Tool Domains"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="architecture.concept.tooldomains"></a>14.4.&nbsp;OpenEngSB Tool Domains</h2></div></div></div><p>Although each tool provider gives a personal touch to its product their design is driven by a specific 
    purpose. For example, there are many different issue trackers available, each having its own advantages and 
    disadvantages, but all of them can create issues, assign and delete them. Tool Domains are based on this idea 
    and distill the common functionality for such a group of tools into one Tool Domain interface (and component).
    Tool domains could be compared best to the concept of abstract classes in in object orientated programming 
    languages. Similar to these, they can contain code, workflows, additional logic and data, but they are useless 
    without a concrete implementation. Together with the ESB, the OpenEngSB infrastructure and the core components 
    the tool domains finally result in the OpenEngSB.</p></div><div class="section" title="14.5.&nbsp;Client Tools (Service Consumer)"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="architecture.concept.clienttools"></a>14.5.&nbsp;Client Tools (Service Consumer)</h2></div></div></div><p>Client Tools in the OpenEngSB concept are tools which do not provide any 
    services, but consume services provided by Tool Domains and Core Components instead. A classical example from 
    software engineering for a client tool is the Integrated Development Environment (IDE). Developer prefer to 
    have the entire development environment, reaching from the tickets for a project to its build results, at
    hand. On the other hand they do not need to provide any services.</p></div><div class="section" title="14.6.&nbsp;Domain Tools (Service Provider)"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="architecture.concept.domaintools"></a>14.6.&nbsp;Domain Tools (Service Provider)</h2></div></div></div><p>Domain Tools (Service Provider) Domain Tools, compared to Client Tools, denote the other extreme of only 
    providing services. Classically, single purpose server tools, like issue tracker or chat server, match the 
    category of Domain Tools best. Most tools in (software+) engineering environments fit of course in both 
    categories, but since there are significant technically differences between them they are 
    described as two different component types.</p></div><div class="section" title="14.7.&nbsp;Domain- and Client Tool Connectors"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="architecture.concept.connectors"></a>14.7.&nbsp;Domain- and Client Tool Connectors</h2></div></div></div><p>Tool Connectors connect tools to the OpenEngSB environment. They implement the respective
    Tool Domain interface. As Client Tool Connectors they provide a Client Tool with 
    an access to the OpenEngSB services. Again, Domain- and Client Tool Connectors are mostly mixed up but 
    separated because of their technical differences. Additionally it is worth mentioning that 
    tools can be integrated with more than one connector. This allows one tool to act in many different domains. 
    Apache Maven is an example for such multi-purpose tools, relevant for build, as well as test and deploy of Java 
    projects.</p></div><div class="section" title="14.8.&nbsp;EDB (Engineering Data Base)"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="architecture.concept.edb"></a>14.8.&nbsp;EDB (Engineering Data Base)</h2></div></div></div><p>The EDB is a database with additional versioning feature. Its main job is to save and version 
    so called tool data. Tool data are information units which are used by tools which are connect to
    the OpenEngSB. The versioning feature is necessary because it should be possible to restore tool data
    which has been changed in the meantime. Easiest example for this is the handling of signals.</p><p>Signals are little information units which can for example describe a circuit on a board. This
    circuits are once planned and building the base for workers which works at another layer (e.g. programmer).
    If this signals are changed and the other layers didn't notice that, the final product won't work or even
    worse. With the EDB it is possible to get noticed if a signal has changed and you can check what has been
    changed.</p><p>The connection between the tools and the EDB is done through the EngineeringDatabaseService provided
    by the core/edb bundle. This service gets a datasource (database) from the infrastructure/jpa bundle.
    The EngineeringDatabaseService is implemented with JPA, that means that every database which support
    JPA can be used as database backend for the EDB.
    As standard database backend was the H2 database chosen.
    </p><p>You have also the possibility to replace the database backend used for the EDB. A reason for 
    this could be that your company wants a more performant database because the sets of tooldata are
    so big that the standard database isn't fast enough. For exchanging the database backend there are two 
    cases: You want to replace the database with another database which is supported by openjpa or you take 
    another database which isn't supported by openjpa. (List of supported databases can be checked 
    <a class="link" href="http://openjpa.apache.org/builds/1.0.2/apache-openjpa-1.0.2/docs/manual/supported_databases.html" target="_top">here</a>)
    </p><p>If you want to replace the standard database with another openjpa supported database, the procedure
    of changing is rather simple. You have to change the properties for the database connection of the infrastructure/jpa 
    bundle. This is done by changing the config file "org.openengsb.infrastructure.jpa.cfg". This file is in the 
    "assembly/src/main/filtered-resources/etc" folder. This file has following entries:
    </p><pre class="programlisting">
    driverClassName=[here shall be the name of your driver class name, 
                     example: org.h2.jdbcx.JdbcDataSource]
    url=[here shall be the url to the used database file, example: jdbc:h2:openengsb]
    username=[here shall be the username for authentication at the database]
    password=[here shall be the password for authentication at the database]
    </pre><p>
    After changing of this file, you have to assure that the driver which shall be used by the datasource is loaded
    at runtime. For that you have to load the database driver before the connection to the database is established.
    Your database bundle dependency should be added to the poms/pom.xml file. A dependency entry for the h2 database looks
    like this (the h2.version is defined as property in the same file. Info: had to alter the brackets so that they can be shown here. 
    Also there should be a dollar sign before the {h2.version} part):
    </p><pre class="programlisting">
     [dependency]
       [groupId]com.h2database[/groupId]
       [artifactId]h2[/artifactId]
       [version]{h2.version}[/version]
     [/dependency]
    </pre><p>
   If you made sure the dependency is entered, you have to make sure the database is loaded before the database connection
   is established. For that just replace following code line in the file "assembly/src/main/filtered-resources/features.xml"
   with the new database driver bundle (as you can see you only have to copy and paste the values of the dependency):
   </p><pre class="programlisting">
     [bundle]mvn:com.h2database/h2/{h2.version}[/bundle]
   </pre><p>
   And thats all you have to do.</p><p>If you want to replace the standard database with another non openjpa supported database you will have
    to change first the datasource like descriped in the last paragraph. After that you have to write another
    bundle that provides the EngineeringDatabaseService. In this case you also have to reproduce all SQL
    commands and port it for the new database and replace the standard EngineeringDatabaseService.</p><p>Last but not least a few words about the working with the EDB. If you have models that shall be versioned
    by the EDB, the easiest way is to build this models as interfaces and let them extend the interface OpenEngSBModel.
    Such an interface can only contain getter and setter methods, since this interfaces can now be proxied through the
    EngineeringKnowledgeBase (EKB). As soon as you have done this, you are able to send such models with an event from
    a connector (Method for that is called "sendEDBEvent" and is accessable from every connector that AbstractOpenEngSBConnectorService
    extends, which shall be done by all connector implementations.</p><p>If your domain model requires sub models (like location for a contact), you have also to make this sub model an interface and let
    it extend OpenEngSBModel interface. In that way, the EDB is able to save all sub models if you save the root model. It is even possible
    to give a model a list of submodels, the EDB is able to handle that too and you have nothing else to do.</p></div><div class="section" title="14.9.&nbsp;EKB (Engineering Knowledge Base)"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="architecture.concept.ekb"></a>14.9.&nbsp;EKB (Engineering Knowledge Base)</h2></div></div></div><p>The Engineering Knowledge Base (as it is now) is the partner of the EDB. The EKB enables two important features:load models from the EDB and
  generate proxies for domain models.</p><p>The first feature importance is quite clear. The EKB enables to load the models which are collected by the EDB. It's main work for that
  feature is to retrieve the model in a rare form from the EDB (in a only EDB readable format) and convert this rare form to the domain model
  the user requested.
  </p><p>The second feature makes it possible to simulate implementations of domain models. Like already mentioned in the EDB part, every domain
  model only consists of getter and setter pairs and extends the OpenEngSBModel interface. If you let the EKB proxy such models, your work you
  have to do to communicate with the EDB and versionize models is minimized. Also the EKB proxies does the whole converting work from the models
  to EDB readable format for you.
  </p></div></div><div class="chapter" title="Chapter&nbsp;15.&nbsp;Context Management"><div class="titlepage"><div><div><h2 class="title"><a name="developer.context"></a>Chapter&nbsp;15.&nbsp;Context Management</h2></div></div></div><p>The context is one of the most important core concepts of the openengsb. It allows to reuse predefined
    workflows in several contexts. A context may often represent a project or subproject. So it is possible to execute
    the same workflow with the project-specific tool-instances and other metadata (like contact-information).</p><p>To determine in which context an action should be executed a thread-local variable is used. The
    <a class="link" href="https://github.com/openengsb/openengsb/blob/master/core/api/src/main/java/org/openengsb/core/api/context/ContextHolder.java" target="_top">
      ContextHolder
    </a>
    keeps track of this variable (the current threads' context). Invoking the set- and get-method will always
    manipulate the context of the current Thread. When a new Thread is spawned it inherits the context from the
    parent thread.
  </p><p><span class="emphasis"><em>Attention:</em></span> When using Theadpools, the ContextHolder may malfunction
    (i.e. return the context of some previous task that was run in the same thread). Use
    </p><pre class="programlisting">ThreadLocalUtil.contextAwareExecutor(ExecutorService)</pre><p> to convert any executor to a
    context-aware one. ExecutorServices returned by this method ensure that the submitted tasks are executed in the
    same context as the thread they were submitted from.
  </p><p>
   This way connector-implementations and other client projects always can handle actions according to the current
   context, and execute actions in specific a specific context. So when a person with a certain role in the project
   (e.g. project manager) needs to be notified of some event, the value of his contact-address is specific to the
   context of the project(s) he is managing.
  </p><div class="section" title="15.1.&nbsp;Wiring services"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="developer.context.wiring"></a>15.1.&nbsp;Wiring services</h2></div></div></div><p>The context is also used to handle the wiring of services in workflows. Suppose there are two projects that
      use their own SCM-repositories and for both repositories connector-instances were created to poll them. When
      executing a workflow contains an action that polls the SCM, the correct service ca be picked by looking up the
      current thread's context.</p><p>In general workflows have references to several domains and other services which they interact with during
      execution. Each project might have their own tools behind these domains, so these references must be resolved
      at runtime depending on the current context.</p><p>For this to work the workflow-engine declares global variables that are used in rules and processes. A variable is resolved by
      looking up the service with the same name in the current context. If no service with that name is available in
      the context it is looked up in the "root"-context.</p><p>In detail the wiring is handled via the service-properties. Services contain properties where the key is of
      the format "location.&lt;contextid&gt;". The value is a list of "locations" represented by an array of strigns.
      So a service may have several locations in several contexts.</p><p>When a global variable is accessed during the execution of an action (from a process or rule), the
      osgi-context is queried for the correspinding service. The service wired to this variable must have location
      with the same name as the variable. The service is searched in the current context and the root-context. If no
      service is found, the action is stalled for 30 seconds. If there is still no service found an Exception is thrown.
      Internally this is handled using proxies. When the workflow service is started, all globals are populated with
      proxies, that automatically resolve the service with the corresponding location when a method is invoked.</p><p>Example: The auditing-service is registered with the interface AuditingDomain. The service has property
      "location.root" with value {"auditing"} (array with one element). The workflow engine contains a global named
      "auditing" and a rule that invokes a method on every Event that is processed. When the rule fires and the
      consequence is executed, the proxy representing "auditing"-global queries for a service with the
      location.currentContext or the location.root containing a location-entry "auditing". Since root-services get a
      service-ranking of "-1" by default, the service current context's would supersede the service located in the
      root-context.</p></div></div><div class="chapter" title="Chapter&nbsp;16.&nbsp;Persistence in the OpenEngSB"><div class="titlepage"><div><div><h2 class="title"><a name="developer.persistence"></a>Chapter&nbsp;16.&nbsp;Persistence in the OpenEngSB</h2></div></div></div><p>The OpenEngSB contains various different persistence solutions which should be introduced and explained in this chapter</p><div class="section" title="16.1.&nbsp;Core Persistence"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e1545"></a>16.1.&nbsp;Core Persistence</h2></div></div></div><p>The OpenEngSB has a central persistence service, which can be used by any component within in the OpenEngSB to
      store data. The service is designed for flexibility and usability for the storage of relatively small amounts of
      data with no explicit performance requirements. If special persistence features need to be used it is recommended to
      use a specialized storage rather than the general storage mechanism.</p><p>The persistence service can store any Java Object, but was specifically designed for Java Beans.</p><p>
      The interface of the
      <a class="link" href="https://github.com/openengsb/openengsb/blob/master/core/api/src/main/java/org/openengsb/core/api/persistence/PersistenceService.java" target="_top">persistence service</a>
      supports basic CRUD (create, update, retrieve, delete) mechanisms. Instances of the persistence service are created
      per bundle and have to make sure that data is stored persistently. If bundles need to share data the common
      persistence service cannot be used, as it does not support this feature. The 
      <a class="link" href="https://github.com/openengsb/openengsb/blob/master/core/api/src/main/java/org/openengsb/core/api/persistence/PersistenceManager.java" target="_top">persistence manager</a>
      is responsible for the management of persistence service instances per bundle. On the first request from a
      bundle the persistence manager creates a persistence service. All later requests from a specific bundle should
      get the exact same instance of the persistence service.
    </p><p>
      Queries with the OpenEngSB persistence done via the 
      <a class="link" href="https://github.com/openengsb/openengsb/blob/master/core/api/src/main/java/org/openengsb/core/api/persistence/PersistenceService.java" target="_top">persistence service</a>.
      Behind this service an easy query-by-example logic is used to retrieve your results. In some cases the comparision and storage can create some
      wired problems for your specific use cases. For those cases the 
      <a class="link" href="https://github.com/openengsb/openengsb/blob/master/core/api/src/main/java/org/openengsb/core/api/persistence/IgnoreInQueries.java" target="_top">IgnoreInQueries</a> annotation had
      been added. Using this annotation on getters in classes persisted via the
      <a class="link" href="https://github.com/openengsb/openengsb/blob/master/core/api/src/main/java/org/openengsb/core/api/persistence/PersistenceService.java" target="_top">persistence service</a>
      querying them ignores those fields during trying to compare them to stored data.
    </p><p>
      The persistence solution of the OpenEngSB was designed to support different possible back-end database systems.
      So if a project has high performance or security requirements, which can not be fulfilled with the default database
      system used by the persistence service, it is possible to implement a different persistence back-end. To make this
      exchange easier a  <a class="link" href="https://github.com/openengsb/openengsb/blob/master/core/persistence/src/test/java/org/openengsb/core/persistence/PersistenceServiceTest.java" target="_top">test</a>
      for the expected behavior of the persistence service is provided.
    </p></div><div class="section" title="16.2.&nbsp;Configuration Persistence"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e1576"></a>16.2.&nbsp;Configuration Persistence</h2></div></div></div><p>Besides the centralized Java Bean store the OpenEngSB also have a more specialized solution to store configurations. Configurations are
      basically also Java Beans, but have to extend a 
      <a class="link" href="https://github.com/openengsb/openengsb/blob/master/core/api/src/main/java/org/openengsb/core/api/model/ConfigItem.java" target="_top">ConfigItem</a>. Well, since Configurations
      are also only Java Beans you may ask: Why not simply store them via the 
      <a class="link" href="https://github.com/openengsb/openengsb/blob/master/core/api/src/main/java/org/openengsb/core/api/persistence/PersistenceService.java" target="_top">persistence service</a>? The
      reason is quite simple. We do need to store configurations at various places. Options may be the file system, an object store or any other place.
      In addition configurations, when you e.g. store them to files, have to be quite specific about their types. Rule, for example, have to be stored
      as simple strings, flows as xml files and connectors as key-value-pairs. Beeing so specific the implementations of the backends also have to be
      specific. Besides, there are kind of regions. Examples are Rules, Flows, and various others. Bascially in you code you simply want to ask for
      a configuration persister for rules and do not care if it is a file persister or something else. In addition rules could be persisted somewhere
      else than e.g. flows. Therefore those backends have to be configured separate for each type.
    </p><p>Ok, after the need is identified let's take a look at the how. Basically it's quite simple. You register various backend services in the OSGi
      registry, give them a specific ID, configure how a region is mapped to an idea and request a persister for a specific region or type and retrieve
      the correct implementation. From a user point of view this system is quite simple. Use the getConfigPersistenceService(String type) method from the
      <a class="link" href="https://github.com/openengsb/openengsb/blob/master/core/common/src/main/java/org/openengsb/core/common/OpenEngSBCoreServices.java" target="_top">OpenEngSBCoreServices</a> class with the
      type, which is typically stored directly at the configurations, as for example for the
      <a class="link" href="https://github.com/openengsb/openengsb/blob/master/core/api/src/main/java/org/openengsb/core/api/model/RuleConfiguration.java" target="_top">RuleConfiguration</a> and retrieve and persist
      RuleConfigurations. The mapping between the backend and the frontend is defined in the configuration file
      <a class="link" href="https://github.com/openengsb/openengsb/blob/master/assembly/src/main/filtered-resources/etc/org.openengsb.persistence.config-rule.cfg" target="_top">here</a>. If you want to use another
      available and compatible backend for rule configurations add the backend id in the configuration file and the service for this region will switch
      automatically.
    </p><p>Although it is quite simple to configure, change and consume and provide provide configurations it is mostly not a good idea to simply change
      the properties, backend or frontend if you're not exactly sure about what you're doing. You can easily take the wrong backend service which will not
      be able to persist e.g. a RuleConfiguration and throws exceptions. If you swtich the backend during the run everything stored in the old backend would
      not be avialable in the new one. Within a client project mostly relay on using those services to read the properties and use the OpenEngSB to store them.
    </p><p>Still the system can easily be extended to your own use. Typically you have to do the following steps to provide a new configuration service. First
      of all start by providing an own Configuration which extends
      <a class="link" href="https://github.com/openengsb/openengsb/blob/master/core/api/src/main/java/org/openengsb/core/api/model/ConfigItem.java" target="_top">ConfigItem</a>. Please only use the metadata and content
      fields and do not add additional variables. They wont get stored. Now add a configuration file into etc with 
      org.openengsb.persistence.config-ANY_NAME_YOU_LIKE.cfg. In this file define the region and the backend id. The exact values and detailed explanation for
      those fields is available
      <a class="link" href="https://github.com/openengsb/openengsb/blob/master/core/api/src/main/java/org/openengsb/core/api/Constants.java" target="_top">here</a>. If you've not choosen one of the general
      available services for storage you now can implement your own backend service registered in the OSGi registry with the ID you've configured in the .cfg 
      file before. The interface you have to implement and register as a service is the 
      <a class="link" href="https://github.com/openengsb/openengsb/blob/master/core/api/src/main/java/org/openengsb/core/api/persistence/ConfigPersistenceBackendService.java" target="_top">ConfigPersistenceBackendService</a>.
    </p><div class="section" title="16.2.1.&nbsp;Context configuration persistence"><div class="titlepage"><div><div><h3 class="title"><a name="d0e1611"></a>16.2.1.&nbsp;Context configuration persistence</h3></div></div></div><p>The context configuration persistence follows the basic congiguation persistence scheme. In this case the backend 
        (<a class="link" href="https://github.com/openengsb/openengsb/blob/master/core/services/src/main/java/org/openengsb/core/services/internal/ContextFilePersistenceService.java" target="_top">ContextFilePersistenceService</a>)
        creates files for each context (basically empty files with filename &lt;contextId&gt;.context), the context service
        (<a class="link" href="https://github.com/openengsb/openengsb/blob/master/core/services/src/main/java/org/openengsb/core/services/internal/ContextServiceImpl.java" target="_top">ContexServiceImpl</a>)
        requests a config persistcene service of type CONTEXT, is given the aforementioned one and uses it to persist its data.
      </p></div></div></div><div class="chapter" title="Chapter&nbsp;17.&nbsp;Security in the OpenEngSB"><div class="titlepage"><div><div><h2 class="title"><a name="developer.management"></a>Chapter&nbsp;17.&nbsp;Security in the OpenEngSB</h2></div></div></div><div class="section" title="17.1.&nbsp;Usermanagement"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="developer.security.usermanagement"></a>17.1.&nbsp;Usermanagement</h2></div></div></div><p>The OpenEngSB has a central user management service, which can be used for example by an user interface.
      The service is designed to manage your users. You can create new user and save them to the persistence or retrieve,
      update and delete them. </p><p>The user management needs a back-end database, e.g. the central persistence service of the OpenEngSB.</p><p>
      The interface of the
      <a class="link" href="https://github.com/openengsb/openengsb/blob/master/core/api/src/main/java/org/openengsb/core/api/security/UserManager.java" target="_top">User manager</a>
      supports basic CRUD mechanisms (create, retrieve, update, delete).
      The <a class="link" href="https://github.com/openengsb/openengsb/blob/master/core/api/src/main/java/org/openengsb/core/api/security/model/User.java" target="_top">User</a>
      is the used user model. It holds attributes like a password, username, if the user is enabled, or his account is expired or locked.
      A user is identified by his username. So the username can not be changed.
      Another attribute are the authorities. These are the roles granted to the user. These can be for example "ROLE_ADMIN" which defines the user as admin.
      Depending on the roles, a user can have different rights. For the OpenEngSB-UI a user has to have at least the role "ROLE_USER" which is the default role.
    </p></div><div class="section" title="17.2.&nbsp;Access control"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="developer.security.access"></a>17.2.&nbsp;Access control</h2></div></div></div><p>Access control is done on the service level. Core-services and connector-instances are all published as
      OSGi-services. Other services and components always reference these service instances. We use the approach of
      AOP to achieve security of these services. The openengsb.core.security-bundle publishes a service that serves as
      a method-interceptor. When it is attached to a service every method call on the service is preceeded with an
      authorization-check. </p><p>A reference to the method-interceptor can be obtained by this line in the spring-context.xml
      </p><pre class="programlisting">&lt;osgi:reference id="securityInterceptor" interface="org.aopalliance.intercept.MethodInterceptor" /&gt;</pre><p>
      In order to attach it to an existing bean, one has to create a ProxyFactoryBean:
      </p><pre class="programlisting">&lt;bean id="secureServiceManager" class="org.springframework.aop.framework.ProxyFactoryBean"&gt;
  &lt;property name="proxyInterfaces"&gt;
    &lt;value&gt;other.ServiceInterface&lt;/value&gt;
  &lt;/property&gt;
  &lt;property name="interceptorNames"&gt;
    &lt;list&gt;
      &lt;value&gt;securityInterceptor&lt;/value&gt;
    &lt;/list&gt;
  &lt;/property&gt;
  &lt;property name="target" ref="&lt;realBean&gt;" /&gt;
&lt;/bean&gt;</pre><p>
      When registering a service in code rather than in a spring context.xml this can be done as seen in the
      <a class="link" href="https://github.com/openengsb/openengsb/blob/master/core/common/src/main/java/org/openengsb/core/common/AbstractServiceManager.java" target="_top">
        AbstractServiceManager</a>
      </p><pre class="programlisting">
import org.springframework.aop.framework.ProxyFactory;
//
// ...
//
ProxyFactory factory = new ProxyFactory(serviceObject);
factory.addAdvice(securityInterceptor);
OpenEngSBService securedService = (OpenEngSBService) factory.getProxy();</pre><p>
    </p><p>The decision about the allowing the user access to a service as made by looking at the services instanceId.
      Therefore, all services that are to be placed under this access control, must implement
      <a class="link" href="https://github.com/openengsb/openengsb/blob/master/core/api/src/main/java/org/openengsb/core/api/OpenEngSBService.java" target="_top">
        OpenEngSBservice</a>, and make sure the instanceId is unique enough to ensure security.
      You may want to derive your service-class from
      <a class="link" href="https://github.com/openengsb/openengsb/blob/master/core/common/src/main/java/org/openengsb/core/common/AbstractOpenEngSBService.java" target="_top">
        AbstractOpenEngSBService</a>.</p><p>The persistence of the security-bundle manages a set of GrantedAuthorities (Roles) for each instanceId.
      There is one exception: Users with "ROLE_ADMIN" are always granted access.</p></div><div class="section" title="17.3.&nbsp;Authentication"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e1670"></a>17.3.&nbsp;Authentication</h2></div></div></div><p>This chapter describes how to deal with security in internal bundles and client projects</p><p>For authentication the OpenEngSB provides an AuthenticationProvider as a service. It's obtainable via
      blueprint. </p><pre class="programlisting">
        &lt;reference interface="org.springframework.security.authentication.AuthenticationManager" /&gt;
      </pre><p>
      This service is able to authenticate users
      (org.springframework.security.authentication.UsernamePasswordAuthenticationToken) and bundles
      (org.openengsb.core.security.BundleAuthenticationToken). The use of the former is pretty obvious. The latter is
      used for authentication for internal actions, that require elevated privilages. This authentication should be
      used with caution, and never be exposed externally for security reasons.</p></div></div><div class="chapter" title="Chapter&nbsp;18.&nbsp;Workflows"><div class="titlepage"><div><div><h2 class="title"><a name="developer.workflows"></a>Chapter&nbsp;18.&nbsp;Workflows</h2></div></div></div><p>The OpenEngSB supports the modeling of workflows. This could be done
  by two different approaches. First of all a rule-based event approach, by
  defining actions based on events (and their content) which were thrown in
  or to the bus. Events are practical for "short-time handling" since they are
  also easy to replace and extend. For long running business processes the
  secondary workflow method could be used which is based on <a class="xref" href="#workflows.processes" title="18.3.&nbsp;Processes">Section&nbsp;18.3, &#8220;Processes&#8221;</a>
  described in Drools-Flow.</p><p>The workflow service takes "events" as input and handles them using a
  rulebased system (JBoss Drools). It provides methods to manage the
  rules.</p><p>The workflow component consists of two main parts: The RuleManager and
  the WorkflowService. </p><div class="section" title="18.1.&nbsp;Workflow service"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e1692"></a>18.1.&nbsp;Workflow service</h2></div></div></div><p>The
      <a class="link" href="https://github.com/openengsb/openengsb/blob/master/core/api/src/main/java/org/openengsb/core/api/workflow/WorkflowService.java" target="_top">workflow service</a>
    is responsible for processing events, and makes sure the rulebase is
    connected to the environment (domains and connectors). When an event is
    fired, the workflow-service spawns a new session of the rulebase. The
    session gets populated with references to domain-services and other
    helper-objects in form of global variables. A drools-session is running
    in a sandbox. This means that the supplied globals are the only way of
    triggering actions outside the rule-session.
    </p></div><div class="section" title="18.2.&nbsp;Rulemanager"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e1700"></a>18.2.&nbsp;Rulemanager</h2></div></div></div><p>The <a class="link" href="https://github.com/openengsb/openengsb/blob/master/core/api/src/main/java/org/openengsb/core/api/workflow/RuleManager.java" target="_top">rule manager</a>
    provides methods for modifying the rulebase. As opposed to plain drl-files,
    the rulemanager organized the elements of the rulebase in its own manner.
    Rules, Functions and flows are saved separately. All elements share a common
    collection of import- and global-declarations. These parts are sticked together
    by the rulemanager, to a consistent rulebase. So when adding a new rule or
    function to the rulebase, make sure that all imports are present before.
    Otherwise the adding of the elements will fail. </p></div><div class="section" title="18.3.&nbsp;Processes"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="workflows.processes"></a>18.3.&nbsp;Processes</h2></div></div></div><p>In addition to processing Events in global/context-specific rules, it
    is also possible to use them to control a predefined workflow. The
    WorkflowService provides methods for starting and controlling
    workflow-processes.</p><p>When the workflow service receives an event, it is inserted into the
    rulebase as a new fact (and rules are fired accordingly). In addition the
    event is "signaled" to every active workflow-process. Workflow logic may
    use specific rules to filter these events.</p></div></div><div class="chapter" title="Chapter&nbsp;19.&nbsp;Taskbox"><div class="titlepage"><div><div><h2 class="title"><a name="developer.taskbox"></a>Chapter&nbsp;19.&nbsp;Taskbox</h2></div></div></div><p>The Taskbox enables you to combine workflows with Human Interactions.</p><div class="section" title="19.1.&nbsp;Core Functionality"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e1721"></a>19.1.&nbsp;Core Functionality</h2></div></div></div><p>All workflows started in the OpenEngSB are supplied with the global variable  
    <a class="link" href="https://github.com/openengsb/openengsb/blob/master/core/api/src/main/java/org/openengsb/core/api/workflow/model/ProcessBag.java" target="_top">ProcessBag</a>.
    Inside the workflow you can populate the ProcessBag with your data. As soon as Human Interaction is needed you have to incorporate
    the sub-workflow "humantask", which wraps the ProcessBag into a
    <a class="link" href="https://github.com/openengsb/openengsb/blob/master/core/api/src/main/java/org/openengsb/core/api/workflow/model/Task.java" target="_top">Task</a>.
    You can then query the 
    <a class="link" href="https://github.com/openengsb/openengsb/blob/master/core/api/src/main/java/org/openengsb/core/api/workflow/TaskboxService.java" target="_top">Taskbox service</a>
    for open Tasks, and manipulate the data inside of the Task (Not necessarily by Human Interaction). When you are finished, 
    you again call the Taskbox service and supply the changed Task. The changed data gets extracted and is handed back over to the workflow.
    </p></div><div class="section" title="19.2.&nbsp;UI Functionality"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e1735"></a>19.2.&nbsp;UI Functionality</h2></div></div></div><p>The
    <a class="link" href="https://github.com/openengsb/openengsb/blob/master/ui/common/wicket/src/main/java/org/openengsb/ui/common/wicket/taskbox/WebTaskboxService.java" target="_top">Webtaskbox service</a>
    provides additional UI Features, if you want to integrate the Taskbox-Concept into a wicket Page. You can query the Webtaskbox service for an    
    <a class="link" href="https://github.com/openengsb/openengsb/blob/master/ui/common/wicket/src/main/java/org/openengsb/ui/common/wicket/taskbox/web/TaskOverviewPanel.java" target="_top">Overview Panel</a>
    that displays all open Tasks. If the default Overview Panel doesn't fit your needs exactly you can develop your own UI-Component using the (Core-)Taskboxservice.
    If you navigate onto a specific Task the Overview Panel displays a (default)
    <a class="link" href="https://github.com/openengsb/openengsb/blob/master/ui/common/wicket/src/main/java/org/openengsb/ui/common/wicket/taskbox/web/TaskPanel.java" target="_top">Detail Panel</a>
    populated with the values of the Task, if there is no custom Panel registered for the supplied tasktype.
    You can develop your own Detail-Panels and register them for a specific Tasktype via the Webtaskbox service.    
    </p></div></div><div class="chapter" title="Chapter&nbsp;20.&nbsp;Remoting"><div class="titlepage"><div><div><h2 class="title"><a name="developer.remote"></a>Chapter&nbsp;20.&nbsp;Remoting</h2></div></div></div><p>The OpenEngSB provides interfaces for interacting with other applications on the network in a generic way that
    allows using any programming language, transport protocol and message marshalling/encoding. This does not mean that
    it magically supports all protocols and encodings, but rather that it provides a generic API that provides means for
    integration of new protocols etc. All external communication is based on single messages, which means the whole
    mechanism is stateless on its own. To realize stateful computations, either the filter(s) or the service must
    provide such functionality.</p><div class="section" title="20.1.&nbsp;Filters"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="developer.remote.filters"></a>20.1.&nbsp;Filters</h2></div></div></div><p>Following the <a class="ulink" href="http://en.wikipedia.org/wiki/Chain-of-responsibility_pattern" target="_top">
      "Chain of Responsibility"-Pattern</a> the OpenEngSB uses Filters to modularize the processing and transport of
      incoming and outgoing messages (see <a class="xref" href="#filters.architecture" title="Figure&nbsp;20.1.&nbsp;How filters fit in the architecture">Figure&nbsp;20.1, &#8220;How filters fit in the architecture&#8221;</a>). A filter is responsible for one (or more) specific
      transformation steps. Ideally a Filter should only represent a specific transformation step to increase
      reusability.</p><div class="figure"><a name="filters.architecture"></a><div class="figure-contents"><img src="graphics/filtersinarchitecture.png" align="middle" alt="How filters fit in the architecture"></div><p class="title"><b>Figure&nbsp;20.1.&nbsp;How filters fit in the architecture</b></p></div><br class="figure-break"><p>A filter is responsible for both ways of a transformation (for example a filter that parses a request is also
      responsible for marshalling the result). Since it is a chain of filters, every filter has a successor (next)
      where it passes it's transformed request. After the next filter is done and returns a result the current filter
      transforms the message to the desired output format. This gives filterchains a pyramid-like architecture
      (see <a class="xref" href="#filters.pyramid" title="Figure&nbsp;20.2.&nbsp;Pyramid-like architecture of filters">Figure&nbsp;20.2, &#8220;Pyramid-like architecture of filters&#8221;</a>)</p><div class="figure"><a name="filters.pyramid"></a><div class="figure-contents"><img src="graphics/filterpyramid.png" align="middle" alt="Pyramid-like architecture of filters"></div><p class="title"><b>Figure&nbsp;20.2.&nbsp;Pyramid-like architecture of filters</b></p></div><br class="figure-break"><p>Example: Typically an incoming remote call can be divided into the following steps:
      </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">receive: Reads the message in raw form a network stream.</li><li class="listitem">unmarshal request: transform the raw stream into a MethodCall object</li><li class="listitem">handle the request: resolve the corresponding osgi-service, invoke the method and wrap the result in
          a MethodResult object</li><li class="listitem">marshal result: marshal the result for transporting it over the network</li><li class="listitem">send result: send the result back to the caller over the network</li></ul></div><p>
    </p><p>A port realizing such a transport would consist of a task listening for incoming messages and a chain with
      two Filters: One for marshalling and one handling the request itself. An example for such an implementation is
      the "jms-json-basic"-port in the "openengsb-ports-jms" project. The incoming port is represented by a single
      that listens on a specific jms-queue for new requests. If a Text-message is received it is passed on to the
      filterchain as a string. The filterchain starts with a "JsonMethodCallMarshalFilter". As the name indicates, this
      filter expects a string containing a json-encoded MethodCall. The string is transformed into a MethodCallRequest
      object and passed on to the next filter. The next filter is the RequestHandlerFilter. It extracts the MethodCall
      from the request and passes it on to the RequestHandler and wraps the returned MethodResult into a
      MethodResultMessage. The MethodResultMessage is then returned to the "JsonMethodCallMarshalFilter". There the
      MethodResultMessage is encoded in JSON and returned to the MessageHandler which then sends it to the answer-queue.
      In the JMS-Port the result is sent to a queue named after the "callId" submitted in the Request. The callId
      however cannot necessarily be extracted from the plain-text message at the beginning of the chain. Therefore a map
      containing values obtained in the filter chain (propertyContainer) is passed in to each filter during processing.
    </p><p>This is only a specific example of creating a port. Another port behaving similarly but using xml as encoding
      can easily be configured. It can use the same bean but with a different filterchain. In the filterchain the first
      element is replaced by an XMLMethodCallMarshalFilter. the RequestHandlerFilter is the same as in the jms-json-port.
    </p></div><div class="section" title="20.2.&nbsp;Configure a filterchain"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="developer.remote.filterconfig"></a>20.2.&nbsp;Configure a filterchain</h2></div></div></div><p>An instance of FilterChainElement may only be part of one FilterChain. In order to reuse FilterChainElements
      in other filterchains new instances must be created. This is because the instances of the filters may contain
      references to the next element in the chain.</p><p>That's why Filterchains are supposed to be configured using a FilterChainFactory. A filterchain is a bean configured
      with a list of filters. Each element may either be the Classname of a FilterAction-class (which must have a
      public default constructor) or an instance of a FilterChainElementFactory. The last element in the list may
      also be an instance of a FilterAction (or other FilterChain). The following example shows how to configure a
      port via blueprint.</p><pre class="programlisting">
&lt;bean id="incomingFilterChainFactory" class="org.openengsb.core.common.remote.FilterChainFactory"&gt;
  &lt;property name="inputType" value="java.lang.String" /&gt;
  &lt;property name="outputType" value="java.lang.String" /&gt;
  &lt;!-- the list of filters --&gt;
  &lt;property name="filters"&gt;
    &lt;list&gt;
      &lt;!-- A class implementing the FilterChainElement-interface --&gt;
      &lt;value&gt;org.openengsb.core.common.remote.JsonMethodCallMarshalFilter&lt;/value&gt;
      &lt;!-- instance of a filter-factory --&gt;
      &lt;bean class="org.openengsb.ports.myport.MyFilterFactory"&gt;
        &lt;propety name="foo" value="bar" /&gt;
      &lt;/bean&gt;
      &lt;!-- The last item in the list may be an instance of a FilterAction --&gt;
      &lt;bean class="org.openengsb.core.common.remote.RequestMapperFilter"&gt;
        &lt;property name="requestHandler" ref="requestHandler" /&gt;
      &lt;/bean&gt;
    &lt;/list&gt;
  &lt;/property&gt;
&lt;/bean&gt;
    </pre><p>When configuring the filter-chain you have to make sure that each filter in the list is compatible with its
      predecessor. Compatibility is checked when the create-method is invoked. In the above example this would be while
      processing the blueprint-file.</p></div><div class="section" title="20.3.&nbsp;Develop custom filters"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="developer.remote.customfilters"></a>20.3.&nbsp;Develop custom filters</h2></div></div></div><p>The filters provided by the openengsb only cover the the requirements for the ports that are provided by the
      openengsb itself. For custom ports, custom filter-classes may be required. </p><p>Filterclasses that are to be used at the end of a chain must implement the FilterAction-interface. In order
      to be usable anywhere in the filterchain the Classes must implement the FilterChainElement-interface. The
      interfaces do not use generic parameters because the benefit is really minimal as the information is erased
      during compilation. There are however abstract classes (with generic paremeters) that make it easier to implement
      new FilterChainElements</p></div><div class="section" title="20.4.&nbsp;Develop an incoming port"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="developer.remote.incoming"></a>20.4.&nbsp;Develop an incoming port</h2></div></div></div><p>Incoming ports receive messages and process them using a filterchain. There are no restrictions on how the
      implementation of the incoming port actually looks like. Typically an incoming port is an object that spawns a
      listening thread and uses a filterchain to process incoming messages. This is an example of how the incoming port
      for JMS could look like.</p><pre class="programlisting">
&lt;!-- example of a bean representing an incoming port --&gt;
&lt;bean id="incomingPortBean" class="org.openengsb.ports.myport.MyIncomingPort" init-method="start" destroy-method="stop"&gt;
  &lt;property name="factory"&gt;
    &lt;bean class="org.openengsb.ports.jms.JMSTemplateFactoryImpl" /&gt;
  &lt;/property&gt;
  &lt;property name="filterChain"&gt;
    &lt;bean factory-ref="incomingFilterChainFactory" factory-method="create" /&gt;
  &lt;/property&gt;
&lt;/bean&gt;
    </pre><p>Every filterchain should use make sure to pass the MethodCall to the RequestHandler in the and (using a
      RequestHandlerFilter.</p></div><div class="section" title="20.5.&nbsp;Develop an Outgoing port"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="developer.remote.outgoing"></a>20.5.&nbsp;Develop an Outgoing port</h2></div></div></div><p>Outgoing port implementations must follow a few more guidelines than incoming ports, because the OpenEngSB
      needs to be aware of Outgoing ports present in the system in order to use them in other components (like
      RemoteEvents).</p><p>An outgoing ports is represented as an OSGi-service that implements the OutgoingPort-interface. Also it uses
      the "id"-property (not to be confused with "service.id" defined in the OSGi-spec) as a unique identification for
      components that want to interact with remote applications. A reference implementation of the
      OutgoingPort-interface is provided in the "openengsb-core-common"-project.</p><pre class="programlisting">
&lt;!-- service representing the outgoing port --&gt;
&lt;service interface="org.openengsb.core.api.remote.OutgoingPort"&gt;
  &lt;service-properties&gt;
    &lt;entry key="id" value="jms-json" /&gt;
  &lt;/service-properties&gt;
  &lt;!-- the outgoing port uses a filter-chain to manage the entire calling-procedure --&gt;
  &lt;bean class="org.openengsb.core.common.OutgoingPortImpl"&gt;
    &lt;property name="filterChain"&gt;
      &lt;bean factory-ref="outgoingFilterChainFactory" factory-method="create" /&gt;
    &lt;/property&gt;
  &lt;/bean&gt;
&lt;/service&gt;
      </pre><p>The actual network-communication is also implemented in a FilterAction. This is an example how a
        filterchain can be used to handle an outgoing methodCall with a result.</p><pre class="programlisting">
&lt;bean id="outgoingFilterChainFactory" class="org.openengsb.core.common.remote.FilterChainFactory"&gt;
  &lt;property name="inputType" value="org.openengsb.core.api.remote.MethodCallRequest" /&gt;
  &lt;property name="outputType" value="org.openengsb.core.api.remote.MethodResultMessage" /&gt;
  &lt;property name="filters"&gt;
    &lt;list&gt;
      &lt;value&gt;org.openengsb.core.common.remote.JsonOutgoingMethodCallMarshalFilter&lt;/value&gt;
      &lt;bean class="org.openengsb.ports.jms.JMSOutgoingPortFilter"&gt;
        &lt;property name="factory"&gt;
          &lt;bean class="org.openengsb.ports.jms.JMSTemplateFactoryImpl" /&gt;
        &lt;/property&gt;
      &lt;/bean&gt;
    &lt;/list&gt;
  &lt;/property&gt;
&lt;/bean&gt;
      </pre></div></div><div class="chapter" title="Chapter&nbsp;21.&nbsp;External Domains and Connectors"><div class="titlepage"><div><div><h2 class="title"><a name="developer.plugins"></a>Chapter&nbsp;21.&nbsp;External Domains and Connectors</h2></div></div></div><p>Since tools are mostly neither developed for the OpenEngSB nor written in any way that they can be directly
    deployed in the OpenEngSB environment a way is required to connect via different programming languages than Java
    and from multible protocols.</p><div class="section" title="21.1.&nbsp;Proxying"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="developer.plugins.proxy"></a>21.1.&nbsp;Proxying</h2></div></div></div><p>The proxy mechanism allows for any method call to be intercepted.</p><div class="section" title="21.1.1.&nbsp;Proxying internal Connector calls"><div class="titlepage"><div><div><h3 class="title"><a name="d0e1849"></a>21.1.1.&nbsp;Proxying internal Connector calls</h3></div></div></div><p>The proxy mechanism allows to create proxies for any domain. To create a proxy you have to provide a
        port id, destination and service id to call on the remote service. A Port encapsulates the protocol that
        is used to call another service. There are an OutgoingPort and IncomingPort interface for respective purposes.
        The port id is used to load the Port via OSGI. To include a Port in OPENENGSB it just has to be exported via OSGI.
        The destination is a string that has to be correctly interpreted by the port to call the remote server.
        The service id is added as metadata do identify the service that shold get called on the remote server. It may not
        be needed for certain implementations.</p><p>The proxy calls the CallRouter which redirects the methodcall to the respective Port. Security is implemented
        in this layer.</p></div></div></div><div class="chapter" title="Chapter&nbsp;22.&nbsp;Deployer services"><div class="titlepage"><div><div><h2 class="title"><a name="user.deployers"></a>Chapter&nbsp;22.&nbsp;Deployer services</h2></div></div></div><p>
    The OpenEngSB supports file-based configuration through its deployer services.
    These services are constantly checking the "config/" directory for new/changed/deleted configuration files.
  </p><p>
    If a new file is created, its configuration is loaded into the OpenEngSB. When the file changes the configuration is updated
    and when it is deleted the configuration is unloaded. Each deployer handles a different type of configuration file
    represented by different file name extensions. Details and structure of these files are covered in this section.
  </p><p>
    It should be noted that the OpenEngSB itself uses deployer services for internal configuration. For this purpose the
    deployer services also listen for configuration files in "etc/". These config files however are essential for the
    correct operation of the OpenEngSB and should not be modified.
  </p><div class="section" title="22.1.&nbsp;Connector configuration"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="user.deployers.connector"></a>22.1.&nbsp;Connector configuration</h2></div></div></div><p>
      The connector deployer service creates, updates or deletes instances of connector services.
    </p><p>
      All files in the "config/" directory with the extension ".connector" are handled by the connector deployer.
      The .connector files have to be simple property files containing the configuration properies of a certain connector service
      and their values. Those files have to follow a specific form to be read correctly. First of all they follow the pattern:
      "domain+connector+instance.connector". Here "domain" stands for the domainId to use (e.g. notification), "connector" for the
      name of the connector which should be created in the domain (e.g. mail) and "instance" is a unique id per connector. A simple
      UUID or a unique counter should do here. The content of the file is two-fold. On one hand you can configure the properties of
      a service directly using property.NAME_OF_THE_PROPERTY=VALUE_OF_THE_PROPERTY (for example property.location.root=notificaiton).
      Those properties are directly added to the properties of a service. On the other hand you have to configure the connectors
      themselves. Therefore you have the attribute.NAME_OF_THE_CONNECTOR_ATTRIBUTE=VALUE_TO_ASSIGN. Throwing this together you can
      end with a connector file as shown next.
    </p><div class="example"><a name="d0e1873"></a><p class="title"><b>Example&nbsp;22.1.&nbsp;Example .connector configuration file for the email connector </b></p><div class="example-contents"><p>
        The email connector is regsitered in the root context with the name notify. The file name has to be
        notificaiton+email+dc110658-c6be-4470-8b41-6db154301791.connector which represents a connector instance with the instanceId 
        dc110658-c6be-4470-8b41-6db154301791 of the eemail connector in the notificaiton domain.
      </p><pre class="programlisting">
property.location.root=notify
attribute.user = user
attribute.password = test
attribute.prefix = [test]
attribute.smtpAuth = true
attribute.smtpSender = test@test.com
attribute.smtpPort = 25
attribute.smtpHost = smtp.testserver.com
      </pre></div></div><br class="example-break"><div class="section" title="22.1.1.&nbsp;Root services"><div class="titlepage"><div><div><h3 class="title"><a name="user.deployers.connector.root"></a>22.1.1.&nbsp;Root services</h3></div></div></div><p>
        Note, that root services (ie. connector services deployed from the "etc/" directory) are deployed with a lower
        service ranking.
        This is done so that normal services are preferred when matching services.
      </p></div></div><div class="section" title="22.2.&nbsp;Context configuration"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="user.deployers.context"></a>22.2.&nbsp;Context configuration</h2></div></div></div><p>
      The context deployer service creates contexts according to any .context files found in the config directory. The context 
      id is the file-name (without the extension). The file content will be ignored. So for example
    </p></div></div><div class="chapter" title="Chapter&nbsp;23.&nbsp;Client Projects and Embedding The OpenEngSB"><div class="titlepage"><div><div><h2 class="title"><a name="developer.client"></a>Chapter&nbsp;23.&nbsp;Client Projects and Embedding The OpenEngSB</h2></div></div></div><p>
    Although the OpenEngSB is distributed as a binary ZIP it is basically not meant to be used that way. Instead you typically 
    start developing your own project using the OpenEngSB as a base environment and Maven to assembly your code with the OpenEngSB.
  </p><div class="section" title="23.1.&nbsp;Using the same dependencies as the OPENENGSB"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e1896"></a>23.1.&nbsp;Using the same dependencies as the OPENENGSB</h2></div></div></div><p>To use the same dependencies as the OPENENGSB project you have to import the openengsb-bundle-settings project
      into your dependency management section:</p><pre class="programlisting"> 
     &lt;dependencyManagement&gt;
       &lt;dependencies&gt;
         &lt;dependency&gt;
           &lt;groupId&gt;org.openengsb.build&lt;/groupId&gt;
           &lt;artifactId&gt;openengsb-bundle-settings&lt;/artifactId&gt;
           &lt;version&gt;Version of OPENENGSB you use&lt;/version&gt;
           &lt;type&gt;pom&lt;/type&gt;
           &lt;scope&gt;import&lt;/scope&gt;
         &lt;/dependency&gt;
       &lt;/dependencies&gt;
     &lt;/dependencyManagement&gt;
      </pre><p>This will import all the dependencies with the correct versions into the dependencyManagement section.
         You can now define the dependencies shared between your project and OPENENGSB in your dependencies 
         section without setting the version.</p></div></div><div class="chapter" title="Chapter&nbsp;24.&nbsp;OpenEngSB Platform"><div class="titlepage"><div><div><h2 class="title"><a name="user.platform"></a>Chapter&nbsp;24.&nbsp;OpenEngSB Platform</h2></div></div></div><p>The aim of the OpenEngSB project, as for every open source project, is to make the life of everyone better.
    Or at least the life of engineers :). With that said, we want to support projects using the OpenEngSB as base 
    environment, or
    providing domains and connectors. While it is easy to find a source repository and use the OpenEngSB (because
    of its business friendly Apache 2 license), it is not that easy to get the visibility your project earns. We want
    to provide you with this visibility by including your project into the OpenEngSB product family. Basically we 
    provide you with the following infrastructure:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Sub domain within the OpenEngSB: yourproject.openengsb.org</li><li class="listitem">Upload space for a homepage at yourproject.openengsb.org</li><li class="listitem">Two mailinglists (yourproject-dev@openengsb.org and yourproject-user@openengsb.org)</li><li class="listitem">A git repository at github.com/openengsb/yourpoject</li><li class="listitem">A place at our issue tracker</li><li class="listitem">A place at our build server</li></ul></div><p>To get your project on the infrastructure you have to use the Apache 2 license for your code and use the
    OpenEngSB. It is not required to have any existing source base. Simply send your project proposal to the
    openengsb-dev mailing list and we'll discuss your project. Don't be afraid; it's not as hard as it sounds ;)</p></div></div><div class="part" title="Part&nbsp;IV.&nbsp;Administration Console"><div class="titlepage"><div><div><h1 class="title"><a name="console.ui.manual"></a>Part&nbsp;IV.&nbsp;Administration Console</h1></div></div></div><div class="partintro" title="Administration Console"><div></div><p>
        This part gives an introduction to the OpenEngSB Console . It shows the
        functionality and gives an idea what the admin can change in the system and how this is done in the console.
      </p><p>The target audience of this part are users and in special admins of the system.</p></div><div class="chapter" title="Chapter&nbsp;25.&nbsp;OpenEngSB console commands"><div class="titlepage"><div><div><h2 class="title"><a name="howto.consolecommands"></a>Chapter&nbsp;25.&nbsp;OpenEngSB console commands</h2></div></div></div><p>This section describes how to control OpenEngSB via the Karaf-Console</p><div class="section" title="25.1.&nbsp;Start the console"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e1940"></a>25.1.&nbsp;Start the console</h2></div></div></div><p>It is not much needed to get the OpenEngSB console started. Just type in a shell "mvn openengsb:provision"
      or execute the corresponding shell script (etc/scripts/run.sh)
    </p></div><div class="section" title="25.2.&nbsp;Available commands"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e1945"></a>25.2.&nbsp;Available commands</h2></div></div></div><p>This section is work in progress, which means that it will be extended every time a new command is
      available
    </p><p>
      </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
            <span class="command"><strong>openengsb:info</strong></span>
            - prints out the current project version
          </p><p>
            <span class="command"><strong>openengsb:domains</strong></span>
            - prints out all available domains
          </p></li></ul></div><p>
    </p></div></div></div><div class="part" title="Part&nbsp;V.&nbsp;Administration User Interface"><div class="titlepage"><div><div><h1 class="title"><a name="web.ui.manual"></a>Part&nbsp;V.&nbsp;Administration User Interface</h1></div></div></div><div class="partintro" title="Administration User Interface"><div></div><p>
        This part gives an introduction to the OpenEngSB Administration user interface. It shows the functionality and gives an idea what the admin can change in the system and how he can perform this changes.
       </p><p>The target audience of this part are users and in special admins of the system.</p></div><div class="chapter" title="Chapter&nbsp;26.&nbsp;Testclient"><div class="titlepage"><div><div><h2 class="title"><a name="ui.testclient"></a>Chapter&nbsp;26.&nbsp;Testclient</h2></div></div></div><p>The admin interface for the user to manage domains, connectors(services) and things that have things in common with this. Also you can test services here. If you select a service you can delete it with the corresponding button.</p><div class="section" title="26.1.&nbsp;Managing global variables"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e1979"></a>26.1.&nbsp;Managing global variables</h2></div></div></div><p>Global variables are needed to access domain-services 
    and other helper-objects. To manage this variables there is a button in the testclient
    which brings you to a own site where you can manage this variables. Here you can add,
    edit and delete them. If some error occeur while managing the variables(deleting a variable
    that is already in a rule, ...), the site tells you what did go wrong.
    </p></div><div class="section" title="26.2.&nbsp;Managing imports"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e1984"></a>26.2.&nbsp;Managing imports</h2></div></div></div><p>Imports are important so that global variables can work. If the class of the global
    variable isn't imported an error occeurs because the neccessary classes can't be loaded.
    To manage this imports there is a button in the testclient which brings you to a own site 
    where you can manage this imports. Here you can add, edit and delete them. If some error 
    occur while managing the imports, the site tells you what did go wrong.
    </p></div></div><div class="chapter" title="Chapter&nbsp;27.&nbsp;Wiring"><div class="titlepage"><div><div><h2 class="title"><a name="ui.wiring"></a>Chapter&nbsp;27.&nbsp;Wiring</h2></div></div></div><p>This user interface constitutes a way for administrators to do wiring. 
    Wiring is a process, where global variables get connected with connectors (domain endpoints) 
    in a certain context. As there are several steps to do that, this page gives you a fast  
    and easy managing possibility. For further reading, please visit  
    <a class="link" href="http://www.openengsb.org/nightly/docbook/developer.context.html" target="_top">http://www.openengsb.org/nightly/docbook/developer.context.html</a>.
  </p><div class="section" title="27.1.&nbsp;Wire a global variable with a service"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e1997"></a>27.1.&nbsp;Wire a global variable with a service</h2></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Select a domain-type in the drop-down-field. Doing that, all domain endpoints and all 
          globals of this domain-type will be loaded. If nothing appears, then there will be probably no 
          suitable global available and no suitable connector is instantiated. This can be checked on the 
          <a class="link" href="http://www.openengsb.org/nightly/docbook/ui.testclient.html" target="_top">Testclient page</a>.
        </p><div class="mediaobject" title="Selecting a domain in the drop-down-field lets globals and endpoints appear" align="center"><img src="graphics/wiring_domains.png" align="middle"><div class="caption"><p>Selecting a domain in the drop-down-field lets globals and endpoints appear</p></div></div></li><li class="listitem"><p>You have to choose a global, because that is the object you want to get wired with a connector.
          A global variable is part of a rule allowing the workflow service to communicate with connectors 
          and other objects. More information you can find in the Chapter about
          <a class="link" href="http://www.openengsb.org/docbook/developer.workflows.html" target="_top">Workflows</a>.
        </p><p>
          There are two possibilities to specify a global. Either you select one from the list or you write 
          autonomous a name of a global in the corresponding text field. If the global doesn't exist, there 
          will be a new one created with the type of the selected domain. If a global already exists and have 
          another type as selected, then there will be an error message after submitting.  
        </p><div class="mediaobject" title="Input field for the global variable" align="center"><img src="graphics/wiring_global.png" align="middle"><div class="caption"><p>Input field for the global variable</p></div></div></li><li class="listitem"><p>You must select a domain endpoint from the corresponding list. The list will be loaded
          after you have selected a domain.
        </p><div class="mediaobject" title="Input field for the service Id, which can be edited by selecting an endpoint from the list." align="center"><img src="graphics/wiring_serviceId.png" align="middle"><div class="caption"><p>Input field for the service Id, which can be edited by selecting an endpoint from the list</p></div></div></li><li class="listitem"><p>You must select the contexts, where the wiring shall happen. You can select all but at least one 
          have to be selected. Information about what a context means can be found at the 
          <a class="link" href="http://www.openengsb.org/docbook/developer.context.html" target="_top">Context Management</a>.
        </p><div class="mediaobject" title="List of all available contexts, which can be selected." align="center"><img src="graphics/wiring_contexts.png" align="middle"><div class="caption"><p>List of all available contexts</p></div></div></li><li class="listitem"><p>After submitting the form, a success message for each context should appear. If an error occurs, 
          an error message will be shown.
        </p><div class="mediaobject" title="Screenshot of the wiring results" align="center"><img src="graphics/wiring_submit.png" align="middle"><div class="caption"><p>Screenshot of the wiring results</p></div></div></li></ol></div></div><div class="section" title="27.2.&nbsp;What wiring does in the background"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2067"></a>27.2.&nbsp;What wiring does in the background</h2></div></div></div><p>The properties of the service will be updated. First, it will try to get the property with the key 
      'location.' + context from these properties, because there are all locations stored. If there is no such 
      property, a new one will be added. After that, it will insert a new location in that property, which is the 
      name of the given global. As there can be more locations, the new one will be appended excepted such 
      location already exists. Then nothing will be changed, but an info message will appear.
    </p></div></div></div><div class="part" title="Part&nbsp;VI.&nbsp;OpenEngSB Available Domains &amp; Connectors"><div class="titlepage"><div><div><h1 class="title"><a name="domain.manual"></a>Part&nbsp;VI.&nbsp;OpenEngSB Available Domains &amp; Connectors</h1></div></div></div><div class="partintro" title="OpenEngSB Available Domains &amp; Connectors"><div></div><p>This part gives an overview about the domains and their functionality the OpenEngSB supports out of the
        box. Furthermore each connector and necessary external tool configuration is explained.</p><p>The target audience of this part are developers and contributors.</p></div><div class="chapter" title="Chapter&nbsp;28.&nbsp;Notification Domain"><div class="titlepage"><div><div><h2 class="title"><a name="domains.notification.domain"></a>Chapter&nbsp;28.&nbsp;Notification Domain</h2></div></div></div><p>The notification domain is an abstraction for basic notification services, like for example email notification.</p><div class="section" title="28.1.&nbsp;Description"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2086"></a>28.1.&nbsp;Description</h2></div></div></div><p>The notification domain provides the functionality for sending notifications to a specific recipient.</p></div><div class="section" title="28.2.&nbsp;Functional Interface"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2091"></a>28.2.&nbsp;Functional Interface</h2></div></div></div><p><a class="link" href="https://github.com/openengsb/openengsb-domain-notification/tree/master/src/main/java/org/openengsb/domain/notification/NotificationDomain.java" target="_top">Link</a>
      to the Java Domain Interface on Github. This interface also contains information about events raised by this domain.</p></div><div class="section" title="28.3.&nbsp;Connectors"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2098"></a>28.3.&nbsp;Connectors</h2></div></div></div><div class="section" title="28.3.1.&nbsp;Email Connector"><div class="titlepage"><div><div><h3 class="title"><a name="domains.notification.email"></a>28.3.1.&nbsp;Email Connector</h3></div></div></div><p>The email connector is a simple notification connector based on the java mail API.</p><div class="section" title="28.3.1.1.&nbsp;External Tool Configuration"><div class="titlepage"><div><div><h4 class="title"><a name="d0e2107"></a>28.3.1.1.&nbsp;External Tool Configuration</h4></div></div></div><p>No external tool configuration is necessary.</p></div></div><div class="section" title="28.3.2.&nbsp;Facebook Connector"><div class="titlepage"><div><div><h3 class="title"><a name="domains.notification.facebook"></a>28.3.2.&nbsp;Facebook Connector</h3></div></div></div><p>
    The facebook connector is a notification connector based on plain communication with facebook.
    If you send a message via this connector, the message will be shown on the newsboard of the
    facebook account connected through the connector.
  </p><div class="section" title="28.3.2.1.&nbsp;Connector Configuration"><div class="titlepage"><div><div><h4 class="title"><a name="d0e2118"></a>28.3.2.1.&nbsp;Connector Configuration</h4></div></div></div><p>
      You have to configurate your facebook connector with the details of your application. Steps:
    </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>create an application on facebook. HOWTO:http://developers.facebook.com/docs/guides/canvas/.</p></li><li class="listitem"><p>note down the application id and the application secret of this application.</p></li><li class="listitem"><p>enter this values into the xml file located in the path /openengsb-connector-facebook/src/main/resources/OSGI-INF/blueprint/facebook-connector-context.xml (facebookApplicationId = application id and facebookApplicationeSecret = application secret).</p></li></ol></div></div><div class="section" title="28.3.2.2.&nbsp;Create an instance of this connector"><div class="titlepage"><div><div><h4 class="title"><a name="d0e2133"></a>28.3.2.2.&nbsp;Create an instance of this connector</h4></div></div></div><p>
      This action requires two steps by the user:
    </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>insert the id of your facebook account. You find the id in the URL of your facebook account (e.g. http://www.facebook.com/profile.php?id=testuser, your id would be testuser).</p></li><li class="listitem"><p>do the OAuth authentication process and copy the result from the popup to the field of the user token.</p></li></ol></div></div><div class="section" title="28.3.2.3.&nbsp;External Tool Configuration"><div class="titlepage"><div><div><h4 class="title"><a name="d0e2145"></a>28.3.2.3.&nbsp;External Tool Configuration</h4></div></div></div><p>No external tool configuration is necessary.</p></div></div></div></div><div class="chapter" title="Chapter&nbsp;29.&nbsp;SCM Domain"><div class="titlepage"><div><div><h2 class="title"><a name="domains.scm.domain"></a>Chapter&nbsp;29.&nbsp;SCM Domain</h2></div></div></div><p>The source code management (SCM) domain is the tool domain for all SCM tools, like Git or Subversion.</p><div class="section" title="29.1.&nbsp;Description"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2156"></a>29.1.&nbsp;Description</h2></div></div></div><p>The SCM Domain polls external repositories for changes of content under source control and provides functionality to 
      copy/export the repository content for further processing.</p></div><div class="section" title="29.2.&nbsp;Functional Interface"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2161"></a>29.2.&nbsp;Functional Interface</h2></div></div></div><p><a class="link" href="https://github.com/openengsb/openengsb-domain-scm/tree/master/src/main/java/org/openengsb/domain/scm/ScmDomain.java" target="_top">Link</a>
      to the Java Domain Interface on Github.  This interface also contains information about events raised by this domain.</p></div><div class="section" title="29.3.&nbsp;Connectors"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2168"></a>29.3.&nbsp;Connectors</h2></div></div></div><div class="section" title="29.3.1.&nbsp;Git Connector"><div class="titlepage"><div><div><h3 class="title"><a name="domains.scm.git"></a>29.3.1.&nbsp;Git Connector</h3></div></div></div><p>The Git Connector is a SCM tool connector for the 
  <a class="link" href="http://git-scm.com/" target="_top">Git fast version control system</a>.</p><div class="section" title="29.3.1.1.&nbsp;External Tool Configuration"><div class="titlepage"><div><div><h4 class="title"><a name="d0e2180"></a>29.3.1.1.&nbsp;External Tool Configuration</h4></div></div></div><p>The external Git repository must be anonymously accessible with one of the following protocols:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>git</p></li><li class="listitem"><p>http</p></li><li class="listitem"><p>ftp</p></li></ol></div><p>No further configuration is needed.</p></div></div></div></div><div class="chapter" title="Chapter&nbsp;30.&nbsp;Issue Domain"><div class="titlepage"><div><div><h2 class="title"><a name="domains.issue.domain"></a>Chapter&nbsp;30.&nbsp;Issue Domain</h2></div></div></div><p>The issue domain is the tool domain for all issue tracking tools, like Jira, Trac, Github or Mantis.</p><div class="section" title="30.1.&nbsp;Description"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2203"></a>30.1.&nbsp;Description</h2></div></div></div><p>The issue Domain provides the possibility to create, update, delete and comment issues.</p></div><div class="section" title="30.2.&nbsp;Functional Interface"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2208"></a>30.2.&nbsp;Functional Interface</h2></div></div></div><p><a class="link" href="https://github.com/openengsb/openengsb-domain-issue/tree/master/src/main/java/org/openengsb/domain/issue/IssueDomain.java" target="_top">Link</a>
      to the Java Domain Interface on Github. This interface also contains information about events raised by this domain.</p></div><div class="section" title="30.3.&nbsp;Connectors"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2215"></a>30.3.&nbsp;Connectors</h2></div></div></div><div class="section" title="30.3.1.&nbsp;Trac Connector"><div class="titlepage"><div><div><h3 class="title"><a name="domains.issue.trac"></a>30.3.1.&nbsp;Trac Connector</h3></div></div></div><p>The Trac Connector is a issue tool connector for the 
  <a class="link" href="http://trac.edgewall.org/" target="_top">Trac project management and issue tracker system</a>.</p><div class="section" title="30.3.1.1.&nbsp;External Tool Configuration"><div class="titlepage"><div><div><h4 class="title"><a name="d0e2227"></a>30.3.1.1.&nbsp;External Tool Configuration</h4></div></div></div><p>The external Trac tool has to be accessible via XmlRpc. For this purpose the XmlRpcPlugin has to be 
    installed (see <a class="link" href="http://trac.edgewall.org/wiki/PluginList" target="_top">http://trac.edgewall.org/wiki/PluginList</a>).</p></div></div><div class="section" title="30.3.2.&nbsp;Jira Connector"><div class="titlepage"><div><div><h3 class="title"><a name="domains.issue.jira"></a>30.3.2.&nbsp;Jira Connector</h3></div></div></div><p>The Jira Connector is an issue connector for the 
  <a class="link" href="http://www.atlassian.com/software/jira/" target="_top">Jira issue and project tracking system</a>. IMPORTANT: Name of components must not contain ","</p><div class="section" title="30.3.2.1.&nbsp;External Tool Configuration"><div class="titlepage"><div><div><h4 class="title"><a name="d0e2244"></a>30.3.2.1.&nbsp;External Tool Configuration</h4></div></div></div><p>The Jira connector should work with a default Jira installation.
        However, make sure that the RPC plugin is enabled as described in the
	<a class="link" href="http://confluence.atlassian.com/display/JIRA/JIRA+XML-RPC+Overview" target="_top">Jira XML-RPC Overview</a>.
    </p></div></div><div class="section" title="30.3.3.&nbsp;Github Connector"><div class="titlepage"><div><div><h3 class="title"><a name="domains.issue.github"></a>30.3.3.&nbsp;Github Connector</h3></div></div></div><p>The Github Connector is an issue connector for the 
  <a class="link" href="http://github.com/" target="_top">Github issue system</a>.</p><div class="section" title="30.3.3.1.&nbsp;External Tool Configuration"><div class="titlepage"><div><div><h4 class="title"><a name="d0e2261"></a>30.3.3.1.&nbsp;External Tool Configuration</h4></div></div></div><p>The issue tracking system has to be active on github
    </p></div></div></div></div><div class="chapter" title="Chapter&nbsp;31.&nbsp;Report Domain"><div class="titlepage"><div><div><h2 class="title"><a name="domains.report.domain"></a>Chapter&nbsp;31.&nbsp;Report Domain</h2></div></div></div><p>The report domain is the tool domain for report generation and management tools.</p><div class="section" title="31.1.&nbsp;Description"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2272"></a>31.1.&nbsp;Description</h2></div></div></div><p>The report domain supports basic report generation functionality, like event logging and manual
    report building. Furthermore it provides basic report management features, like persistent storage of 
    reports and a category system for report storage.</p></div><div class="section" title="31.2.&nbsp;Functional Interface"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2277"></a>31.2.&nbsp;Functional Interface</h2></div></div></div><p><a class="link" href="https://github.com/openengsb/openengsb-domain-report/tree/master/src/main/java/org/openengsb/domain/report/ReportDomain.java" target="_top">Link</a>
      to the Java Domain Interface on Github. This interface also contains information about events raised by this domain.</p></div><div class="section" title="31.3.&nbsp;Connectors"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2284"></a>31.3.&nbsp;Connectors</h2></div></div></div><div class="section" title="31.3.1.&nbsp;Plaintext Report Connector"><div class="titlepage"><div><div><h3 class="title"><a name="domains.report.plaintext"></a>31.3.1.&nbsp;Plaintext Report Connector</h3></div></div></div><p>The plain text report tool connector is simple implementation of the report domain, which generates
  plain text reports.</p><div class="section" title="31.3.1.1.&nbsp;External Tool Configuration"><div class="titlepage"><div><div><h4 class="title"><a name="d0e2293"></a>31.3.1.1.&nbsp;External Tool Configuration</h4></div></div></div><p>No external configuration is needed.</p></div></div><div class="section" title="31.3.2.&nbsp;ProM Report Connector"><div class="titlepage"><div><div><h3 class="title"><a name="domains.report.prom"></a>31.3.2.&nbsp;ProM Report Connector</h3></div></div></div><p>The ProM report tool connector generates reports in 
    <a class="link" href="http://is.tm.tue.nl/research/processmining/WorkflowLog.xsd" target="_top">Mining XML</a> format
    and keeps therefore one mxml file for each process.
  </p><div class="section" title="31.3.2.1.&nbsp;External Tool Configuration"><div class="titlepage"><div><div><h4 class="title"><a name="d0e2307"></a>31.3.2.1.&nbsp;External Tool Configuration</h4></div></div></div><p>To run the ProM connector no external configuration is needed.
      The preferred way to analyze the created mxml files is to use the 
      <a class="link" href="http://www.win.tue.nl/processmining/" target="_top">ProM framework</a>.
    </p></div></div></div></div><div class="chapter" title="Chapter&nbsp;32.&nbsp;Build Domain"><div class="titlepage"><div><div><h2 class="title"><a name="domains.build.domain"></a>Chapter&nbsp;32.&nbsp;Build Domain</h2></div></div></div><p>The build domain is a domain for all build tools, like <a class="link" href="http://maven.apache.org/" target="_top">Maven</a> or 
  <a class="link" href="http://ant.apache.org/" target="_top">Ant</a>.</p><div class="section" title="32.1.&nbsp;Description"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2327"></a>32.1.&nbsp;Description</h2></div></div></div><p>The build domain builds a specific pre-configured project or suite of projects.</p></div><div class="section" title="32.2.&nbsp;Functional Interface"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2332"></a>32.2.&nbsp;Functional Interface</h2></div></div></div><p><a class="link" href="${github.build}openengsb-domain-build/tree/master/src/main/java/org/openengsb/domain/build/BuildDomain.java" target="_top">Link</a>
      to the Java Domain Interface on Github.  This interface also contains information about events raised by this domain.</p></div><div class="section" title="32.3.&nbsp;Connectors"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2339"></a>32.3.&nbsp;Connectors</h2></div></div></div>  
    This domain is implemented by the <a class="xref" href="#domains.multiple.maven" title="38.1.1.&nbsp;Maven Connector">Section&nbsp;38.1.1, &#8220;Maven Connector&#8221;</a>, which supports multiple domains.
  </div></div><div class="chapter" title="Chapter&nbsp;33.&nbsp;Test Domain"><div class="titlepage"><div><div><h2 class="title"><a name="domains.test.domain"></a>Chapter&nbsp;33.&nbsp;Test Domain</h2></div></div></div><p>The test domain is a domain for all test tools, like <a class="link" href="http://maven.apache.org/" target="_top">Maven</a>.</p><div class="section" title="33.1.&nbsp;Description"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2354"></a>33.1.&nbsp;Description</h2></div></div></div><p>The test domain runs all tests for a specific pre-configured project or suite of projects.</p></div><div class="section" title="33.2.&nbsp;Functional Interface"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2359"></a>33.2.&nbsp;Functional Interface</h2></div></div></div><p><a class="link" href="https://github.com/openengsb/openengsb-domain-test/tree/master/src/main/java/org/openengsb/domain/test/TestDomain.java" target="_top">Link</a>
      to the Java Domain Interface on Github.  This interface also contains information about events raised by this domain.</p></div><div class="section" title="33.3.&nbsp;Connectors"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2366"></a>33.3.&nbsp;Connectors</h2></div></div></div>  
    This domain is implemented by the <a class="xref" href="#domains.multiple.maven" title="38.1.1.&nbsp;Maven Connector">Section&nbsp;38.1.1, &#8220;Maven Connector&#8221;</a>, which supports multiple domains.
  </div></div><div class="chapter" title="Chapter&nbsp;34.&nbsp;Deploy Domain"><div class="titlepage"><div><div><h2 class="title"><a name="domains.deploy.domain"></a>Chapter&nbsp;34.&nbsp;Deploy Domain</h2></div></div></div><p>The deploy domain is a domain for all deploy tools, like <a class="link" href="http://maven.apache.org/" target="_top">Maven</a>.</p><div class="section" title="34.1.&nbsp;Description"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2381"></a>34.1.&nbsp;Description</h2></div></div></div><p>The deploy domain deploys a specific pre-configured project or suite of projects.</p></div><div class="section" title="34.2.&nbsp;Functional Interface"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2386"></a>34.2.&nbsp;Functional Interface</h2></div></div></div><p><a class="link" href="https://github.com/openengsb/openengsb-domain-deploy/tree/master/src/main/java/org/openengsb/domain/deploy/DeployDomain.java" target="_top">Link</a>
      to the Java Domain Interface on Github. This interface also contains information about events raised by this domain.</p></div><div class="section" title="34.3.&nbsp;Connectors"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2393"></a>34.3.&nbsp;Connectors</h2></div></div></div>  
    This domain is implemented by the <a class="xref" href="#domains.multiple.maven" title="38.1.1.&nbsp;Maven Connector">Section&nbsp;38.1.1, &#8220;Maven Connector&#8221;</a>, which supports multiple domains.
  </div></div><div class="chapter" title="Chapter&nbsp;35.&nbsp;Auditing Domain"><div class="titlepage"><div><div><h2 class="title"><a name="domains.auditing.domain"></a>Chapter&nbsp;35.&nbsp;Auditing Domain</h2></div></div></div><p>The auditing domain provides various auditing services</p><div class="section" title="35.1.&nbsp;Description"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2405"></a>35.1.&nbsp;Description</h2></div></div></div><p>The auditing domain stores auditing logs for later retrieval</p></div><div class="section" title="35.2.&nbsp;Functional Interface"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2410"></a>35.2.&nbsp;Functional Interface</h2></div></div></div><p><a class="link" href="https://github.com/openengsb/openengsb/blob/master/domain/auditing/src/main/java/org/openengsb/domain/auditing/TestDomain.java" target="_top">Link</a>
      to the Java Domain Interface on Github.  This interface also contains information about events raised by this domain.</p></div><div class="section" title="35.3.&nbsp;Connectors"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2417"></a>35.3.&nbsp;Connectors</h2></div></div></div><div class="section" title="35.3.1.&nbsp;Memory Auditing Connector"><div class="titlepage"><div><div><h3 class="title"><a name="domains.auditing.memoryauditing"></a>35.3.1.&nbsp;Memory Auditing Connector</h3></div></div></div><p>The memory auditing connector stores every audit call in memory for later retrieval.</p></div></div></div><div class="chapter" title="Chapter&nbsp;36.&nbsp;Appointment Domain"><div class="titlepage"><div><div><h2 class="title"><a name="domains.appointment.domain"></a>Chapter&nbsp;36.&nbsp;Appointment Domain</h2></div></div></div><p>The appointment domain is the tool domain for calendar tools, like gcalendar or Facebook.</p><div class="section" title="36.1.&nbsp;Description"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2432"></a>36.1.&nbsp;Description</h2></div></div></div><p>The appointment domain provides the possibility to create, update, delete and retrieve appointments.</p></div><div class="section" title="36.2.&nbsp;Functional Interface"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2437"></a>36.2.&nbsp;Functional Interface</h2></div></div></div><p><a class="link" href="https://github.com/openengsb/openengsb-domain-appointment/tree/master/src/main/java/org/openengsb/domain/appointment/AppointmentDomain.java" target="_top">Link</a>
      to the Java Domain Interface on Github. This interface also contains information about events raised by this domain.</p></div><div class="section" title="36.3.&nbsp;Connectors"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2444"></a>36.3.&nbsp;Connectors</h2></div></div></div><div class="section" title="36.3.1.&nbsp;Gcalendar Connector"><div class="titlepage"><div><div><h3 class="title"><a name="domains.appointment.gcalendar"></a>36.3.1.&nbsp;Gcalendar Connector</h3></div></div></div><p>The Gcalendar Connector is an appointment connector for the   
    <a class="link" href="https://www.google.com/calendar/" target="_top">Google calendar system</a>.
  </p><div class="section" title="36.3.1.1.&nbsp;External Tool Configuration"><div class="titlepage"><div><div><h4 class="title"><a name="d0e2456"></a>36.3.1.1.&nbsp;External Tool Configuration</h4></div></div></div><p>The Gcalendar connector should work as soon as you have a google account that is connected to the google calendar service.    </p></div></div></div></div><div class="chapter" title="Chapter&nbsp;37.&nbsp;Contact Domain"><div class="titlepage"><div><div><h2 class="title"><a name="domains.contact.domain"></a>Chapter&nbsp;37.&nbsp;Contact Domain</h2></div></div></div><p>The contact domain is the tool domain for all contact books in tools which are using contact books like gcontacts or Facebook.</p><div class="section" title="37.1.&nbsp;Description"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2467"></a>37.1.&nbsp;Description</h2></div></div></div><p>The contact domain provides the possibility to create, update, delete and retrieve contacts.</p></div><div class="section" title="37.2.&nbsp;Functional Interface"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2472"></a>37.2.&nbsp;Functional Interface</h2></div></div></div><p><a class="link" href="https://github.com/openengsb/openengsb-domain-contact/tree/master/src/main/java/org/openengsb/domain/contact/ContactDomain.java" target="_top">Link</a>
      to the Java Domain Interface on Github. This interface also contains information about events raised by this domain.</p></div><div class="section" title="37.3.&nbsp;Connectors"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2479"></a>37.3.&nbsp;Connectors</h2></div></div></div><div class="section" title="37.3.1.&nbsp;Gcontacts Connector"><div class="titlepage"><div><div><h3 class="title"><a name="domains.contact.gcontacts"></a>37.3.1.&nbsp;Gcontacts Connector</h3></div></div></div><p>The Gcontacts Connector is an contact connector for the contact book of the online google mail service.</p><div class="section" title="37.3.1.1.&nbsp;External Tool Configuration"><div class="titlepage"><div><div><h4 class="title"><a name="d0e2488"></a>37.3.1.1.&nbsp;External Tool Configuration</h4></div></div></div><p>The Gcontacts connector should work as soon as you have a google mail account.
    </p></div></div></div></div><div class="chapter" title="Chapter&nbsp;38.&nbsp;Multi-Domain Connectors"><div class="titlepage"><div><div><h2 class="title"><a name="domains.multiple.connectors"></a>Chapter&nbsp;38.&nbsp;Multi-Domain Connectors</h2></div></div></div><p>Some connectors support multiple domains. Therefore they cannot be categorized into a specific domain.</p><div class="section" title="38.1.&nbsp;Connectors"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e2499"></a>38.1.&nbsp;Connectors</h2></div></div></div><div class="section" title="38.1.1.&nbsp;Maven Connector"><div class="titlepage"><div><div><h3 class="title"><a name="domains.multiple.maven"></a>38.1.1.&nbsp;Maven Connector</h3></div></div></div><p>The Maven Connector is a build, test and deploy tool connector for 
  <a class="link" href="http://maven.apache.org/" target="_top">Maven</a>.</p><div class="section" title="38.1.1.1.&nbsp;External Tool Configuration"><div class="titlepage"><div><div><h4 class="title"><a name="d0e2511"></a>38.1.1.1.&nbsp;External Tool Configuration</h4></div></div></div><p>The Maven executable has to be on the system path to make this connector work.</p></div></div></div></div></div><div class="part" title="Part&nbsp;VII.&nbsp;OpenEngSB Commiters &amp; Contributors"><div class="titlepage"><div><div><h1 class="title"><a name="developer.manual"></a>Part&nbsp;VII.&nbsp;OpenEngSB Commiters &amp; Contributors</h1></div></div></div><div class="partintro" title="OpenEngSB Commiters &amp; Contributors"><div></div><p>This part explains how to develop additional domains, connectors and similar parts. In addition it explains
        the rules and infrastructure according to which the project is developed.</p><p>The target audience of this part are contributors.</p></div><div class="chapter" title="Chapter&nbsp;39.&nbsp;Getting Started as a Developer"><div class="titlepage"><div><div><h2 class="title"><a name="developer.quickstart"></a>Chapter&nbsp;39.&nbsp;Getting Started as a Developer</h2></div></div></div><p>This chapter describes the basic steps to get started as a developer for the OpenEngSB project.</p><div class="section" title="39.1.&nbsp;Getting comfortable with the infrastructure"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="developer.quickstart.infrastructure"></a>39.1.&nbsp;Getting comfortable with the infrastructure</h2></div></div></div><p>As any open source project the OpenEngSB development depends on a wide range of different infrastructural and 
      communication methods to get things done. The following sub-chapters describe the different tools, their
      location and usage in the OpenEngSB development process.</p><div class="section" title="39.1.1.&nbsp;Mailing Lists"><div class="titlepage"><div><div><h3 class="title"><a name="developer.quickstart.infrastructure.mail"></a>39.1.1.&nbsp;Mailing Lists</h3></div></div></div><p>The most important communication medium for the OpenEngSB development team is email. Mostly all of
        the vital design, architectural and infrastructural decisions are discussed on the OpenEngSB developer
        list. Therefore, the first step to get involved into the development of the OpenEngSB is to register to the 
        <a class="link" href="http://groups.google.com/group/openengsb-dev" target="_top">Google Groups OpenEngSB Developer Mailing List
        </a> and say hello world.</p><p>While notifications from the OpenCIT Build Server, about code commits and Jira issues are vital for the
        OpenEngSB core developer, they may not be as interesting for you. If you get annoyed by the automatically 
        generated notification mails ignore all mails from openengsb@gmail.com and noreply@github.com to 
        openengsb-dev@googlegroups.com. Please remember it is important to configure both, <code class="literal">to</code> and 
        <code class="literal">from</code> in your filter. Both addresses will also send notifications directly to you which are 
        important and should not be ignored!</p></div><div class="section" title="39.1.2.&nbsp;Jira Issue Tracker"><div class="titlepage"><div><div><h3 class="title"><a name="developer.quickstart.infrastructure.jira"></a>39.1.2.&nbsp;Jira Issue Tracker</h3></div></div></div><p>All issues are stored within a Jira instance reachable at <a class="link" href="http://issues.openengsb.org/jira/browse/OPENENGSB" target="_top">issues.openengsb.org</a>. Please use the issue tracker
      to keep track of all bugs, ideas and new features you're currently working or of which you think they might be
      interesting.</p></div><div class="section" title="39.1.3.&nbsp;Code Repository"><div class="titlepage"><div><div><h3 class="title"><a name="developer.quickstart.infrastructure.github"></a>39.1.3.&nbsp;Code Repository</h3></div></div></div><p>As for any open source project the source code is public available. We've chosen <a class="link" href="http://github.com" target="_top">
        Github</a> for this task. The project is available at <a class="link" href="http://github.com/openengsb/openengsb" target="_top">
        github.com/openengsb/openengsb</a>.</p><p>As explained later within this document Github is not only used to store our code, but also for collaboration,
        code review and patch-tracking.</p></div><div class="section" title="39.1.4.&nbsp;Maven Repository"><div class="titlepage"><div><div><h3 class="title"><a name="developer.quickstart.infrastructure.maven"></a>39.1.4.&nbsp;Maven Repository</h3></div></div></div><p>The OpenEngSB is available at <a class="link" href="http://repo1.maven.org/maven2/org/openengsb/" target="_top">Maven Central</a>. We still
        have our own Maven repository at <a class="link" href="http://maven.openengsb.org/" target="_top">maven.openengsb.org</a>.Please keep in mind 
        that we try to get rid of this own infrastructure as soon as possible. Therefore the use of this repository is as minimal as possible.
        Snapshots are available via the sonatype Maven repository at <a class="link" href="http://oss.sonatype.org" target="_top">http://oss.sonatype.org</a>.</p></div><div class="section" title="39.1.5.&nbsp;Build Server"><div class="titlepage"><div><div><h3 class="title"><a name="developer.quickstart.infrastructure.build"></a>39.1.5.&nbsp;Build Server</h3></div></div></div><p>The master and integration branch of the OpenEngSB repository are watched and built by an 
        <a class="link" href="http://opencit.openengsb.org" target="_top">OpenCIT</a> build server instance available at 
        <a class="link" href="http://build.openengsb.org/opencit/" target="_top">build.openengsb.org</a>. Notifications about failures are directly sent to 
        the OpenEngSB developer list.</p></div></div><div class="section" title="39.2.&nbsp;Prerequisites"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="developer.quickstart.pre"></a>39.2.&nbsp;Prerequisites</h2></div></div></div><p>First of all the latest JDK has to be installed on the system and the <code class="envar">JAVA_HOME</code> variable has to be
      set accordingly. All further steps are described in the subsections of this chapter.</p><div class="section" title="39.2.1.&nbsp;Installing Git"><div class="titlepage"><div><div><h3 class="title"><a name="developer.quickstart.pre.git"></a>39.2.1.&nbsp;Installing Git</h3></div></div></div><p> It is assumed that Git is installed. For Linux your distribution provides already a 
        package for git. Please use the package manager of your distribution (apt, yum, pacman, ...) to install it. For MAC
        binaries are available at <a class="link" href="git-scm.com" target="_top">git-scm.com</a>. For MS users <a class="link" href="www.cygwin.com" target="_top">cygwin
        </a> or <a class="link" href="code.google.com/p/msysgit" target="_top">msysgit</a>. After installing, set at least the following 
        variables:</p><div class="literallayout"><p><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="command"><strong>git&nbsp;config</strong></span>&nbsp;<code class="option">--global</code>&nbsp;user.name&nbsp;"<em class="replaceable"><code>Firstname&nbsp;Lastname</code></em>"<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="command"><strong>git&nbsp;config</strong></span>&nbsp;<code class="option">--global</code>&nbsp;user.email&nbsp;<em class="replaceable"><code>user@example.com</code></em><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="command"><strong>git&nbsp;config</strong></span>&nbsp;<code class="option">--global</code>&nbsp;core.autcrlf&nbsp;input<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p></div></div><div class="section" title="39.2.2.&nbsp;Installing Maven"><div class="titlepage"><div><div><h3 class="title"><a name="developer.quickstart.pre.maven"></a>39.2.2.&nbsp;Installing Maven</h3></div></div></div><p> Finally download Apache Maven3 and unpack it. Add the path of the maven binary to your <code class="envar">PATH</code> variable.
        Furthermore you should set the <code class="envar">MAVEN_OPTS</code> environment variable to allow Maven to use more RAM. If
        you don't you'll get Out Of Memory errors.
        </p><div class="literallayout"><p><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="command"><strong>export</strong></span>&nbsp;<code class="envar">PATH</code>=$<code class="envar">PATH</code>:<em class="replaceable"><code>/path/to/maven</code></em>/bin<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="command"><strong>export</strong></span>&nbsp;<code class="envar">MAVEN_OPTS</code>='-Xmx1024M&nbsp;-XX:MaxPermSize=512m'<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p></div><p>
        Add these commands to <code class="filename">~/.bashrc</code> to make the settings permanent.</p></div></div><div class="section" title="39.3.&nbsp;Starting OpenEngSB"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="developer.quickstart.essential"></a>39.3.&nbsp;Starting OpenEngSB</h2></div></div></div><p>The next step is to get the OpenEngSB source by checking out the current master using git:</p><div class="literallayout"><p><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="command"><strong>git&nbsp;clone</strong></span>&nbsp;git://github.com/openengsb/openengsb.git<br>
&nbsp;&nbsp;&nbsp;&nbsp;</p></div><p>
      Connector, domains and additional various features are included into the OpenEngSB as submodules. To include them into
      the build and development cycle execute <span class="command"><strong>./etc/scripts/submodulePush.sh</strong></span> if you're a commiter and
      <span class="command"><strong>./etc/scripts/submodulePull.sh</strong></span> otherwise.
    </p><p>Now start the OpenEngSB by executing</p><div class="literallayout"><p><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="command"><strong>mvn&nbsp;clean&nbsp;install&nbsp;openengsb:provision</strong></span><br>
&nbsp;&nbsp;&nbsp;&nbsp;</p></div><p>This command builds, tests and runs the OpenEngSB right from your command-line. Executing the following command
      will shutdown it again:</p><div class="literallayout"><p><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="command"><strong>shutdown</strong></span><br>
&nbsp;&nbsp;&nbsp;&nbsp;</p></div></div><div class="section" title="39.4.&nbsp;Using Eclipse"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="developer.quickstart.eclipse"></a>39.4.&nbsp;Using Eclipse</h2></div></div></div><p> Eclipse had been chosen by the OpenEngSB team as the main development environment. After checkout the code
      the following command creates the required Eclipse project files:</p><div class="literallayout"><p><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="command"><strong>mvn</strong></span>&nbsp;install<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="command"><strong>mvn</strong></span>&nbsp;openengsb:eclipse<br>
&nbsp;&nbsp;&nbsp;&nbsp;</p></div><p>Start Eclipse and select any workspace. The folder  <code class="filename">eclipse-workspace</code> is ignored in the 
      OpenEngSB project structure for this purpose. But you can choose any other directory if you prefer. At the preference
      page go to <span class="guimenu">Java/Build Path/Classpath Variables</span> and create a new <span class="guilabel">M2_REPO</span> pointing
      to <code class="filename">~/.m2/repository</code>. Now use <span class="guimenu">File</span>, <span class="guimenu">Import...</span>, 
      <span class="guilabel">Existing Projects into Workspace</span>. As the root directory select the root of the OpenEngSB source. 
      Eclipse will list several projects and for now it's best to import them all by clicking <span class="guibutton">Finish</span>.</p><p>At <code class="filename">openengsb/etc/eclipse/</code> eclipse configuration files for formatting can found. Checkstyle configuration files
      are part of the openengsb-maven-plugin (<a class="xref" href="#developer.quickstart.tools.mavenplugin" title="39.7.1.&nbsp;openengsb-maven-plugin">Section&nbsp;39.7.1, &#8220;openengsb-maven-plugin&#8221;</a>) and can be found
      <a class="link" href="https://github.com/openengsb/openengsb-maven-plugin/raw/master/src/main/resources/checkstyle/checkstyle.xml" target="_top">here</a>. The mvn openengsb:eclipse goal configures your eclipse project to
      download and use the provided checkstyle configuration file, so no manual steps are necessary here (however the formatter
      still needs to and should be configured manually).
    </p></div><div class="section" title="39.5.&nbsp;Using Other IDEs than Eclipse"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="developer.quickstart.noneclipse"></a>39.5.&nbsp;Using Other IDEs than Eclipse</h2></div></div></div><p>Basically, the OpenEngSB is developed in plain Java, which means any other IDE than Eclipse can be used too. While
      there are tools for most IDEs to use Checkstyle, but non of it supports the formatting file of the OpenEngSB. Please use
      Checkstyle, which automatically validates the eclipse formatting rules too.</p></div><div class="section" title="39.6.&nbsp;Git Documentation"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="git"></a>39.6.&nbsp;Git Documentation</h2></div></div></div><div class="section" title="39.6.1.&nbsp;Usage"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2768"></a>39.6.1.&nbsp;Usage</h3></div></div></div><p> First of all this chapter explains only the <span class="emphasis"><em>very</em></span> basics of Git and only that parts
        directly relevant for the development of the OpenEngSB project, but not the entire idea and possibilities of
        Git. <span class="emphasis"><em>Please</em></span> read some tutorials first to get how to work with Git and see this chapter more
        as an summary! You may also take a look at the <a class="link" href="http://git-scm.com/documentation/" target="_top">Git Documentation
          Page</a> and the <a class="link" href="http://progit.org/book/" target="_top">Pro Git Book</a>. </p></div><div class="section" title="39.6.2.&nbsp;Github"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2785"></a>39.6.2.&nbsp;Github</h3></div></div></div><p>OpenEngSB is developed at <a class="link" href="http://github.com/" target="_top">github.com</a>. Please create an account there
        and explore its features. Specify your real name in the admin tab and add a picture. This makes it easier to
        associate your commits to you.</p></div><div class="section" title="39.6.3.&nbsp;Starting up and configure"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2793"></a>39.6.3.&nbsp;Starting up and configure</h3></div></div></div><p> Before starting to work with Git some settings should be applied to Git. Therefore simply execute the
        following commands.
        </p><div class="literallayout"><p><span class="command"><strong>git&nbsp;config</strong></span>&nbsp;<code class="option">--global</code>&nbsp;user.name&nbsp;"<em class="replaceable"><code>Firstname&nbsp;Lastname</code></em>"<br>
<span class="command"><strong>git&nbsp;config</strong></span>&nbsp;<code class="option">--global</code>&nbsp;user.email&nbsp;<em class="replaceable"><code>user@example.com</code></em><br>
<span class="command"><strong>git&nbsp;config</strong></span>&nbsp;<code class="option">--global</code>&nbsp;color.ui&nbsp;"auto"<br>
<span class="command"><strong>git&nbsp;config</strong></span>&nbsp;<code class="option">--global</code>&nbsp;pack.threads&nbsp;"0"<br>
<span class="command"><strong>git&nbsp;config</strong></span>&nbsp;<code class="option">--global</code>&nbsp;diff.renamelimit&nbsp;"0"<br>
<span class="command"><strong>git&nbsp;config</strong></span>&nbsp;<code class="option">--global</code>&nbsp;core.autocrlf&nbsp;"input"</p></div><p>
        Additionally execute the special settings for github as could be found on github in the "Account Settings" tab
        is a point "Global git config information". Please use the two git commands described there
        </p><div class="literallayout"><p><span class="command"><strong>git&nbsp;config</strong></span>&nbsp;<code class="option">--global</code>&nbsp;github.user&nbsp;<em class="replaceable"><code>username</code></em><br>
<span class="command"><strong>git&nbsp;config</strong></span>&nbsp;<code class="option">--global</code>&nbsp;github.token&nbsp;<em class="replaceable"><code>token</code></em></p></div><p>
        If you don't already have an SSH key you can create one by executing <span class="command"><strong>ssh-keygen</strong></span> Simply answer
        all questions from the application with "enter" without enter any values. Afterwards the content of the
          <code class="filename">id_rsa.pub</code> file from your <code class="filename">~/.ssh/</code> directory should be submitted to
        github (<span class="guilabel">Account Settings</span>/<span class="guilabel">SSH public keys</span>). </p><p>You may also want to setup the provided git-hooks. Hooks are scripts that automate some small tasks in
        the git-workflow. To enable them they have to be located in the <code class="filename">.git/hooks</code> directory.
        You can achieve this by copying the scripts located in the <code class="filename">etc/git-hooks</code> directory to
        <code class="filename">.git/hooks</code></p></div><div class="section" title="39.6.4.&nbsp;Contributor Workflow"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2886"></a>39.6.4.&nbsp;Contributor Workflow</h3></div></div></div><p>Contributor are all developer who like to contribute to the OpenEngSB project, but not have commit rights
        to openengsb/openengsb.</p><p>Please keep in mind, that this manual is NOT a Git tutorial. Github itself, e.g. provides a great help at 
        <a class="link" href="http://book.git-scm.com/" target="_top">help.github.com</a>. All base concepts such as forking, pull-requests, ...</p><p>Please start by choose or create a new issue. Now create a new fork of the OpenEngSB at Github (if you've not
        done already so; otherwise this is explained <a class="link" href="http://help.github.com/forking/" target="_top">here</a>). 
        Clone your fork, but also add the original openengsb repository as remote repository. This is also explained
        <a class="link" href="http://help.github.com/forking/" target="_top">here</a>. In difference to the Github tutorial please do not 
        commit to the master, but rather create a new branch named OPENENGSB-ISSUE_NUMBER_YOURE_WORKING_ON. 
        Optionally append /DESCRIPTION (e.g. OPENENGSB-586/mvn-eclipse-download-fix). 
        </p><div class="literallayout"><p><span class="command"><strong>git&nbsp;checkout</strong></span>&nbsp;<code class="option">-b</code>&nbsp;<em class="replaceable"><code>OPENENGSB-ISSUE&nbsp;origin/BRANCH</code></em></p></div><p>
        <em class="replaceable"><code>BRANCH</code></em> is the point where you like to start your work. If you like to contribute to the head this will be typically
        integration, but could also be a commit or a complete different branch. This is the OpenEngSB schema for naming branches
        and we'll really appreciate if you work according to it. Please notice that each commit should include [OPENENGSB-ISSUEID] at the beginning of its message.</p><p>Now hack, commit and push as you like. If you think you're finished invoke <span class="command"><strong>mvn openengsb:prePush</strong></span> (or
        use <code class="filename">etc/scripts/pre-push.sh</code>) to validate your code, tests, licenses and so on. If 
        everything works without errors create a Github pull request on Github, between the master or integration
        branch (depending on where you've created your branch on) and your branch. This process is also explained at
        help.github.com (<a class="link" href="http://help.github.com/pull-requests/" target="_top">here</a>). In addition it will help 
        if you add the link to the pull request to the issue you're working on. A commiter will tend as fast as possible 
        to your request and give feedback or directly merge your commit into the integration/master branch.</p></div><div class="section" title="39.6.5.&nbsp;Commiter Workflow"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2928"></a>39.6.5.&nbsp;Commiter Workflow</h3></div></div></div><p> The only difference between a commiter and a contributor is that he has to watch and merge branches of
        contributors. If a commiter is happy with the work of a contributor. Comments and other discussions should be
        done on the mailing list and/or via the Github review system and pull requests.</p><p>In addition commiters typically do not create forks but rather create their branches directly  in
        the OpenEngSB repository. This is done because the repository is covered by the OpenEngSB build server and
        in addition keeps everything closer together.</p></div><div class="section" title="39.6.6.&nbsp;Additional Rules"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2935"></a>39.6.6.&nbsp;Additional Rules</h3></div></div></div><p>
        </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>(Contributor/Committer) All development is done in branches (also of the core developers) One
            exception to this rule exists: Small fixes and maintenance work which is NOT related to a new feature and
            does not exceed 2 commits should be cherry-picked into the master directly.</p></li><li class="listitem"><p>(Contributor/Committer) Rebase is <span class="emphasis"><em>not</em></span> dead (although we use merges).
              <span class="emphasis"><em>Never ever</em></span> commit local merges. You still should develop in local dev branches and
            rebasing them with the upstream branches. Only if nobody else has access to your fork you can be sure that
            nobody changed it!</p></li><li class="listitem"><p>(Committer) If merging branches from forked repositories ALWAYS use the <code class="option">--no-ff</code>
            option for merges; this will always create a merge node (even if a fast-forward merge is possible). This is
            required to create a clear and consistent history!</p></li><li class="listitem"><p>Avoid backward merges from the master and keep feature branches small! This does not mean that
            backward merges from master are forbidden. But they should not be done too often, since they create a
            history not easy to read. Please use the method described on this page (with <code class="option">--no-ff</code>
            <code class="option">--no-commit</code>) to reduce the number of merge nodes.</p></li><li class="listitem"><p>Use <span class="emphasis"><em>meaningful</em></span> feature branch names. Using the merge history in the master you
            can easily follow the development of features. But this requires (maybe long) good names! In addition, always
            start with OPENENGSB-NUMBER of the issue you're working on. Try to always do work based on issues. If no issue
            covers what you're doing create one.</p></li></ol></div><p>
      </p></div></div><div class="section" title="39.7.&nbsp;Useful Tools"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="developer.quickstart.tools"></a>39.7.&nbsp;Useful Tools</h2></div></div></div><div class="section" title="39.7.1.&nbsp;openengsb-maven-plugin"><div class="titlepage"><div><div><h3 class="title"><a name="developer.quickstart.tools.mavenplugin"></a>39.7.1.&nbsp;openengsb-maven-plugin</h3></div></div></div><p>
        The openengsb-maven-plugin is a plugin for Apache Maven, intended to simplify various activities (creating
        domains or connectors, building a release artifact of the whole project etc.) when developing based on the
        OpenEngSB.
      </p><div class="section" title="39.7.1.1.&nbsp;Configuring the openengsb-maven-plugin for your project"><div class="titlepage"><div><div><h4 class="title"><a name="d0e2983"></a>39.7.1.1.&nbsp;Configuring the openengsb-maven-plugin for your project</h4></div></div></div><p>
          To use the openengsb-maven-plugin in your project add the following configuration to your project's pom.xml:
        </p><pre class="programlisting">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd"&gt;
  ...
  &lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.openengsb&lt;/groupId&gt;
        &lt;artifactId&gt;openengsb-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;${openengsb.maven.plugin.version}&lt;/version&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
  &lt;/build&gt;
  ...
&lt;/project&gt;       
        </pre><p>
          The plugin can now be invoked via <span class="command"><strong>mvn openengsb:&lt;goal&gt;</strong></span>
        </p></div><div class="section" title="39.7.1.2.&nbsp;Purpose of the openengsb-maven-plugin"><div class="titlepage"><div><div><h4 class="title"><a name="d0e2995"></a>39.7.1.2.&nbsp;Purpose of the openengsb-maven-plugin</h4></div></div></div><p>The purpose of the OpenEngSB Maven Plugin is to provide additional useful goals for
          the development of the OpenEngSB itself and all projects which base on the OpenEngSB. It
          helps in various goals starting in assembling, checkstyle, license checking and many other
          various goals which would otherwise require to duplicate tons of version (and manage it in
          addition) between the OpenEngSB and projects which are based on the OpenEngSB.</p></div><div class="section" title="39.7.1.3.&nbsp;Changing the default configuration of the mojos"><div class="titlepage"><div><div><h4 class="title"><a name="d0e3000"></a>39.7.1.3.&nbsp;Changing the default configuration of the mojos</h4></div></div></div><p>Currently the default configurations can not be changed or adapted in the OpenEngSB
          plugin. This means that all changes and adaptions have to be made directly in the
          openengsb-maven-plugin. This situation is not ideal. The version 1.6.0 of the plugin will
          tackle this drawback.</p></div><div class="section" title="39.7.1.4.&nbsp;Available Goals"><div class="titlepage"><div><div><h4 class="title"><a name="d0e3005"></a>39.7.1.4.&nbsp;Available Goals</h4></div></div></div><p>
          <span class="command"><strong>assemble</strong></span> or <code class="filename">etc/scripts/assemble.sh</code>
        </p><p>
          Installs the OpenEngSB and skips tests. Furthermore a <span class="emphasis"><em>nightly</em></span> profile is activated if available
          in your poms.
        </p><p>
          <span class="command"><strong>eclipse</strong></span> or <code class="filename">etc/scripts/eclipse.sh</code>
        </p><p>
          Generates eclipse configuration file for the module where it is invoked from and all submodules. The generated
          eclipse projects are also configured to use the checkstyle rules shipped with the plugin (see checkstyle mojo).
        </p><p>
          <span class="command"><strong>checkstyle</strong></span>
        </p><p>
          Performs a Checkstyle check of the project. The checkstyle configuration file which is used for the check can be found
          <a class="link" href="https://github.com/openengsb/openengsb-maven-plugin/blob/master/src/main/resources/checkstyle/checkstyle.xml" target="_top">here</a>.
          We ship this configuration file with the plugin (and changes need to be done there) because we think it may be useful for other
          OpenEngSB related projects. Setting up eclipse projects with configured checkstyle becomes very easy that way (simply mvn openengsb:eclipse).
        </p><p>
          <span class="command"><strong>genConnector</strong></span> or <code class="filename">etc/scripts/gen-connector.sh</code> (For additional info how to create a connector see
          <a class="xref" href="#developer.howto.internal.connector" title="Chapter&nbsp;40.&nbsp;How To Create an Internal Connector">Chapter&nbsp;40, <i>How To Create an Internal Connector</i></a>)
        </p><p>
          Guides interactively through the creation of a connector and generates the artifact via the connector
          archetype.
        </p><p>
          <span class="command"><strong>genDomain</strong></span> or <code class="filename">etc/scripts/gen-domain.sh</code> (For
          additional info how to create a domain see <a class="xref" href="#developer.howto.internal.domain" title="Chapter&nbsp;41.&nbsp;How To Create an Internal Domain">Chapter&nbsp;41, <i>How To Create an Internal Domain</i></a>)
        </p><p>
          Guides interactively through the creation of a domain and generates the artifact via the domain archetype.
        </p><p><a name="licenseCheck"></a>
          <span class="command"><strong>licenseCheck</strong></span> or <code class="filename">etc/scripts/license-check.sh</code>
        </p><p>
          Performs a check if appropriate license headers are available in every source file. The licenseCheck mojo
          wraps the com.mycila.maven-license-plugin.
          A large part of the default behavior of this mojo can be changed in
          <code class="filename">src/main/resources/license/licenseConfig.xml</code>.
          See <a class="link" href="http://code.google.com/p/maven-license-plugin/wiki/Configuration#maven-license-plugin_configuration_options" target="_top">this site</a>
          for available configuration options. The openengsb-maven-plugin needs to be reinstalled after changing its
          default behavior.
        </p><p>
          <span class="emphasis"><em>NOTE: pom.xml files are excluded from license check</em></span>
        </p><p>
          Parameters:
        </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><span class="emphasis"><em>additionalExcludes</em></span></p><p>Defines path to a file where each line represents a pattern which files to exclude from 
            license check or license format (additionally to the default excludes).</p></li></ul></div><p>
          <span class="command"><strong>licenseFormat</strong></span> or <code class="filename">etc/scripts/license-format.sh</code>
        </p><p>
          Adds a license header to files where the license header is missing. Regarding the configuration for this mojo the same applies as for licenseCheck.
        </p><p>
          <span class="emphasis"><em>NOTE: pom.xml files are excluded from license format</em></span>
        </p><p>
          Parameters:
        </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><span class="emphasis"><em>additionalExcludes</em></span></p><p>see description of <a class="link" href="#licenseCheck">licenseCheck</a></p></li></ul></div><p>
          <span class="command"><strong>prePush</strong></span> or <code class="filename">etc/scripts/pre-push.sh</code>
        </p><p>
          Builds and installs the openengsb, checks for license headers, performs a Checkstyle check and runs the integration tests.
        </p><p>
          Parameters:
        </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><span class="emphasis"><em>additionalExcludes</em></span></p><p>see description of <a class="link" href="#licenseCheck">licenseCheck</a></p></li></ul></div><p>
          <span class="command"><strong>provision</strong></span> or <code class="filename">etc/scripts/run.sh</code> / <code class="filename">etc/scripts/quickrun.sh</code>
        </p><p>
         Equivalent to execute karaf or karaf.bat per hand after build by mvn clean
         install in a (typically) assembly directory.
        </p><p>
          Parameters:
        </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><span class="emphasis"><em>provisionPathUnix</em></span></p><p>
              This setting should be done in the one of the assembly folders and have
            to point to the final directory where the karaf system, etc configs and
            so on consist.
            </p></li><li class="listitem"><p><span class="emphasis"><em>provisionExecutionPathUnix</em></span></p><p>
              The path to the executable in the unix archive file
            </p></li><li class="listitem"><p><span class="emphasis"><em>additionalRequiredExecutionPathUnix</em></span></p><p>
              Sometimes it's required that some executable files, provided in
            <span class="emphasis"><em>provisionExecutionPathUnix</em></span> execute other files which have to
            made executable to work correctly on themselves. Those files should be
            specified here.
            </p></li><li class="listitem"><p><span class="emphasis"><em>provisionPathWindows</em></span></p><p>
              This setting should be done in the one of the assembly folders and have
            to point to the final directory where the karaf system, etc configs and
            so on consist.
            </p></li><li class="listitem"><p><span class="emphasis"><em>provisionExecutionPathWindows</em></span></p><p>
              The path to the executable in the windows archive file
            </p></li><li class="listitem"><p><span class="emphasis"><em>additionalRequiredExecutionPathWindows</em></span></p><p>
              Sometimes it's required that some executable files, provided in
            <span class="emphasis"><em>provisionExecutionPathWindows</em></span> execute other files which have to
            made executable to work correctly on themselves. Those files should be
            specified here.
            </p></li></ul></div><p>
          These parameters are typically configured in the pom of your assembly project
          (<code class="filename">/assembly/pom.xml</code> for the OpenEngSB)).
        </p><p>
          <span class="command"><strong>pushVersion</strong></span> or <code class="filename">etc/scripts/push-version.sh</code>
        </p><p>
          Updates the development version.
        </p><p>
          Parameters:
        </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><span class="emphasis"><em>developmentVersion</em></span></p><p>
              The new SNAPSHOT version.
            </p></li></ul></div><p>
          <span class="command"><strong>releaseNightly</strong></span> or <code class="filename">etc/scripts/release-nightly.sh</code>
        </p><p>
          Mojo to perform nightly releases. This mojo activates the <span class="emphasis"><em>nightly</em></span> profile
	      in the project, where you can put your additional configuration for nightly releases (To see what these profiles
          can be necessary for please read the descript of the other release mojos).
        </p><p>
          <span class="command"><strong>release&lt;XXX&gt;</strong></span> (You can find a detailed description of the OpenEngSB release process
          in <a class="xref" href="#developer.release" title="Chapter&nbsp;43.&nbsp;Release and Release Process">Chapter&nbsp;43, <i>Release and Release Process</i></a>)
        </p><p>
        The release&lt;XXX&gt; mojos (except Nightly) wrap the
        <a class="link" href="http://code.google.com/p/maven-license-plugin/" target="_top">maven-license-plugin</a>, basically just
        invoking <code class="literal">mvn release:prepare</code> and then <code class="literal">mvn release:perforn</code> with some
        useful default configuration which can be reused for other projects related to the openengsb.
        These mojos perform a release and activate the <span class="emphasis"><em>&lt;XXX&gt;</em></span> profile. These release profiles
        are important and are required to ..</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
              .. select the appropriate passphrase for the maven release repository from your <code class="filename">settings.xml</code>.
              For additional information on this topic see <a class="xref" href="#developer.release.configuremaven" title="43.3.&nbsp;Configure Maven">Section&nbsp;43.3, &#8220;Configure Maven&#8221;</a>.
            </p></li><li class="listitem"><p>
              .. set links depending on the release type. For examples please see the profiles in
              <a class="link" href="https://github.com/openengsb/openengsb/blob/master/pom.xml" target="_top">the pom</a>
            </p></li><li class="listitem"><p>
              .. configure distribution management of the project site, depending on the release type. For examples see
              profiles in <a class="link" href="https://github.com/openengsb/openengsb/blob/master/docs/homepage/pom.xml" target="_top">docs/homepage/pom</a>
            </p></li></ul></div><p>Parameters:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><span class="emphasis"><em>connectionUrl</em></span></p><p>
              URL to your SCM repository (e.g. scm:git:file://~/openengsb). During the release process changes
              (version updates, etc) are commited into your SCM.
            </p></li></ul></div><p>Goals:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><span class="command"><strong>releaseFinal</strong></span> or <code class="filename">etc/scripts/release-final.sh</code></p><p>profile = <span class="emphasis"><em>final</em></span></p></li><li class="listitem"><p><span class="command"><strong>releaseMilestone</strong></span> or <code class="filename">etc/scripts/release-milestone.sh</code></p><p>profile = <span class="emphasis"><em>milestone</em></span></p></li><li class="listitem"><p><span class="command"><strong>releaseRC</strong></span> or <code class="filename">etc/scripts/release-rc.sh</code></p><p>profile = <span class="emphasis"><em>rc</em></span></p></li><li class="listitem"><p><span class="command"><strong>releaseSupport</strong></span> or <code class="filename">etc/scripts/release-support.sh</code></p><p>profile = <span class="emphasis"><em>support</em></span></p></li></ul></div></div></div></div></div><div class="chapter" title="Chapter&nbsp;40.&nbsp;How To Create an Internal Connector"><div class="titlepage"><div><div><h2 class="title"><a name="developer.howto.internal.connector"></a>Chapter&nbsp;40.&nbsp;How To Create an Internal Connector</h2></div></div></div><p>This chapter describes how to implement a connector for the OpenEngSB environment. A connector is an adapter
    between an external tool and the OpenEngSB environment. Every connector belongs to a domain which defines the common
    interface of all its connectors. This means that the connector is responsible to translate all calls to the common
    interface to the externally provided tool.</p><div class="section" title="40.1.&nbsp;Prerequisites"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e3341"></a>40.1.&nbsp;Prerequisites</h2></div></div></div><p>In case it isn't known what a tool domain is and how it defines the interface for the tool connector then
      <a class="xref" href="#architecture.concept.tooldomains" title="14.4.&nbsp;OpenEngSB Tool Domains">Section&nbsp;14.4, &#8220;OpenEngSB Tool Domains&#8221;</a> is a good starting point. If there's already a matching domain for
      this tool it is strongly recommended to use it. If the tool requires a new domain to be created relevant information can be found in <a class="xref" href="#developer.howto.internal.domain" title="Chapter&nbsp;41.&nbsp;How To Create an Internal Domain">Chapter&nbsp;41, <i>How To Create an Internal Domain</i></a>.</p></div><div class="section" title="40.2.&nbsp;Creating a new connector project"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e3350"></a>40.2.&nbsp;Creating a new connector project</h2></div></div></div><p>To take burden off the developer of creating the initial boilerplate code and configuration, a Maven archetype
      is provided for creating the initial project structure. Furthermore we provide the
      <code class="literal">openengsb-maven-plugin</code> (see <a class="xref" href="#developer.quickstart.tools.mavenplugin" title="39.7.1.&nbsp;openengsb-maven-plugin">Section&nbsp;39.7.1, &#8220;openengsb-maven-plugin&#8221;</a>)
      (or the <code class="filename">etc/scripts/gen-connector.sh</code> script, which wraps the invocation of the maven plugin)
      which simplifies the creation of a connector project from the archetype. It should be used for assisted creation
      of a new connector project.</p><div class="section" title="40.2.1.&nbsp;Using the Maven Archetype"><div class="titlepage"><div><div><h3 class="title"><a name="d0e3363"></a>40.2.1.&nbsp;Using the Maven Archetype</h3></div></div></div><p>It is not recommended to use the maven archetype directly, because the <code class="literal">genConnector</code> goal
      of the openengsb-maven-plugin executes additional tasks, I.e. renaming of the resulting project. Furthermore,
      it tries to make sure that the new project is consistent with the naming conventions of the
      OpenEngSB project.</p><p>The following parameters have to be specified to execute the correct archetype:
        </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">archetypeGroupId - the groupId of the OpenEngSB connector archetype.</li><li class="listitem">archetypeArtifactId - the artifactId of the OpenEngSB connector archetype.</li><li class="listitem">archetypeVersion - the current version of the OpenEngSB connector archetype.</li></ul></div><p>
      </p><p>The following parameters have to be defined for the parent of the new connector. It is not solely parent
      of the connector itself, but parent of the implementation of the domain and all other connectors of this domain too. 
        </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">parentArtifactId - the artifactId of the project parent.</li></ul></div><p>
      </p><p>The following parameters have to be defined for the domain of the new connector.
        </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">groupId - the groupId of the domain.</li><li class="listitem">domainArtifactId - the artifactId of the domain.</li></ul></div><p>
      </p><p>The following parameters have to be defined for the connector. 
        </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">artifactId - the connector artifact id. Has to be "openengsb-domains-&lt;yourDomain&gt;-&lt;yourConnector&gt;".</li><li class="listitem">version - the package for the source code of the domain implementation. Has to be "org.openengsb.domains.&lt;yourDomain&gt;".</li><li class="listitem">domainInterface - The name of the domain interface.</li><li class="listitem">parentPackage - The package in which the domain interface can be found.</li><li class="listitem">package - the package for the connector code. Usually &lt;parentPackage&gt;.&lt;yourConnector&gt; is used.</li><li class="listitem">name - the name of the implementation module. Has to be "OpenEngSB :: Domains :: &lt;yourDomain&gt; :: &lt;yourConnector&gt;"</li></ul></div><p>
        Where &lt;yourDomain&gt; has to be replaced by your domain name and &lt;yourConnector&gt; has to be replaced by the respective connector name.
      </p><p>Note that the archetype will use the artifactId to name the project, but the OpenEngSB convention is to use the
      connector name. Therefore you will have to rename the resulting project (however if you use the
      <code class="literal">genConnector</code> mojo, this renaming will be performed automatically).
      Do not forget to check that the new connector is included in the modules section of the domain parent pom.</p></div><div class="section" title="40.2.2.&nbsp;Using mvn openengsb:genConnector"><div class="titlepage"><div><div><h3 class="title"><a name="d0e3416"></a>40.2.2.&nbsp;Using <code class="literal">mvn openengsb:genConnector</code></h3></div></div></div><p>
        Simply invoke <code class="literal">mvn openengsb:genConnector</code> from the connector directory
        (<code class="literal">connector/</code>) (alternatively the <code class="literal">etc/scripts/gen-connector.sh</code> script can
        be used which invokes the openengsb-maven-plugin for you).
      </p><div class="literallayout"><p><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="command"><strong>connector&nbsp;$</strong></span>&nbsp;mvn&nbsp;openengsb:genConnector<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p></div><p>The mojo tries to guess as much as possible from your previous input. Guessed values
        are displayed in brackets. If the guess is what you want, simply acknowledge with <code class="literal">Return</code>. The
        following output has been recorded by executing the script in the <code class="literal">connector/</code>
        directory:</p><div class="literallayout"><p><span class="command"><strong>Domain&nbsp;Name&nbsp;[domain]:&nbsp;</strong></span>notification&nbsp;&lt;Enter&gt;<br>
<span class="command"><strong>Domain&nbsp;Interface&nbsp;[NotificationDomain]:&nbsp;</strong></span>&lt;Enter&gt;<br>
<span class="command"><strong>Connector&nbsp;Name&nbsp;[myconnector]:&nbsp;</strong></span>twitter&nbsp;&lt;Enter&gt;<br>
<span class="command"><strong>Version&nbsp;[1.0.0-SNAPSHOT]:&nbsp;</strong></span>&lt;Enter&gt;<br>
<span class="command"><strong>Project&nbsp;Name&nbsp;[OpenEngSB&nbsp;::&nbsp;Domains&nbsp;::&nbsp;Notification&nbsp;::&nbsp;Twitter]:&nbsp;</strong></span>&lt;Enter&gt;</p></div><p>Only the domain and connector name was set, everything else has been guessed correctly. After these inputs
        are provided the Maven Archetype gets called and may ask you for further inputs. You can simply hit <code class="literal">Return</code>
        each time to acknowledge standard values. If it finishes successfully the new
        connector project is created and you may start implementing.</p></div></div><div class="section" title="40.3.&nbsp;Project Structure"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e3466"></a>40.3.&nbsp;Project Structure</h2></div></div></div><p>The newly created connector project should have the exact same structure as the following listing:</p><pre class="programlisting">-- pom.xml
-- src
   -- main
      -- java
      |&nbsp; -- org
      |&nbsp;    -- openengsb
      |&nbsp;       -- domains
      |&nbsp;          -- notification
      |&nbsp;             -- twitter
      |&nbsp;                -- internal
      |&nbsp;                |&nbsp; -- MyServiceImpl.java
      |&nbsp;&nbsp;               |&nbsp; -- MyServiceInstanceFactory.java
      |&nbsp;&nbsp;               -- MyServiceManager.java
      -- resources
         -- META-INF
         |&nbsp; -- spring
         |&nbsp;    -- connector-context.xml
         -- OSGI-INF
            -- l10n
               -- bundle_de.properties
               -- bundle.properties</pre><p>The <code class="literal">MyServiceImpl</code> class implements the interface of the domain and thus is the
      communication link between the OpenEngSB and the connected tool. To give the OpenEngSB (and in the long run the
      end user) enough information on how to configure a connector, the <code class="literal">MyServiceInstanceFactory</code>
      class provides the OpenEngSB with meta information for configuring and functionality for creating and updating a
      connector instances. The <code class="literal">MyServiceManager</code> class connects connector instances with the
      underlying OSGi engine and OpenEngSB infrastructure. It exports instances as OSGi services and adds necessary meta
      information to each instance. Since the basic functionality is mostly similar for all service managers, the
        <code class="literal">MyServiceManager</code> class extends a common base class
      <code class="literal">AbstractServiceManager</code>. In addition the <code class="literal">AbstractServiceManager</code> also 
      persists the configuration of each connector, so that the connector instances can be restored after a system
      restart.</p><p>The spring setup in the resources folder contains the setup of the service manager. Additional bean setup and
    dependency injection can be configured there.</p><p>The OpenEngSB has been designed with localization in mind. The Maven Archetype already generates two
        <code class="literal">bundle*.properties</code> files, one for English (bundle.properties) and one for the German
      (bundle_de.properties) language. Each connector has to provide localization through the properties files for
      service and attributes text values. This includes localization for names, descriptions, attribute validation,
      option values and more. For convenience the <code class="literal">BundleStrings</code> class is provided on all method calls
      where text is needed for user representation for a specific locale.</p></div><div class="section" title="40.4.&nbsp;Integrating the Connector into the OpenEngSB environment"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e3503"></a>40.4.&nbsp;Integrating the Connector into the OpenEngSB environment</h2></div></div></div><p>The service manager is responsible for the integration of the connector into the OpenEngSB infrastructure. The correct
    definition of this service is critical.</p></div></div><div class="chapter" title="Chapter&nbsp;41.&nbsp;How To Create an Internal Domain"><div class="titlepage"><div><div><h2 class="title"><a name="developer.howto.internal.domain"></a>Chapter&nbsp;41.&nbsp;How To Create an Internal Domain</h2></div></div></div><p>This chapter describes how to implement a domain for the OpenEngSB environment. A domain provides a common
    interface and common events and thereby defines how to interact with connectors for this domain. For a better 
    description of what a domain exactly consists of, take a look at the architecture guide 
    <a class="xref" href="#architecture" title="Chapter&nbsp;14.&nbsp;Architecture of the OpenEngSB">Chapter&nbsp;14, <i>Architecture of the OpenEngSB</i></a>.</p><div class="section" title="41.1.&nbsp;Prerequisites"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e3516"></a>41.1.&nbsp;Prerequisites</h2></div></div></div><p>In case it isn't known what a domain is and how it defines the interface and events for connectors, then 
    <a class="xref" href="#architecture.concept.tooldomains" title="14.4.&nbsp;OpenEngSB Tool Domains">Section&nbsp;14.4, &#8220;OpenEngSB Tool Domains&#8221;</a> is a good starting point.</p></div><div class="section" title="41.2.&nbsp;Creating a new domain project"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e3523"></a>41.2.&nbsp;Creating a new domain project</h2></div></div></div><p>To get developers started creating a new domain a Maven archetype is provided for creating the initial project
      structure. The
      <code class="literal">openengsb-maven-plugin</code> (see <a class="xref" href="#developer.quickstart.tools.mavenplugin" title="39.7.1.&nbsp;openengsb-maven-plugin">Section&nbsp;39.7.1, &#8220;openengsb-maven-plugin&#8221;</a>) or the
      <code class="literal">etc/scripts/gen-domain.sh</code> script (which only wraps the invocation of the plugin) simplifies
      the creation of a domain.
    </p><div class="section" title="41.2.1.&nbsp;Using the Maven Archetype"><div class="titlepage"><div><div><h3 class="title"><a name="d0e3536"></a>41.2.1.&nbsp;Using the Maven Archetype</h3></div></div></div><p>It is not recommended to use the maven archetype directly, because the <span class="emphasis"><em>genDomain</em></span> goal 
      of the openengsb-maven-plugin executes additional tasks, i.e. renaming of the resulting project.
      Furthermore it tries to make sure that the new project is consistent with the naming conventions
      of the OpenEngSB project.</p><p>The following parameters have to be specified to execute the correct archetype:
        </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">archetypeGroupId - the groupId of the OpenEngSB domain archetype.</li><li class="listitem">archetypeArtifactId - the artifactId of the OpenEngSB domain archetype.</li><li class="listitem">archetypeVersion - the current version of the OpenEngSB domain archetype.</li></ul></div><p>
      </p><p>The following parameters have to be defined for the parent of the new domain. It is not solely parent
      of the domain implementation, but parent of all connectors of this domain too.
        </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">groupId - the groupId of the project parent. Has to be "org.openengsb.domains.&lt;yourDomain&gt;".</li><li class="listitem">artifactId - the artifactId of the project parent. Has to be "openengsb-domains-&lt;yourDomain&gt;-parent".</li><li class="listitem">version - the version of the domain parent, which is usually equal to the current archetype version.</li><li class="listitem">name - the name of the parent module. Has to be "OpenEngSB :: Domains :: &lt;yourDomain&gt; :: Parent"</li></ul></div><p>
      </p><p>The following parameters have to be defined for the implementation of the new domain. 
        </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">implementationArtifactId - the implementation artifact id. Has to be "openengsb-domains-&lt;yourDomain&gt;-implementation".</li><li class="listitem">package - the package for the source code of the domain implementation. Has to be "org.openengsb.domains.&lt;yourDomain&gt;".</li><li class="listitem">implementationName - the name of the implementation module. Has to be "OpenEngSB :: Domains :: &lt;yourDomain&gt; :: Implementation"</li></ul></div><p>
        Where &lt;yourDomain&gt; has to be replaced by your domain name which is usually written in lower case, i.e. <code class="literal">report</code> for the report domain.
      </p><p>Note that the archetype will use the artifactId to name the project, but the OpenEngSB convention is to use the
      domain name. Therefore you will have to rename the resulting project. Do not forget to check that the new domain is 
      included in the modules section of the domains pom.</p></div><div class="section" title="41.2.2.&nbsp;Using mvn openengsb:genDomain"><div class="titlepage"><div><div><h3 class="title"><a name="d0e3581"></a>41.2.2.&nbsp;Using <code class="literal">mvn openengsb:genDomain</code></h3></div></div></div><p>
        Simply invoke <code class="literal">mvn openengsb:genDomain</code> from the domains directory in your OpenEngSB
        repository (alternatively the <code class="literal">etc/scripts/gen-domain.sh</code> script can be used which invokes the
        openengsb-maven-plugin for you).
      </p><div class="literallayout"><p><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="command"><strong>domains&nbsp;$</strong></span>&nbsp;mvn&nbsp;openengsb:genDomain<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p></div><p>You'll be asked to fill in a few variables which are needed to create the initial project structure. Based on
        your input, the mojo tries to guess further values. Guessed values are displayed in brackets. If the guess is
        correct, simply acknowledge with <code class="literal">Return</code>. As example, the following output has been recorded
        while creating the Test domain:</p><div class="literallayout"><p><span class="command"><strong>Domain&nbsp;Name&nbsp;[mydomain]:</strong></span>&nbsp;test&nbsp;&lt;Enter&gt;<br>
<span class="command"><strong>Version&nbsp;[1.0.0-SNAPSHOT]:</strong></span>&nbsp;&lt;Enter&gt;<br>
<span class="command"><strong>Prefix&nbsp;for&nbsp;project&nbsp;names&nbsp;[OpenEngSB&nbsp;::&nbsp;Domains&nbsp;::&nbsp;Test]:</strong></span>&nbsp;&lt;Enter&gt;</p></div><p>Only the domain name has been filled in, while the rest has been correctly guessed. After
        giving the inputs, the Maven archetype gets executed and may ask for further inputs. You can simply hit
          <code class="literal">Return</code>, as the values have been already correctly set. If the mojo finishes
        successfully two new Maven projects, the domain parent and domain implementation project, have been created and
        setup with a sample implementation for a domain.</p></div><div class="section" title="41.2.3.&nbsp;Project structure"><div class="titlepage"><div><div><h3 class="title"><a name="d0e3619"></a>41.2.3.&nbsp;Project structure</h3></div></div></div><p>The newly created domain should have the exact same structure as the following listing:</p><pre class="programlisting">-- implementation
|  -- pom.xml
|&nbsp; -- src
|&nbsp;&nbsp;   -- main
|&nbsp;&nbsp;   |  -- java
|&nbsp;&nbsp;   |&nbsp; -- org
|&nbsp;&nbsp;   |&nbsp;    -- openengsb
|&nbsp;&nbsp;   |&nbsp;       -- domains
|&nbsp;&nbsp;   |&nbsp;          -- mydomain
|&nbsp;&nbsp;   |&nbsp;             -- MyDomain.java
|     |              -- MyDomainEvents.java
|&nbsp;&nbsp;   |&nbsp;             -- MyDomainProvider.java
|&nbsp;&nbsp;   -- resources
|&nbsp;&nbsp;      -- META-INF
|&nbsp;&nbsp;      |&nbsp;&nbsp; -- spring
|&nbsp;&nbsp;      |&nbsp;     -- mydomain-context.xml
|&nbsp;&nbsp;      -- OSGI-INF
|&nbsp;&nbsp;         -- l10n
|&nbsp;&nbsp;            -- bundle_de.properties
|&nbsp;&nbsp;            -- bundle.properties
-- pom.xml</pre><p>The project contains stubs for the domain interface, the domain events interface and the domain provider
      and a resources folder with the spring setup and property files for internationalization.</p><p>Although the generated domain does in effect nothing, you can already start the OpenEngSB for testing with
          <code class="literal">mvn clean install openengsb:provision</code> and the domain will be automatically be picked up and started.</p><p>The spring setup in the resources folder already contains the necessary setup for this domain to work in the
      OpenEngSB environment. Furthermore the default implementation proxies for the domain interface, which forwards all
      service calls to the default connector for the domain and the default implementation of the domain event interface, 
      which forwards all events to the workflow service of the OpenEngSB are configured.</p><p>Each OpenEngSB bundle (core, domain, connector) has been designed with localization in mind. The Maven
        Archetype already creates two <code class="literal">bundle*.properties</code> files, one for English (bundle.properties)
        and one for the German (bundle_de.properties) language. Each connector has to provide localization through it own
        properties files. For domains, this only means localization for a name and description of the domain
        itself.</p></div></div><div class="section" title="41.3.&nbsp;Components"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e3640"></a>41.3.&nbsp;Components</h2></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Domain interface - This is the interface that connectors of that domain must implement. Operations that
          connectors should provide, are specified here. Events that are raised by this Domain in unexpected fashion 
          (e.g new commit in scm system) are specified on the Interface. The Raise Annotation and the array of Event 
          classes it takes as an argument are used. If the Raise annotation is put on a method the events that 
          are specified through the annotation are raised in sequence upon a call.</p></li><li class="listitem"><p>Domain event interface - This is the interface the domain provides for its connectors to send events
        into OpenEngSB. The event interface contains a <code class="literal">raiseEvent(SomeEvent event)</code> method for each 
        supported event type.</p></li><li class="listitem"><p>Domain Provider - The domain provider is a service that provides information about the domain itself. It
          is used to determine which domains are currently registered in the environment. There is an abstract class,
          that takes over most of the setup.</p></li><li class="listitem"><p>Spring context - There are three services, that must be registered with the OSGi service-environment. First,
          there is the Domain Provider. Moreover, the domain must provide a kind of connector itself since it
          must be able to handle service calls and redirect it to the default-connector specified in the current
          context. And finally the domain provides an event interface for its connectors which can be used by them to send
          events into OpenEngSB. The default implementation of this event interface simply forwards all events sent through
          the domain to the workflow service. However, domains can also provide their own implementation of their event
          interface and add data to events or perform other tasks. There is a bean factory that creates a Java-Proxy that can be used as 
          ForwardService both for the forwarding of service calls from domain to connector and for the forwarding of events to
          the workflow service. The service call to ForwardService looks up the default-connector for the specified domain in the
          current context and forwards the method-call right to it. The event forward service simply forwards all events to 
          the workflow service of OpenEngSB.</p></li></ol></div></div><div class="section" title="41.4.&nbsp;Connectors"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e3659"></a>41.4.&nbsp;Connectors</h2></div></div></div><p>
      For information regarding the implementation of connectors for the newly created domain see 
      <a class="xref" href="#developer.howto.internal.connector" title="Chapter&nbsp;40.&nbsp;How To Create an Internal Connector">Chapter&nbsp;40, <i>How To Create an Internal Connector</i></a>. 
    </p></div></div><div class="chapter" title="Chapter&nbsp;42.&nbsp;Prepare and use Non-OSGi Artifacts"><div class="titlepage"><div><div><h2 class="title"><a name="developer.wrapped"></a>Chapter&nbsp;42.&nbsp;Prepare and use Non-OSGi Artifacts</h2></div></div></div><p> Basically, wrapped JARs do not differ in any way from basic jars, besides that they are deployable
  in OSGi environments. They are used as regular jar files in the OpenEngSB. Nevertheless, the wrapping
  itself is not as painless. This chapter tries to explain the process in detail.</p><div class="section" title="42.1.&nbsp;Create Wrapped Artifacts"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="developer.wrapped.base"></a>42.1.&nbsp;Create Wrapped Artifacts</h2></div></div></div><p>This chapter is a step by step guide on how to create a wrapped JAR.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>In case that no osginized library is available in the public repositories a package has to be
          created. Because of the simplicity of the process it should be done by hand. First of all create a folder 
          with the name of the project you like to wrap within openengsb/wrapped. Typically the groupId of
          the bundle to wrap is sufficient. For example, for a project wrapping all Wicket bundles the folder
          org.apache.wicket is created.</p></li><li class="listitem"><p>As a next step add the newly created folder as a module to the openengsb/wrapped/pom.xml file in the module section.
          For the formerly created Wicket project org.apache.wicket should be added to the module section.</p></li><li class="listitem"><p>Now create a pom.xml file in the newly created project folder.</p></li><li class="listitem"><p>The pom.xml contains the basic project information. As parent for the project the wrapped/pom.xml should
          be used. Basically for every wrapped jar the project has the following structure: </p><pre class="programlisting">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!--
OPENENGSB LICENSE
--&gt;
&lt;project&gt;

  &lt;parent&gt;
    &lt;groupId&gt;org.openengsb.wrapped&lt;/groupId&gt;
    &lt;artifactId&gt;openengsb-wrapped&lt;/artifactId&gt;
    &lt;version&gt;1&lt;/version&gt;
  &lt;/parent&gt;

  &lt;properties&gt;
    &lt;bundle.symbolicName&gt;wrapped_jar_group_id&lt;/bundle.symbolicName&gt;
    &lt;wrapped.groupId&gt;wrapped_jar_group_id&lt;/wrapped.groupId&gt;
    &lt;wrapped.artifactId&gt;wrapped_jar_artifact_id&lt;/wrapped.artifactId&gt;
    &lt;wrapped.version&gt;wrapped_jar_version&lt;/wrapped.version&gt;
    &lt;bundle.namespace&gt;${wrapped.groupId}&lt;/bundle.namespace&gt;
  &lt;/properties&gt;

  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
  &lt;groupId&gt;${wrapped.groupId}&lt;/groupId&gt;
  &lt;artifactId&gt;org.openengsb.docs.${wrapped.groupId}&lt;/artifactId&gt;
  &lt;version&gt;${wrapped.version}&lt;/version&gt;

  &lt;name&gt;${bundle.symbolicName}&lt;/name&gt;

  &lt;packaging&gt;bundle&lt;/packaging&gt;

  &lt;dependencies&gt;
    &lt;all_jars_which_should_be_embedded /&gt;
  &lt;/dependencies&gt;

&lt;/project&gt;</pre></li><li class="listitem"><p>Now add the OSGi specific statements for the maven-bundle-plugin. While the
          default export and import are already handled in the root pom project specific settings have to be
          configured here. For example all packages within the bundle-namespace are always exported. This is for most
          scenarios sufficient. In addition all dependencies found are automatically imported as required. This is
          generally not desired. Instead the parts of the library which have to be imported should be defined
          separately. The following listing gives a short example how this OSGI specific part can look like. For a
          full list of possible commands see the <a class="link" href="http://felix.apache.org/site/apache-felix-maven-bundle-plugin-bnd.html" target="_top">maven-bundle-plugin
            documentation</a>.
          </p><pre class="programlisting">
            &lt;?xml version="1.0" encoding="UTF-8"?&gt;
            &lt;build&gt;
              ...
               &lt;plugins&gt;
                ...
                &lt;plugin&gt;
                  &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;
                  &lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;
                  &lt;extensions&gt;true&lt;/extensions&gt;
                  &lt;configuration&gt;
                    &lt;instructions&gt;
                      &lt;Import-Package&gt;sun.misc;resolution:=optional,
                          javax.servlet;version="[2.5.0, 3.0.0)",
                          *;resolution:=optional
                      &lt;/Import-Package&gt;
                    &lt;/instructions&gt;
                  &lt;/configuration&gt;
                &lt;/plugin&gt;
              &lt;/plugins&gt;
            &lt;/build&gt;
            &lt;/project&gt;
          </pre><p>
        </p></li></ol></div></div><div class="section" title="42.2.&nbsp;Tips and Tricks"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e3701"></a>42.2.&nbsp;Tips and Tricks</h2></div></div></div><p>Although the description above sounds quite simple (and wrapping bundles is simple mostly) still some nasty problems
    can occur. This section summarizes good tips and ideas how to wrap bundles within the OpenEngSB.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">The best workflow to wrap a bundle is according to our experiences, to execute the previously described steps
      and simply start the OpenEngSB (openengsb:provision). Either it works or creates a huge stack of exceptions with missing import
      statements. Simply try to fulfill one problem, than start again till all references are resolved.</li><li class="listitem">Embedding artifacts is nothing bad. Although it is recommended to use all references artifacts of a bundle
      directly as OSGi components it can be such a pain sometimes. Some references are simply not required by any other bundle
      or are too hard to port. In such cases feel free to directly embed the dependencies in the wrapped jar.</li></ul></div></div></div><div class="chapter" title="Chapter&nbsp;43.&nbsp;Release and Release Process"><div class="titlepage"><div><div><h2 class="title"><a name="developer.release"></a>Chapter&nbsp;43.&nbsp;Release and Release Process</h2></div></div></div><p>This section provides a step by step description to execute a release of the OpenEngSB. It is relevant for
  everyone marked in the <a class="link" href="http://openengsb.org/team-list.html" target="_top">OpenEngSB Team List</a> as release
  manager because only they have the required rights to execute the following steps.</p><div class="section" title="43.1.&nbsp;Releases and the OpenEngSB"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e3720"></a>43.1.&nbsp;Releases and the OpenEngSB</h2></div></div></div><p>Every release of the OpenEngSB consists of the following parts: RELEASE.MAJOR.MINOR.TYPE. Every release
    of this type is available at <a class="link" href="http://repo1.maven.org/maven2/" target="_top">Maven Central</a>. Optionally
    SNAPSHOT is appended. Snapshot releases are available from the
    <a class="link" href="https://oss.sonatype.org/content/groups/public/" target="_top">Sonatype Snapshot repository</a>. This section
    explains what each modifier means and how it is used within the OpenEngSB.</p><p>SNAPSHOTS: Snapshots are always available from the latest build of the OpenEngSB. They are taken from the
    master branch automatically at each commit.</p><p>TYPE: Type could be MX, RCX or RELEASE, where X is a number. While RELEASE marks a final release, ready for
    use in your production environment, M and RC are typically not ready for production. M stands for Milestone
    release and is cut every two weeks to present the current state of the OpenEngSB and allow a coarse grained
    planning and roadmap for the OpenEngSB team. RC, release candidates, are handled differently. After everything is
    finished and the OpenEngSB teams think that the current work is ready for a release, we provide a release candidate
    and invite everyone to test the release. If there are any issues with the release we fix them and provide another
    release candidate. During this process no new features, but only bug fixes are handled. We continue this process as
    long as there are no new bug reports for a RC for two weeks. Then we re-release the latest release candidate as
    final release. This process only applies for RELEASE and MAJOR. MINOR is handled differently, as explained later
    on.</p><p>RELEASE is a increasing number used for mayor changes within the OpenEngSB architecture. In addition all
    methods and interfaces marked as deprecated are removed during such a release. It is also possible that a
    RELEASE does not enhance any mayor architectural concept but is only used to get rid of all the deprecated
    methods, generated during MAJOR releases.</p><p>MAJOR is the main feature development number of the OpenEngSB. Each release containing new features will be
    a MAJOR release. Nevertheless, between MAJOR releases architectural concepts are not removed but only set to
    deprecated. This means they only enhance functionality but try to not break with former releases.</p><p>MINOR releases are bug-fix releases. They do not include any new features but only fix bugs within the
    OpenEngSB. They have no release plan, but are simply cut after each bug-fix.</p><p>To visualize the explained process the following example. Assume we have released openengsb-1.0.0.RELEASE.
    Now we're working on openengsb-1.1.0.RELEASE. Therefore we start developing openengsb-1.1.0.M1 which will be
    released in two weeks. During the development of 1.1.0.M1 a bug occurs at openengsb-1.0.0.RELEASE. During the
    development the bug is fixed and openengsb-1.0.1.RELEASE is released. After 1.1.0.M1 we require three additional
    milestone releases to get feature releases. Six weeks after 1.1.0.M1 we'll release 1.1.0.RC1. From now on we
    continue to develop 1.2.0.M1 (or 2.0.0.M1, depending on the gravity of the changes) and wait for feedback on
    1.1.0.RC1. Now a bug-report occurs for 1.0.1.RELEASE. We fix the bug, release 1.0.2.RELEASE with the fix. If
    it also affects 1.1.0.RC1, we fix the bug there too and release 1.1.0.RC2 (still working on 1.2.0.M1(!)). Now
    assume that some other bug reports are received for 1.0.0.RC2. We fix them and release 1.1.0.RC3. In the meantime
    we finished 1.2.0.M1 and start work on 1.2.0.M2. Now two weeks after the release of 1.1.0.RC3 without any new
    bug-reports we re-release 1.1.0.RC3 to 1.1.0.RELEASE (starting the game again from the beginning).</p></div><div class="section" title="43.2.&nbsp;Git Branches"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e3743"></a>43.2.&nbsp;Git Branches</h2></div></div></div><p>For the best cooperation between Git and Maven the OpenEngSB team has developed its own workflow with branches
	during releases. For different project phases (milestone, RC, final, support) different workflows apply.</p><div class="section" title="43.2.1.&nbsp;New Feature Workflow"><div class="titlepage"><div><div><h3 class="title"><a name="d0e3748"></a>43.2.1.&nbsp;New Feature Workflow</h3></div></div></div><p>For new features the already described workflow apply. This means create a feature branch based on the integration
		branch, add your commits and create a pull request if you're finished. Your changes will be merged (after review) to
		the integration branch. From time to time the integration branch ins merged into the master, which is pushed as 
		snapshots to sonatype.</p></div><div class="section" title="43.2.2.&nbsp;Milestone Releases"><div class="titlepage"><div><div><h3 class="title"><a name="d0e3753"></a>43.2.2.&nbsp;Milestone Releases</h3></div></div></div><p>For milestone releases about one day before a planned release a openensb-1.X.0-release branch is created. This
		branch can be forward merged to integration as often as liked (no backward merges are allowed). If all final bugs
		and changes are done the MX version is released on this branch and the branch is merged into integration and deleted
		again. During this process any number of new features are merged into integration, without affecting the release any
		longer.</p></div><div class="section" title="43.2.3.&nbsp;Release Candidates"><div class="titlepage"><div><div><h3 class="title"><a name="d0e3758"></a>43.2.3.&nbsp;Release Candidates</h3></div></div></div><p>RCs are the pre-level for final releases. This means, after the openengsb team decides a release is ready to
		go, two new branch  are created from the latest commit AFTER the milestone release (where the mvn versions are set back
		to the snapshot version): openengsb-1.X.x-dev and openengsb-1.X.x-release. openengsb-1.X.x-dev is used for bug-fixes. Every
		fix which should also be merged into the integration branch/master should be branched off openengsb-1.X.x-dev and afterewards
		merged into integration and openengsb-1.X.x-dev. If a release is ready openengsb-1.X.x-dev is merged into openengsb-1.X.x-release,
		where the release takes place. BUT no merge from openengsb-1.X.x-release to openengsb-1.X.x-release is allowed!</p></div><div class="section" title="43.2.4.&nbsp;Final and Support Releases"><div class="titlepage"><div><div><h3 class="title"><a name="d0e3763"></a>43.2.4.&nbsp;Final and Support Releases</h3></div></div></div><p>All support and final releases are handled exactly as the RC releases between the openengsb-1.X.x-dev and
		openengsb-1.X.x-release branch.</p></div></div><div class="section" title="43.3.&nbsp;Configure Maven"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="developer.release.configuremaven"></a>43.3.&nbsp;Configure Maven</h2></div></div></div><p>For the right rights to deploy to maven central and upload maven site to openengsb.org the following
    entries are required in your ~/.m2/settings.xml file:
    </p><pre class="programlisting">&lt;settings&gt;
  &lt;server&gt;
    &lt;id&gt;sonatype-nexus-snapshots&lt;/id&gt;
    &lt;username&gt;SONATYPE_USERNAME&lt;/username&gt;
    &lt;password&gt;SONATYPE_PASSWORD&lt;/password&gt;
  &lt;/server&gt;
  &lt;server&gt;
    &lt;id&gt;sonatype-nexus-staging&lt;/id&gt;
    &lt;username&gt;SONATYPE_USERNAME&lt;/username&gt;
    &lt;password&gt;SONATYPE_PASSWORD&lt;/password&gt;
  &lt;/server&gt;
  &lt;server&gt;
    &lt;id&gt;OpenengsbWebServer&lt;/id&gt;
    &lt;username&gt;OPENENGSB_SERVER_USERNAME&lt;/username&gt;
    &lt;password&gt;OPENEGNSB_SERVER_PASSWORD&lt;/password&gt;
  &lt;/server&gt;
  &lt;profiles&gt;
    &lt;profile&gt;
      &lt;id&gt;milestone&lt;/id&gt;
      &lt;properties&gt;
        &lt;gpg.passphrase&gt;GPG_PASSPHRASE&lt;/gpg.passphrase&gt;
      &lt;/properties&gt;
    &lt;/profile&gt;
    &lt;profile&gt;
      &lt;id&gt;release&lt;/id&gt;
      &lt;properties&gt;
        &lt;gpg.passphrase&gt;GPG_PASSPHRASE&lt;/gpg.passphrase&gt;
      &lt;/properties&gt;
    &lt;/profile&gt;
    &lt;profile&gt;
      &lt;id&gt;final&lt;/id&gt;
      &lt;properties&gt;
        &lt;gpg.passphrase&gt;GPG_PASSPHRASE&lt;/gpg.passphrase&gt;
      &lt;/properties&gt;
    &lt;/profile&gt;
  &lt;/profiles&gt;
&lt;settings&gt;</pre><p>All the usernames and passwords can be retrieved from someone marked as administrator in the
    <a class="link" href="http://openengsb.org/team-list.html" target="_top">OpenEngSB Team List</a>.</p><p>In addition you have to have a GPG key for your mail address (the same you're using to commit to the
    OpenEngSB source repository which is uploaded to the <a class="link" href="hkp://pgp.mit.edu/" target="_top">MIT Key Server</a>.</p></div><div class="section" title="43.4.&nbsp;Adapt Jira"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e3785"></a>43.4.&nbsp;Adapt Jira</h2></div></div></div><p>A word in front, how Jira is used for the OpenEngSB. Jira is used for bug tracking and release planning.
    ONLY each Milestone release has its own target. Release candidates and final releases are handled differently.
    Since we release RC and MINOR releases quite often its much too much administration work to keep JIRA up to date.
    </p><p>Ok, knowing that the release process is simple:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">If you release a milestone release close the release target (e.g. 1.0.0.M1)</li><li class="listitem">If you release a release candidate create a VERSION.RCX release target and close the old one.</li><li class="listitem">If you release a final release (MAJOR RELEASE) create a new release target 1.0.X.RELEASE.</li><li class="listitem">If you release a minor release close the 1.0.X.RELEASE target and create 1.0.(X+1).RELEASE.</li></ul></div></div><div class="section" title="43.5.&nbsp;Perform the release"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e3801"></a>43.5.&nbsp;Perform the release</h2></div></div></div><p>Performing a release is quite simple, because of the maven release plugin and some scripts. Simple
    follow these steps:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">First of all make sure that the NOTICE file is up-to-date using notice:generate</li><li class="listitem">
        Now invoke <span class="command"><strong>mvn openengsb:release{Final|Milestone|Support|RC} -DconnectionUrl=path/to/your/repo</strong></span>
        (e.g. mvn openengsb:releaseMilestone -DconnectionUrl=scm:git:file://~/openengsb)
      </li><li class="listitem">After the artifacts are available for sync to maven central you have to push them from the
      staging to the final repository. Therefore follow the steps as explained
      <a class="link" href="https://docs.sonatype.org/display/Repository/Sonatype+OSS+Maven+Repository+Usage+Guide" target="_top">
      here</a></li><li class="listitem">If everything works fine execute git push;git push --tags</li></ul></div></div><div class="section" title="43.6.&nbsp;Spread the News"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e3820"></a>43.6.&nbsp;Spread the News</h2></div></div></div><p>Post a message to the OpenEngSB twitter account with the following content:
</p><pre class="programlisting">openengsb-VERSION "NAME" released, closing XX issues (JIRA_RELEASE_REPORT_SHORT_URL).
  Try the new features now: http://openengsb.org</pre><p>Mails in this case are not only used for notification but also to get the developers and users
      to try a new release and report issues and problems. Therefore, we use different templates for different
      types of releases of the project.
    </p><p>The following template shows a copy and paste template for mails send for a release candidate. This 
      mail should only be sent to the developer mailing list:</p><pre class="programlisting">Hey guys,

I've just uploaded openengsb-1.0.0.RC4 to maven central (Should be available
within the next hour).

Sources can be downloaded here:

https://github.com/openengsb/openengsb/zipball/openengsb-1.0.0.RC4

The binary release can be downloaded here:

http://repo1.maven.org/maven2/org/openengsb/openengsb/1.0.0.RC4/openengsb-1.0.0.RC4.zip

Between openengsb-1.0.0.RC3 and openegnsb-1.0.0.RC4 we've fixed the following
issues:

** Bug
  * [OPENENGSB-548] - jetty7 - felix problems 
  * [OPENENGSB-605] - Use png as favicon for openengsb war file and script

** Improvement
  * [OPENENGSB-603] - Context has to be stored persistently and
  * restored on system startup
  * [OPENENGSB-610] - Maven connector has to support the execution of a configurable command

** Task
  * [OPENENGSB-606] - update docs new jira release 

** TBD
  * [OPENENGSB-589] - document release process for stable branches

Please give it a try and report all problems you encounter here:

http://issues.openengsb.org/jira/browse/OPENENGSB/fixforversion/10142

If there are no new issues reported within the next 72 hours I set RC4 as the
final release 1.0.0.RELEASE.

Kind regards,
andreas</pre><p>
    </p></div><div class="section" title="43.7.&nbsp;Prepare Changelog"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e3834"></a>43.7.&nbsp;Prepare Changelog</h2></div></div></div><p>The changelog is a file to inform users about the changes in the version they are using.
      This file should only contain the releases which are done in one branch. E.g. the master will never contain changelog about minor releases; because of the way we handle Jira those changes are captured and included
      anyhow.
    </p><p>Now the CHANGELOG.md file has to be updated. Therefore the following template with the correct version
    have to be copied in the current changelog file (the latest version always has the most "on-top" position in the
    text file):
</p><pre class="programlisting">openengsb-VERSION
------------------

Add a General Description

### Highlights
  * [e.g.] org.openengsb.domain.scm.doSomething() is removed

### Details

Copy JIRA issues here</pre><p>The following sections explain shortly what changes belong to which part of the changelog.</p><div class="section" title="43.7.1.&nbsp;General Description"><div class="titlepage"><div><div><h3 class="title"><a name="d0e3845"></a>43.7.1.&nbsp;General Description</h3></div></div></div><p>The general description summarizes the most important changes in this release. This is
        a short and verbal description of the changes.
      </p></div><div class="section" title="43.7.2.&nbsp;Highlights"><div class="titlepage"><div><div><h3 class="title"><a name="d0e3850"></a>43.7.2.&nbsp;Highlights</h3></div></div></div><p>The highlight section could be a little bit more detailed than the general description.
        Things which should be changed by developers could be explained here and other important points
        could be lined up here.
      </p></div><div class="section" title="43.7.3.&nbsp;Details"><div class="titlepage"><div><div><h3 class="title"><a name="d0e3855"></a>43.7.3.&nbsp;Details</h3></div></div></div><p>The details section contains a copy of the release notes generated by Jira if a developer
        wants to take a detailed look at the changes included in this release.
      </p></div></div></div><div class="chapter" title="Chapter&nbsp;44.&nbsp;Admin"><div class="titlepage"><div><div><h2 class="title"><a name="developer.admin"></a>Chapter&nbsp;44.&nbsp;Admin</h2></div></div></div><p>This section is relevant for everyone marked in the <a class="link" href="http://openengsb.org/team-list.html" target="_top">
  OpenEngSB Team List</a> as administrator. If you require anything of the following points to be done please
  write to the openengsb-dev mailing list or send a mail directly to one of the administrators.</p><div class="section" title="44.1.&nbsp;Infrastructure"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="developer.infrastructure"></a>44.1.&nbsp;Infrastructure</h2></div></div></div><p>This section describes the OpenEngSB infrastructure and the relevant parts to manage it.</p><div class="section" title="44.1.1.&nbsp;OpenEngSB Infrastructure Server"><div class="titlepage"><div><div><h3 class="title"><a name="developer.admin.server"></a>44.1.1.&nbsp;OpenEngSB Infrastructure Server</h3></div></div></div><p>The main server hosting our selfmaintained infrastructure runs
    Ubuntu Linux and is hosted under the domain "openengsb.org". The server
    is mainained remotely via SSH [pw:server].</p><p>An apache2 server processes all requests and forwards it to the
    corresponding service. The config-file that connects the subdomains to the
    corresponding services is located in /etc/apache2/sites-enabled/000-default.
    </p><p>
    This forwards point to a directory in /var/www that redirects the browser
    to the correct page (like build.openengsb.org -&gt; build.openengsb.org/hudson)
    The tomcat-server for the homepage is located in /var/opt/tomcat.
    JIRA is located in /var/opt/atlassian-jira-enterprise-4.1.2/
    Further all passwd-files to control http-access are located in /etc/apache2
    </p></div><div class="section" title="44.1.2.&nbsp;OpenEngSB Build"><div class="titlepage"><div><div><h3 class="title"><a name="developer.admin.build"></a>44.1.2.&nbsp;OpenEngSB Build</h3></div></div></div><p>Hudson is accessible at <a class="link" href="http://build.openengsb.org" target="_top">http://build.openengsb.org</a>.
    To become an admin create account and write mail to one of the current
    admins.</p></div><div class="section" title="44.1.3.&nbsp;OpenEngSB Issuetracker"><div class="titlepage"><div><div><h3 class="title"><a name="developer.admin.issue"></a>44.1.3.&nbsp;OpenEngSB Issuetracker</h3></div></div></div><p>JIRA is accessible at <a class="link" href="http://issues.openengsb.org" target="_top">http://issues.openengsb.org</a>.
    To become an admin create account and write mail to one of the current
    admins.</p></div><div class="section" title="44.1.4.&nbsp;OpenEngSB git"><div class="titlepage"><div><div><h3 class="title"><a name="developer.admin.git"></a>44.1.4.&nbsp;OpenEngSB git</h3></div></div></div><p>The github is located at <a class="link" href="http://git.openengsb.org" target="_top">http://git.openengsb.org</a>.
    To become an admin create a github-account (if you don't have one) and
    write mail to one of the current admins.</p></div><div class="section" title="44.1.5.&nbsp;OpenEngSB Maven"><div class="titlepage"><div><div><h3 class="title"><a name="developer.admin.maven"></a>44.1.5.&nbsp;OpenEngSB Maven</h3></div></div></div><div class="section" title="44.1.5.1.&nbsp;internal"><div class="titlepage"><div><div><h4 class="title"><a name="developer.admin.maven.internal"></a>44.1.5.1.&nbsp;internal</h4></div></div></div><p>The internal maven-repo is accessible at <a class="link" href="http://maven.openengsb.org" target="_top">http://maven.openengsb.org</a>.
			Use [pw:nexus] to login.</p></div><div class="section" title="44.1.5.2.&nbsp;external"><div class="titlepage"><div><div><h4 class="title"><a name="d0e3914"></a>44.1.5.2.&nbsp;external</h4></div></div></div><p>The external maven-repo hosting released artifacts is located at
			<a class="link" href="http://oss.sonatype.org" target="_top">http://oss.sonatype.org</a>. Use [pw:maven] to login.</p></div></div><div class="section" title="44.1.6.&nbsp;OpenEngSB Mailinglist"><div class="titlepage"><div><div><h3 class="title"><a name="developer.admin.mailinglist"></a>44.1.6.&nbsp;OpenEngSB Mailinglist</h3></div></div></div><p>To obtain admin-access for the mailing lists register
		google-account (if you don't have one), join 
        <a class="link" href="http://openengsb.org/community/mailinglists.html" target="_top">mailinglists</a>
		and write mail to one of the current admins</p></div></div><div class="section" title="44.2.&nbsp;Logo Locations and Upgrade"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="developer.admin.logo"></a>44.2.&nbsp;Logo Locations and Upgrade</h2></div></div></div><p>This section describes the locations of the logo and what have to be upgraded to the latest
      logo. The following items are used in this section and are (should be) all available within
      openengsb/etc/branding.
    </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">openengsb.png: The full logo of the OpenEngSB in png format. The size is not too 
        important. At every location used it is resized according to the requirements automatically.</li><li class="listitem">openengsb_small.png: A reduced version of the OpenEngSB logo. The most important thing with this
        logo is that it have to be rectangular, since some cases require this.</li><li class="listitem">openengsb.ico: This is the openengsb_small.png logo convert to an ico file. Threfore scale the
	    openengsb_small.png. On unix install imagemagic and png2ico and follow the following steps. Before you start
		upate openengsb_smal.png in <code class="literal">etc/branding</code><div class="literallayout"><p><span class="command"><strong>convert&nbsp;-resize&nbsp;64x64&nbsp;openengsb_small.png&nbsp;openengsb64x64.png</strong></span><br>
<span class="command"><strong>convert&nbsp;-resize&nbsp;32x32&nbsp;openengsb_small.png&nbsp;openengsb32x32.png</strong></span><br>
<span class="command"><strong>convert&nbsp;-resize&nbsp;16x16&nbsp;openengsb_small.png&nbsp;openengsb16x16.png</strong></span><br>
<span class="command"><strong>png2ico&nbsp;openengsb.ico&nbsp;openengsb16x16.png&nbsp;openengsb32x32.png&nbsp;openengsb32x32.png</strong></span></p></div></li></ul></div><div class="section" title="44.2.1.&nbsp;External Infrastructure"><div class="titlepage"><div><div><h3 class="title"><a name="d0e3955"></a>44.2.1.&nbsp;External Infrastructure</h3></div></div></div><p>This section describes which tools have to be upgraded and how this is done.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Jira: Use openengsb_small.png as project logo.</li><li class="listitem">Twitter: Use openengsb.png as background and openengsb_small.png as logo.</li><li class="listitem">Github: Upgrade gravatar with openengsb_icon.png to upgrade openengsb@gmail.com.</li><li class="listitem">Facebook: Use openengsb.png for the group logo.</li><li class="listitem">Google Groups: Use openengsb_small.png for the group logos (in all three lists).</li></ul></div></div><div class="section" title="44.2.2.&nbsp;Internal Management Application"><div class="titlepage"><div><div><h3 class="title"><a name="d0e3971"></a>44.2.2.&nbsp;Internal Management Application</h3></div></div></div><p>This section covers how to upgrade the logos in the internal management application located within 
        openengsb/ui/web.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">src/main/resources/openengsb.png (openengsb.png)</li><li class="listitem">src/main/resources/openengsb.ico (openengsb.ico)</li></ul></div></div><div class="section" title="44.2.3.&nbsp;Documentation"><div class="titlepage"><div><div><h3 class="title"><a name="d0e3981"></a>44.2.3.&nbsp;Documentation</h3></div></div></div><p>Manual, Maven Site and all additional presentations of the OpenEngSB are covered within this section 
        describing how and where to upgrade a logo.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">docs/homepage/src/site/resources/images/openengsb.png uses openengsb.png to present a banner 
          on the homepage.</li><li class="listitem">docs/skin/src/main/resources/images/openengsb.ico contains openengsb.ico which is presented as 
          favicon on openengsb.org</li><li class="listitem">docs/manual/src/main/docbx/resources/images/openengsb.png contains openengsb.png which should 
          be presented on the html and pdf documentation of the OpenEngSB.</li></ul></div></div></div></div><div class="chapter" title="Chapter&nbsp;45.&nbsp;Project Roles"><div class="titlepage"><div><div><h2 class="title"><a name="developer.projectroles"></a>Chapter&nbsp;45.&nbsp;Project Roles</h2></div></div></div><p>This section describes the how the roles in the OpenEngSB Project are defined.</p><p>Basically the OpenEngSB is, from it's structure exactly as any Apache Software Foundation 
    (ASF) project.  We split the different roles in User, Contributor, Commiters and Project Comitee 
    Members. In addition the OpenEngSB is developed in a metocracy, similar to ASF the persons
    doing the most affect the project most. Basically the only reason we're not an ASF project
    is that we prefer using GIT :)
  </p><div class="section" title="45.1.&nbsp;Users"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="developer.projectroles.user"></a>45.1.&nbsp;Users</h2></div></div></div><p>Users are persons using the OpenEngSB.</p><p>
      This group does not contribute in the OpenEngSB project in any way. They download the
      OpenEngSB, use it and may ask questions in the IRC channel or on the mailing lists.
    </p></div><div class="section" title="45.2.&nbsp;Contributors"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="developer.projectroles.contributor"></a>45.2.&nbsp;Contributors</h2></div></div></div><p>Contributors are users who contribute ideas, issues or pull requests.</p><p>
      Basically the only difference between users and contributors are that they actively
      contribute to the OpenEngSB in one or another way. Those users have full rights on
      the issue tracker after they've created an account but are not allowed to access the
      OpenEngSB core repos with write karma.
    </p></div><div class="section" title="45.3.&nbsp;Commiters"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="developer.projectroles.commiter"></a>45.3.&nbsp;Commiters</h2></div></div></div><p>
      Commiters have the same rights as contributors with the difference that they have
      wirte access to the OpenEngSB Github repositories. They are allowed to directly push
      changes, but also should review pull-requests.
    </p><p>
      To become a commiter a person have to be active on different parts of the OpenEngSB.
      Provide patches, write documentation, answer on the user mailing list and the IRC
      channel. If a contributor is active for an undefined time the project comitee members may 
      vote to add a contributor to a commiter.
    </p></div><div class="section" title="45.4.&nbsp;Project Comitee Members"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="developer.projectroles.pmc"></a>45.4.&nbsp;Project Comitee Members</h2></div></div></div><p>
      Project comitee members have the same rights as commiters, with the difference that they
      are responsible for the project. PMCs relese the OpenEngSB, vote contributors to commiters
      and commiters to PMCs.
    </p><p>Every commiter can become a PMC through active contribution to the OpenEngSB.</p></div></div><div class="chapter" title="Chapter&nbsp;46.&nbsp;Java Coding Style"><div class="titlepage"><div><div><h2 class="title"><a name="codestyle"></a>Chapter&nbsp;46.&nbsp;Java Coding Style</h2></div></div></div><div class="section" title="46.1.&nbsp;Sun Coding Guidelines"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e4033"></a>46.1.&nbsp;Sun Coding Guidelines</h2></div></div></div><p>The OpenEngSB Coding Guidelines are based upon the <a class="link" href="http://java.sun.com/docs/codeconv/html/CodeConvTOC.doc.html" target="_top">Code Conventions for the Java
        Programming Language</a>. There are some additions and deviations for this project.</p><div class="section" title="46.1.1.&nbsp;Line length"><div class="titlepage"><div><div><h3 class="title"><a name="d0e4041"></a>46.1.1.&nbsp;Line length</h3></div></div></div><p>A line length of 80 was standard 10 years ago, but with increasing screen size and resolution a length of
        120 is more reasonable.</p></div><div class="section" title="46.1.2.&nbsp;Wrapping"><div class="titlepage"><div><div><h3 class="title"><a name="d0e4046"></a>46.1.2.&nbsp;Wrapping</h3></div></div></div><p>Use the auto-formatter of your IDE. Import the <a class="link" href="http://dev.openengsb.org/resources/eclipse/formatter.xml" target="_top">Eclipse Formatter file</a>.</p></div><div class="section" title="46.1.3.&nbsp;Number of declarations per line"><div class="titlepage"><div><div><h3 class="title"><a name="d0e4054"></a>46.1.3.&nbsp;Number of declarations per line</h3></div></div></div><p> Only one declaration per line is allowed. </p></div><div class="section" title="46.1.4.&nbsp;Declaration placement"><div class="titlepage"><div><div><h3 class="title"><a name="d0e4059"></a>46.1.4.&nbsp;Declaration placement</h3></div></div></div><p> Declare variables where they are needed. It's easier to read and restricts the scope of variables. Don't
        overshadow variables. </p></div><div class="section" title="46.1.5.&nbsp;Blank lines"><div class="titlepage"><div><div><h3 class="title"><a name="d0e4064"></a>46.1.5.&nbsp;Blank lines</h3></div></div></div><p> The body of a method should not start with a blank line. </p></div></div><div class="section" title="46.2.&nbsp;General"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e4069"></a>46.2.&nbsp;General</h2></div></div></div><div class="section" title="46.2.1.&nbsp;File format"><div class="titlepage"><div><div><h3 class="title"><a name="d0e4072"></a>46.2.1.&nbsp;File format</h3></div></div></div><p>Every Java file has to be UTF-8 encoded and has to use UNIX line endings. Indentations consist of four
        spaces, tab-stops are not allowed.</p></div><div class="section" title="46.2.2.&nbsp;Header"><div class="titlepage"><div><div><h3 class="title"><a name="d0e4077"></a>46.2.2.&nbsp;Header</h3></div></div></div><p> Every source file has to start with this header:
        </p><pre class="programlisting">
/**

  Licensed to the Austrian Association for Software Tool Integration (AASTI)
  under one or more contributor license agreements. See the NOTICE file
  distributed with this work for additional information regarding copyright
  ownership. The AASTI licenses this file to you under the Apache License,
  Version 2.0 (the "License"); you may not use this file except in compliance
  with the License. You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.

 */</pre><p>
      </p></div><div class="section" title="46.2.3.&nbsp;Duplication"><div class="titlepage"><div><div><h3 class="title"><a name="d0e4085"></a>46.2.3.&nbsp;Duplication</h3></div></div></div><p>Code duplication has to be avoided at all costs.</p></div><div class="section" title="46.2.4.&nbsp;Use guards"><div class="titlepage"><div><div><h3 class="title"><a name="d0e4090"></a>46.2.4.&nbsp;Use guards</h3></div></div></div><p> Guards are a possibility to reduce the amount of nesting. Heavily nested code is much harder to read. Bad:
        </p><pre class="programlisting">
public void foo() {
    if (conditionA) {
        if (conditionB) {
            if (conditionC) {
                // do some work
            }
        } else {
            throw new MyException();
        }
    }
}</pre><p>
        Good:
        </p><pre class="programlisting">
public void foo() {
    if (!conditionA) {
        return;
    }

    if (!conditionB) {
        throw new MyException();
    }

    if (!conditionC) {
        return;
    }

    // do some work
}</pre><p>
      </p></div><div class="section" title="46.2.5.&nbsp;Keep methods short"><div class="titlepage"><div><div><h3 class="title"><a name="d0e4101"></a>46.2.5.&nbsp;Keep methods short</h3></div></div></div><p>Methods longer than 40 lines are candidates for refactoring. A method should only do one thing and has to be
        easily understandable. The number of arguments should be minimized. A method should only be at a single level of
        abstraction.</p></div><div class="section" title="46.2.6.&nbsp;Use enums"><div class="titlepage"><div><div><h3 class="title"><a name="d0e4106"></a>46.2.6.&nbsp;Use enums</h3></div></div></div><p>Prefer typesafe enumerations over integer constants.</p></div><div class="section" title="46.2.7.&nbsp;Avoid use of static members"><div class="titlepage"><div><div><h3 class="title"><a name="d0e4111"></a>46.2.7.&nbsp;Avoid use of static members</h3></div></div></div><p>Static members are a sign of a design error because they are like global variables. It's fine if you declare
        a constant as final abstract of course.</p></div><div class="section" title="46.2.8.&nbsp;Use fully qualified imports"><div class="titlepage"><div><div><h3 class="title"><a name="d0e4116"></a>46.2.8.&nbsp;Use fully qualified imports</h3></div></div></div><p>Don't import org.example.package.*, instead import the needed classes.</p></div><div class="section" title="46.2.9.&nbsp;Never declare implementation types"><div class="titlepage"><div><div><h3 class="title"><a name="d0e4121"></a>46.2.9.&nbsp;Never declare implementation types</h3></div></div></div><p>Use interfaces or the abstract base class instead of concrete implementation classes where possible. Don't
        write: </p><pre class="programlisting">ArrayList&lt;String&gt; names = new ArrayList&lt;String&gt;();</pre><p> Instead
        use the interface name:
        </p><pre class="programlisting">List&lt;String&gt; names = new ArrayList&lt;String&gt;();</pre><p> This is especially
        important in method signatures. </p></div><div class="section" title="46.2.10.&nbsp;SerialVersionUID"><div class="titlepage"><div><div><h3 class="title"><a name="d0e4132"></a>46.2.10.&nbsp;SerialVersionUID</h3></div></div></div><p> Don't declare serialVersionUID just because your IDE tells you. Have a good reason why you need it. This
        can cause bugs that are hard to detect. </p></div><div class="section" title="46.2.11.&nbsp;Restrict scope of suppressed warnings"><div class="titlepage"><div><div><h3 class="title"><a name="d0e4137"></a>46.2.11.&nbsp;Restrict scope of suppressed warnings</h3></div></div></div><p> If you have to suppress a warning make sure you give it the smallest possible scope. This means you should
        never annotate a whole class with @SuppressWarnings. A method may be acceptable but you should try to annotate
        the problematic statements instead. </p></div><div class="section" title="46.2.12.&nbsp;Use String.format()"><div class="titlepage"><div><div><h3 class="title"><a name="d0e4142"></a>46.2.12.&nbsp;Use String.format()</h3></div></div></div><p> Use String.format() instead of long concatenation chains which are hard to read. </p></div><div class="section" title="46.2.13.&nbsp;Array declaration style"><div class="titlepage"><div><div><h3 class="title"><a name="d0e4147"></a>46.2.13.&nbsp;Array declaration style</h3></div></div></div><p> Always use </p><pre class="programlisting"> Type[] arrayName;</pre><p> instead of the C-like
        </p><pre class="programlisting">Type arrayName[];</pre><p>
      </p></div><div class="section" title="46.2.14.&nbsp;Comments"><div class="titlepage"><div><div><h3 class="title"><a name="d0e4158"></a>46.2.14.&nbsp;Comments</h3></div></div></div><p> Don't make funny comments, be professional. All comments have to be in English. Comment what methods do,
        not how they do it. Do not comment what is already stated in code. </p></div></div><div class="section" title="46.3.&nbsp;Naming"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e4163"></a>46.3.&nbsp;Naming</h2></div></div></div><div class="section" title="46.3.1.&nbsp;Interfaces"><div class="titlepage"><div><div><h3 class="title"><a name="d0e4166"></a>46.3.1.&nbsp;Interfaces</h3></div></div></div><p> Interfaces are not marked by starting their names with I. This exposes more information than necessary and
        is not Java-like. </p></div><div class="section" title="46.3.2.&nbsp;Don't abbreviate"><div class="titlepage"><div><div><h3 class="title"><a name="d0e4171"></a>46.3.2.&nbsp;Don't abbreviate</h3></div></div></div><p> Do not use abbreviations if it's not a project wide standard. Long method names are preferable to
        inconsistency. With automatic code completion this isn't a problem anyway. </p></div></div><div class="section" title="46.4.&nbsp;No clutter"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e4176"></a>46.4.&nbsp;No clutter</h2></div></div></div><p>
      </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Exception/Log Messages have to be concise. Don't end messages with "...".</p></li><li class="listitem"><p>Don't overuse FINAL, use it where you have a good reason something has to be final. Although it doesn't
            hurt to declare everything as final it clutters the code.</p></li><li class="listitem"><p>Don't use history tables in source files. Use the SCM system if you are interested in the changes of a
            file.</p></li><li class="listitem"><p>Don't use the JavaDoc author tag. Also use the SCM system.</p></li><li class="listitem"><p>Don't declare unnecessary constructors, especially the empty default constructor.</p></li><li class="listitem"><p>Don't make implicit calls explicitly, i.e. calling super(); in every constructor.</p></li><li class="listitem"><p>Don't specify modifiers that are implicit, i.e. don't make methods in interfaces <code class="code">public
              abstract</code>.</p></li><li class="listitem"><p>Don't initialize fields with null, they are automatically initialized with null.</p></li><li class="listitem"><p>Don't use banners in comments.</p></li><li class="listitem"><p>Don't use closing brace comments, i.e. } // end if, they are a sign of too long methods.</p></li><li class="listitem"><p>Don't comment out code and commit it. This confuses programmers why it is there. Simply delete it, it's
            still present in the SCM history.</p></li></ul></div><p>
    </p></div><div class="section" title="46.5.&nbsp;Exception Handling"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e4219"></a>46.5.&nbsp;Exception Handling</h2></div></div></div><p>
      </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Don't log and throw. Either a exception should be logged or thrown to be processed at a more appropriate
            place.</p></li><li class="listitem"><p>Don't swallow exceptions silently. If you have to do it, you have to make a comment stating the
            reason.</p></li><li class="listitem"><p>Use runtime exceptions where possible.</p></li><li class="listitem"><p>Wrap exceptions in a RuntimeException if you don't want to specify the Exception in your method
            signature and you can't handle it.</p></li><li class="listitem"><p>Write meaningful exception message.</p></li></ul></div><p>
    </p></div><div class="section" title="46.6.&nbsp;Tests"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e4241"></a>46.6.&nbsp;Tests</h2></div></div></div><div class="section" title="46.6.1.&nbsp;General"><div class="titlepage"><div><div><h3 class="title"><a name="d0e4244"></a>46.6.1.&nbsp;General</h3></div></div></div><p>
        </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Make use of JUnit 4 features, e.g. @Test(expected = SomeException.class)</p></li><li class="listitem"><p>Tests should not output anything. They have to be automatically verified.</p></li><li class="listitem"><p>Don't catch exceptions just to fail manually. Declare the method to throw the exception.</p></li><li class="listitem"><p>Install a shutdown hook for test data files. This assures that they will be deleted and the project
              remains in a clean state.</p></li><li class="listitem"><p>Use <a class="link" href="http://code.google.com/p/mockito/" target="_top">Mockito</a> for mocking.</p></li><li class="listitem"><p>Tests should have descriptive method names. It should be deducible what will be tested. Bad:
                <code class="code">testError()</code>. Good: <code class="code">invalidInMessage_ShouldReturnErrorResponse()</code>.</p></li></ul></div><p>
      </p></div><div class="section" title="46.6.2.&nbsp;Naming Scheme"><div class="titlepage"><div><div><h3 class="title"><a name="d0e4278"></a>46.6.2.&nbsp;Naming Scheme</h3></div></div></div><p> The Maven profiles for running the tests are configured to filter based on the naming of the test class.
        The package layout is just a further convenience for the developer for running the tests manually. </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Unit Tests test one class/method/feature in isolation from their dependencies by using test doubles as
              replacement. They should be fast and need no special environment setup for execution.</p></li><li class="listitem"><p>Filenames end with Test.java</p></li><li class="listitem"><p>Located in the normal package structure, i.e.
              <code class="code">outer.project.package.inner.project.package</code></p></li><li class="listitem"><p>Integration Tests combine individual software modules to test their interaction with each other. They
              do not need a special environment setup for execution.</p></li><li class="listitem"><p>Filenames end with IT.java</p></li><li class="listitem"><p>Located in <code class="code">outer.project.package.it.inner.project.package</code></p></li><li class="listitem"><p>User Tests need a special execution environment and thus are not run automatically during any maven
              phase.</p></li><li class="listitem"><p>Filenames end with UT.java</p></li><li class="listitem"><p>Located in <code class="code">outer.project.package.ut.inner.project.package</code></p></li></ul></div><p>
      </p></div></div><div class="section" title="46.7.&nbsp;XML Formatting"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e4318"></a>46.7.&nbsp;XML Formatting</h2></div></div></div><div class="section" title="46.7.1.&nbsp;File Format"><div class="titlepage"><div><div><h3 class="title"><a name="d0e4321"></a>46.7.1.&nbsp;File Format</h3></div></div></div><p>Every XML file has to be UTF-8 encoded and has to use UNIX line endings. Indentations consist of TWO spaces,
        tabstops are not allowed. The line length shouldn't exceed 120 characters.</p></div><div class="section" title="46.7.2.&nbsp;Eclipse Settings"><div class="titlepage"><div><div><h3 class="title"><a name="d0e4326"></a>46.7.2.&nbsp;Eclipse Settings</h3></div></div></div><p>If you use Eclipse please choose these settings for your OpenEngSB workspace: </p><div class="mediaobject" title="Eclipse XML Settings Dialog" align="center"><img src="graphics/eclipse-xml-settings.png" align="middle"><div class="caption"><p>Eclipse XML Settings</p></div></div><p>
      </p></div><div class="section" title="46.7.3.&nbsp;Recommended Readings"><div class="titlepage"><div><div><h3 class="title"><a name="d0e4340"></a>46.7.3.&nbsp;Recommended Readings</h3></div></div></div><p>
        </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>Clean Code, Robert C. Martin, 2008</p></li><li class="listitem"><p>Effective Java Second Edition, Joshua Bloch, 2008</p></li><li class="listitem"><p>
              <a class="link" href="http://www.garshol.priv.no/blog/105.html" target="_top">7 tips on writing clean code</a>
            </p></li></ul></div><p>
      </p></div></div></div><div class="chapter" title="Chapter&nbsp;47.&nbsp;Writing Code"><div class="titlepage"><div><div><h2 class="title"><a name="writing.code"></a>Chapter&nbsp;47.&nbsp;Writing Code</h2></div></div></div><p>This chapter is intended for developers. There are no special prerequisites. Each part describes what a
    developer has to look at in specific for the OpenEngSB.</p><div class="section" title="47.1.&nbsp;Maven POM files in the OpenEngSB"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e4365"></a>47.1.&nbsp;Maven POM files in the OpenEngSB</h2></div></div></div><p>Following the guidelines of Maven Central, how a pom should be designed it is required to add the 
      following tags into every and each pom file:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">modelVersion</li><li class="listitem">groupId</li><li class="listitem">artifactId</li><li class="listitem">version</li><li class="listitem">packaging</li><li class="listitem">name</li><li class="listitem">description</li><li class="listitem">url</li><li class="listitem">licenses</li><li class="listitem">scm/url</li><li class="listitem">scm/connection</li><li class="listitem">scm/developerConnection</li></ul></div><p>The following listings shows an example of these params for a typical OpenEngSB pom.</p><pre class="programlisting">&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
      &lt;groupId&gt;org.openengsb.core&lt;/groupId&gt;
      &lt;artifactId&gt;openengsb-core-parent&lt;/artifactId&gt;
      &lt;version&gt;1.1.0-SNAPSHOT&lt;/version&gt;
      &lt;name&gt;OpenEngSB :: Core :: Parent&lt;/name&gt;
      &lt;packaging&gt;pom&lt;/packaging&gt;
      &lt;description&gt;Parent project for all OpenEngSB Core classes&lt;/description&gt;
      &lt;url&gt;http://www.openengsb.org&lt;/url&gt;
      &lt;licenses&gt;
        &lt;license&gt;
          &lt;name&gt;Apache 2&lt;/name&gt;
          &lt;url&gt;http://www.apache.org/licenses/LICENSE-2.0.txt&lt;/url&gt;
          &lt;distribution&gt;repo&lt;/distribution&gt;
        &lt;/license&gt;
      &lt;/licenses&gt;
      &lt;scm&gt;
        &lt;connection&gt;scm:git:git://github.com/openengsb/openengsb.git&lt;/connection&gt;
        &lt;developerConnection&gt;scm:git:git@github.com:openengsb/openengsb.git&lt;/developerConnection&gt;
        &lt;url&gt;http://github.com/openengsb/openengsb&lt;/url&gt;
    &lt;/scm&gt;</pre></div><div class="section" title="47.2.&nbsp;Making UI Tests Localizable"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e4399"></a>47.2.&nbsp;Making UI Tests Localizable</h2></div></div></div><p>
      If you want to test if specific text is shown in the UI extend LocalisedTest in your UI Test. The
      constructor automatically loads the correct ResourceBundle and via localization(String resourcename) you
      can load a localized version of a specific resource string. The default locale is used as to match the locale
      used by WicketTester.
    </p></div><div class="section" title="47.3.&nbsp;How to write tests"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e4404"></a>47.3.&nbsp;How to write tests</h2></div></div></div><p>The following listings show how to write tests according to the OpenEngSB coding style</p><div class="section" title="47.3.1.&nbsp;"><div class="titlepage"></div>The name of the test method has to describe what is going to be tested. After the "_"
         is described what are the expected results.
<pre class="programlisting">
@Test
public void testBehaviorX_shouldReturnY() {
  //CODE
}
      </pre>
In addition to the normal behaviour the coder should also provide a test for the failure behavior.
      <pre class="programlisting">
@Test(expected = BehaviorException.class)
public void testBehaviorX_shouldThrowException() {
//CODE
}
</pre></div><div class="section" title="47.3.2.&nbsp;Technologies for writing test, and how to use them"><div class="titlepage"><div><div><h3 class="title"><a name="d0e4416"></a>47.3.2.&nbsp;Technologies for writing test, and how to use them</h3></div></div></div><p>The OpenEngSB developers decided to use following testing tools:</p><div class="caution" title="Caution" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Caution"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Caution]" src="images/admons/caution.png"></td><th align="left">Caution</th></tr><tr><td align="left" valign="top">Instead of using Assert.assertThat(....) or Mockito.mock(...) we use the static import variant:
           assertThat(...) and mock(...)</td></tr></table></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Asserts: We use  <a class="link" href="http://code.google.com/p/hamcrest/wiki/Tutorial" target="_top">
             Hamcrest</a> instead of JUnit.
             A simple example how to use Hamcrest assertions is given in the following listing:
<pre class="programlisting">
 import static org.hamcrest.MatcherAssert.assertThat;
 import static org.hamcrest.MatcherAssert.is;
 [...]
 assertThat(realValue, is(expectedValue));
</pre></li><li class="listitem">Mocking: We use <a class="link" href="http://code.google.com/p/mockito/" target="_top">mockito</a>. A simple
             example how to use Mockito in a correct way is given in the following listing:
<pre class="programlisting">
 import static org.mockito.Mockito.mock;
 import static org.mockito.Mockito.when;
 import static org.mockito.Mockito.times;
 [...]
 //mocking code
 ExampleMock exampleMock = mock(ExampleMock.class);
 when(exampleMock.methodX()).thenReturn(y);
 [...] //testing code
 //verification
 verify(manager, times(1).methodX(Y);
</pre></li></ul></div></div></div></div><div class="chapter" title="Chapter&nbsp;48.&nbsp;Recommended Eclipse Plug-ins for Developers"><div class="titlepage"><div><div><h2 class="title"><a name="recommended.eclipse.plugins"></a>Chapter&nbsp;48.&nbsp;Recommended Eclipse Plug-ins for Developers</h2></div></div></div><p>The following plug-ins for Eclipse are recommended for the development of the OpenEngSB.
  If not otherwise stated we recommend the latest stable version of the plug-ins. For information about
  the basic setup of this plug-ins please take a look into the corresponding plug-in documentation. This 
  section only gives hints for setup if it is OpenEngSB specific.</p><div class="section" title="48.1.&nbsp;Properties Editor"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e4444"></a>48.1.&nbsp;Properties Editor</h2></div></div></div><p>The <a class="link" href="http://marketplace.eclipse.org/content/properties-editor-0" target="_top">properties editor</a> 
    can be used to edit the properties files used for internationalization and automatically escapes special characters,
    like the German "&uuml;".</p></div><div class="section" title="48.2.&nbsp;Rinzo XML Editor"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e4452"></a>48.2.&nbsp;Rinzo XML Editor</h2></div></div></div><p><a class="link" href="http://marketplace.eclipse.org/content/rinzo-xml-editor" target="_top">Rinzo XML Editor</a> 
    adds support for full XML editing including Java File completion and renaming to the Eclipse platform. 
    Since SpringIDE is no longer an option (because of blueprint) Rinzo XML is a good alternative for
    SpringIDE in the context of the OpenEngSB.</p></div><div class="section" title="48.3.&nbsp;Eclemma code coverage"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e4459"></a>48.3.&nbsp;Eclemma code coverage</h2></div></div></div><p>At the OpenEngSB project we're trying to keep test density as high as possible. To check the coverage
    of code written locally we recommend <a class="link" href="http://marketplace.eclipse.org/content/eclemma-java-code-coverage" target="_top">Eclemma</a> 
    as a free and OpenSource Eclipse plugin.</p></div><div class="section" title="48.4.&nbsp;Eclipse M2 Plugin"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e4467"></a>48.4.&nbsp;Eclipse M2 Plugin</h2></div></div></div><p>The <a class="link" href="http://marketplace.eclipse.org/content/maven-integration-eclipse" target="_top">M2 Eclipse Plugin</a> 
    adds Maven support directly to your platform. Though, please still use openengsb:eclipse instead of this plugin
    if you're generating the .project, .classpath and .settings files. We recommend you this plugin since it helps a
    great deal with editing pom files, but for NO other use.</p></div><div class="section" title="48.5.&nbsp;Egit Eclipse Plugin"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e4475"></a>48.5.&nbsp;Egit Eclipse Plugin</h2></div></div></div><p><a class="link" href="http://marketplace.eclipse.org/content/egit-git-team-provider" target="_top">Egit Eclipse Plugin</a> 
    adds Git support to your Eclipse IDE. Though, we do not reccomend commiting/pulling via the IDE, but rather via
    the CMD and use the IDE as a visual indicator for changed files</p></div><div class="section" title="48.6.&nbsp;Eclipse CS"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e4482"></a>48.6.&nbsp;Eclipse CS</h2></div></div></div><p>The <a class="link" href="http://marketplace.eclipse.org/content/checkstyle-plug" target="_top">checkstyle plugin</a> 
    integrates checkstyle into Eclipse. Conformance with checkstyle criteria has to be checked before each push to 
    the repository, so integrating the check into the IDE helps developers to already conform to the checkstyle 
    criteria during development. You have to configure the plug-in to use our checkstyle configuration file, which
    can be found <a class="link" href="https://github.com/openengsb/openengsb-maven-plugin/raw/master/src/main/resources/checkstyle/checkstyle.xml" target="_top">here</a>
    </p></div><div class="section" title="48.7.&nbsp;Drools"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e4493"></a>48.7.&nbsp;Drools</h2></div></div></div><p>The <a class="link" href="http://marketplace.eclipse.org/content/jboss-drools" target="_top">Drools plug-in</a> is handy
    if you want to edit workflows or Drools rules, because it provides syntax highlighting for rules and a graphical
    editor for workflows.</p></div></div><div class="chapter" title="Chapter&nbsp;49.&nbsp;Writing Documentation"><div class="titlepage"><div><div><h2 class="title"><a name="writing.documentation"></a>Chapter&nbsp;49.&nbsp;Writing Documentation</h2></div></div></div><p> This chapter is intended for developers who write documentation. There are no special prerequisites. Part one
    describes how a chapter should be structured. Part two discusses how domains and connectors should be document. Part
    three describes how Docbook is used at OpenEngSB. </p><div class="section" title="49.1.&nbsp;General Documentation Guidelines"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e4507"></a>49.1.&nbsp;General Documentation Guidelines</h2></div></div></div><p>A chapter should consist of these parts: 
    </p><div class="variablelist"><dl><dt><span class="term">Introduction</span></dt><dd><p>It should explained who the target audience for this chapter is and in what case this chapter should be
              read. There should also be a basic summary of what this chapter is about. </p></dd><dt><span class="term">Prerequisites</span></dt><dd><p>Any prerequisites should be listed. Link to the appropriate chapter or to a website to give the reader a
              good starting point in case they need to learn something else first. </p></dd><dt><span class="term">Context</span></dt><dd><p>In the context section the reader should learn in which context this chapter is applicable. If necessary
              abbrevations and acronyms used in this chapter can be explained here. </p></dd><dt><span class="term">Content</span></dt><dd><p>The actual content of this chapter. This should be structured in as many sections as appropriate.
            </p></dd><dt><span class="term">Example</span></dt><dd><p>If possible there should be an example to illustrate the points of the chapter. </p></dd><dt><span class="term">Common Problems</span></dt><dd><p> If there are some known pitfalls or bugs they should be described in this section. </p></dd><dt><span class="term">Closing Remarks</span></dt><dd><p> In this section the content of the chapter can be summarized once more. The reader should get
              information on what to do next. </p></dd></dl></div><p>
    </p><p> It is not necessary that every part is a docbook section. Parts can be combined if it seems appropriate.
    </p></div><div class="section" title="49.2.&nbsp;Document a domain or connector"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e4558"></a>49.2.&nbsp;Document a domain or connector</h2></div></div></div><div class="section" title="49.2.1.&nbsp;Domain"><div class="titlepage"><div><div><h3 class="title"><a name="d0e4561"></a>49.2.1.&nbsp;Domain</h3></div></div></div><p>Each domain gets their own directory in the user guide at <code class="literal">domains/&lt;the-domain-name&gt;</code>.
        The domain-specific documentation should be put in a file named <code class="literal">domain.xml</code>. The directory
        will be used to document connectors for the domain.</p><p>The documentation of a domain should at least consist of the following parts:</p><div class="variablelist"><dl><dt><span class="term">Description</span></dt><dd><p>Describe briefly what the purpose of the Domain is.</p></dd><dt><span class="term">Functional interface</span></dt><dd><p>The link to the actual java interface (and any domain models used in the interface) at Github. The
              domain interface and models should have enough Javadoc to explain the usage.</p></dd><dt><span class="term">Events</span></dt><dd><p>If the domain adds new events to the OpenEngSB, the link to the events package at Github should be
              provided. The meaning of each events should be documented through the Javadoc at the actual class.</p></dd></dl></div></div><div class="section" title="49.2.2.&nbsp;Connector"><div class="titlepage"><div><div><h3 class="title"><a name="d0e4593"></a>49.2.2.&nbsp;Connector</h3></div></div></div><p>A connector for a specific domain should be documented in the domain-specific directory. Add a new file with
        the unique name of the connector.</p><p>The documentation of a connector should at least conisst of the following parts:</p><div class="variablelist"><dl><dt><span class="term">Description</span></dt><dd><p>Provide a description of the external tool and its purpose.</p></dd><dt><span class="term">External tool configuration</span></dt><dd><p>A section on how to configure the actual external tool for usage with the OpenEngSB has to be provided.</p></dd><dt><span class="term">Support for domain interface</span></dt><dd><p>Any deviation to the provided functionality of the domain should be documented. E.g a connector may only
              implement parts of the domain interface.</p></dd></dl></div></div></div><div class="section" title="49.3.&nbsp;Using Docbook"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e4619"></a>49.3.&nbsp;Using Docbook</h2></div></div></div><p> This is not a DocBook manual but rather an explanation what type of docbook tags are used in this
      documentation. If you are new to DocBook you should read <a class="link" href="http://www.docbook.org/tdg5/en/html/docbook.html" target="_top">DocBook 5: The Definitive Guide</a>. </p><div class="section" title="49.3.1.&nbsp;Tags"><div class="titlepage"><div><div><h3 class="title"><a name="d0e4627"></a>49.3.1.&nbsp;Tags</h3></div></div></div><p> DocBook has many tags to choose from. This list describes which tags should be used in which cases. </p><table id="d0e4632"><colgroup>
          <col width="80">
          <col width="180">
          <col width="200">
        </colgroup><thead><tr>
            <td> Tag </td>
            <td> Description </td>
            <td> Example </td>
          </tr></thead><tbody><tr>
            <td> &lt;command&gt; </td>
            <td> Used for executables </td>
            <td> Type &lt;command&gt;ls&lt;/command&gt; to get the contents of the directory. </td>
          </tr><tr>
            <td> &lt;envar&gt; </td>
            <td> Used for environment variables </td>
            <td>
              <code class="envar">PATH</code>
            </td>
          </tr><tr>
            <td> &lt;emphasis&gt; </td>
            <td> Used to emphasize words in a sentence </td>
            <td> This chapter explains only the <span class="emphasis"><em>very</em></span> basics of Git. </td>
          </tr><tr>
            <td> &lt;filename&gt; </td>
            <td> Used for files and directories </td>
            <td> You can set environment variables in &lt;filename&gt;~/.profile&lt;/filename&gt;. </td>
          </tr><tr>
            <td> &lt;guibutton&gt; </td>
            <td> Used to describe buttons in a GUI </td>
            <td> Press &lt;guibutton&gt;Next&lt;/guibutton&gt; to continue with the process. </td>
          </tr><tr>
            <td> &lt;guilabel&gt; </td>
            <td> Used to describe labels in a GUI </td>
            <td> Select &lt;guilabel&gt;Copy projects into workspace&lt;/guilabel&gt; </td>
          </tr><tr>
            <td> &lt;guimenu&gt; </td>
            <td> Used to describe menus in a GUI </td>
            <td> Go to &lt;guimenu&gt;File&lt;/guimenu&gt;, &lt;guimenu&gt;Import...&lt;/guimenu&gt;. </td>
          </tr><tr>
            <td> &lt;itemizedlist&gt; </td>
            <td> Used for bullet type lists </td>
            <td> &lt;itemizedlist&gt;&lt;listitem&gt;One&lt;/listitem&gt;&lt;listitem&gt;Two&lt;/listitem&gt;&lt;/itemizedlist&gt; </td>
          </tr><tr>
            <td> &lt;listitem&gt; </td>
            <td> Used for entries in a list </td>
            <td> &lt;itemizedlist&gt;&lt;listitem&gt;One&lt;/listitem&gt;&lt;listitem&gt;Two&lt;/listitem&gt;&lt;/itemizedlist&gt; </td>
          </tr><tr>
            <td> &lt;option&gt; </td>
            <td> Used for options of commands </td>
            <td> &lt;command&gt;mvn&lt;/command&gt; &lt;option&gt;clean&lt;/option&gt; is used to clean the project. </td>
          </tr><tr>
            <td> &lt;orderedlist&gt; </td>
            <td> Used for numbered lists </td>
            <td> &lt;orderedlist&gt;&lt;listitem&gt;One&lt;/listitem&gt;&lt;listitem&gt;Two&lt;/listitem&gt;&lt;/orderedlist&gt; </td>
          </tr><tr>
            <td> &lt;para&gt; </td>
            <td> Used for paragraphs </td>
            <td> &lt;para&gt;This is a paragraph.&lt;/para&gt; </td>
          </tr><tr>
            <td> &lt;programlisting&gt; </td>
            <td> Used to display code (e.g. XML or Java). Generally it is a good idea to wrap the contents of this tag
              in a CDATA section. </td>
            <td> &lt;programlisting&gt;&lt;![CDATA[System.out.println("Hello, world!");]]&lt;&lt;/programlisting&gt; </td>
          </tr><tr>
            <td> &lt;replaceable&gt; </td>
            <td> Used for placeholders in examples </td>
            <td> Type &lt;command&gt; &lt;replaceable&gt;/path/to/maven&lt;/replaceable&gt; </td>
          </tr><tr>
            <td> &lt;link&gt; </td>
            <td> Used for links to external resources </td>
            <td> You should read &lt;link xlink:href="http://www.docbook.org/tdg5/en/html/docbook.html"&gt;DocBook 5: The
              Definitive Guide&lt;/link&gt;. </td>
          </tr><tr>
            <td> &lt;xref&gt; </td>
            <td> Used for internal links</td>
            <td> This inserts a link to the description of the the OpenEngSB &lt;xref linkend="architecture" /&gt;. </td>
          </tr><tr>
            <td> &lt;userinput&gt; </td>
            <td> Used for data which is entered by the user </td>
            <td> Type &lt;userinput&gt;n&lt;/userinput&gt; to overwrite the default values. </td>
          </tr><tr>
            <td> &lt;warning&gt; </td>
            <td> Used for warnings about a chapter </td>
            <td> &lt;warning&gt;&lt;para&gt;This chapter is out of date.&lt;/para&gt;&lt;/warning&gt; </td>
          </tr></tbody></table><div class="section" title="49.3.1.1.&nbsp;Including an image"><div class="titlepage"><div><div><h4 class="title"><a name="d0e4858"></a>49.3.1.1.&nbsp;Including an image</h4></div></div></div><p>Images can be included in this way: </p><pre class="programlisting">&lt;mediaobject&gt;
  &lt;imageobject&gt;
    &lt;imagedata id="new" fileref="graphics/testclient_message.png"
      format="png" width="400" align="center" /&gt;
    &lt;/imageobject&gt;
  &lt;caption&gt;Messaging&lt;/caption&gt;
&lt;/mediaobject&gt;</pre><p>
        </p></div><div class="section" title="49.3.1.2.&nbsp;Using a table"><div class="titlepage"><div><div><h4 class="title"><a name="d0e4866"></a>49.3.1.2.&nbsp;Using a table</h4></div></div></div><p> There are two types of tables. Normal tables (&lt;table&gt;) and informal tables (&lt;informaltable&gt;)which
          don't have a caption. Using informal tables should be fine most of the time. Example: </p><pre class="programlisting">&lt;informaltable&gt;
  &lt;colgroup&gt;
    &lt;col width="50" /&gt;
    &lt;col width="100" /&gt;
  &lt;/colgroup&gt;
  &lt;thead&gt;
    &lt;tr&gt; 
      &lt;td&gt;
        Name
      &lt;/td&gt;
      &lt;td&gt;
        Description
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;
        table
      &lt;/td&gt;
      &lt;td&gt;
        A table with a caption
      &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;
        informaltable
      &lt;/td&gt;
      &lt;td&gt;
        A table without a caption
      &lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/informaltable&gt;</pre><p>
        </p></div><div class="section" title="49.3.1.3.&nbsp;Generating the documentation"><div class="titlepage"><div><div><h4 class="title"><a name="d0e4874"></a>49.3.1.3.&nbsp;Generating the documentation</h4></div></div></div><p> To build the documentation maven with some plugins is used. The full documentation can be generated in
          one simple step:
          </p><div class="literallayout"><p><span class="command"><strong>cd&nbsp;docs</strong></span><br>
<span class="command"><strong>mvn</strong></span>&nbsp;<code class="option">clean&nbsp;install&nbsp;-Pdocs</code><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p></div><p>
          The documentation can be found in <code class="filename">docs/target/docbkx</code> in HTML and PDF format. </p></div></div></div></div></div></div></body></html>