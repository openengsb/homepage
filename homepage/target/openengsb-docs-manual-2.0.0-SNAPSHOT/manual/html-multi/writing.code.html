<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Chapter&nbsp;47.&nbsp;Writing Code</title><link rel="stylesheet" href="css/html.css" type="text/css"><meta name="generator" content="DocBook XSL-NS Stylesheets V1.75.2"><link rel="home" href="openengsb-manual.html" title="OpenEngSB Manual"><link rel="up" href="developer.manual.html" title="Part&nbsp;VII.&nbsp;OpenEngSB Commiters &amp; Contributors"><link rel="prev" href="codestyle.html" title="Chapter&nbsp;46.&nbsp;Java Coding Style"><link rel="next" href="recommended.eclipse.plugins.html" title="Chapter&nbsp;48.&nbsp;Recommended Eclipse Plug-ins for Developers"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div xmlns:fo="http://www.w3.org/1999/XSL/Format" id="top"><div id="header"><div class="projectlogo"></div></div></div><div xmlns:fo="http://www.w3.org/1999/XSL/Format" class="mhSpacer"></div><div class="chapter" title="Chapter&nbsp;47.&nbsp;Writing Code"><div class="titlepage"><div><div><h2 class="title"><a name="writing.code"></a>Chapter&nbsp;47.&nbsp;Writing Code</h2></div></div></div><p>This chapter is intended for developers. There are no special prerequisites. Each part describes what a
    developer has to look at in specific for the OpenEngSB.</p><div class="section" title="47.1.&nbsp;Maven POM files in the OpenEngSB"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e4365"></a>47.1.&nbsp;Maven POM files in the OpenEngSB</h2></div></div></div><p>Following the guidelines of Maven Central, how a pom should be designed it is required to add the 
      following tags into every and each pom file:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">modelVersion</li><li class="listitem">groupId</li><li class="listitem">artifactId</li><li class="listitem">version</li><li class="listitem">packaging</li><li class="listitem">name</li><li class="listitem">description</li><li class="listitem">url</li><li class="listitem">licenses</li><li class="listitem">scm/url</li><li class="listitem">scm/connection</li><li class="listitem">scm/developerConnection</li></ul></div><p>The following listings shows an example of these params for a typical OpenEngSB pom.</p><pre class="programlisting">&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
      &lt;groupId&gt;org.openengsb.core&lt;/groupId&gt;
      &lt;artifactId&gt;openengsb-core-parent&lt;/artifactId&gt;
      &lt;version&gt;1.1.0-SNAPSHOT&lt;/version&gt;
      &lt;name&gt;OpenEngSB :: Core :: Parent&lt;/name&gt;
      &lt;packaging&gt;pom&lt;/packaging&gt;
      &lt;description&gt;Parent project for all OpenEngSB Core classes&lt;/description&gt;
      &lt;url&gt;http://www.openengsb.org&lt;/url&gt;
      &lt;licenses&gt;
        &lt;license&gt;
          &lt;name&gt;Apache 2&lt;/name&gt;
          &lt;url&gt;http://www.apache.org/licenses/LICENSE-2.0.txt&lt;/url&gt;
          &lt;distribution&gt;repo&lt;/distribution&gt;
        &lt;/license&gt;
      &lt;/licenses&gt;
      &lt;scm&gt;
        &lt;connection&gt;scm:git:git://github.com/openengsb/openengsb.git&lt;/connection&gt;
        &lt;developerConnection&gt;scm:git:git@github.com:openengsb/openengsb.git&lt;/developerConnection&gt;
        &lt;url&gt;http://github.com/openengsb/openengsb&lt;/url&gt;
    &lt;/scm&gt;</pre></div><div class="section" title="47.2.&nbsp;Making UI Tests Localizable"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e4399"></a>47.2.&nbsp;Making UI Tests Localizable</h2></div></div></div><p>
      If you want to test if specific text is shown in the UI extend LocalisedTest in your UI Test. The
      constructor automatically loads the correct ResourceBundle and via localization(String resourcename) you
      can load a localized version of a specific resource string. The default locale is used as to match the locale
      used by WicketTester.
    </p></div><div class="section" title="47.3.&nbsp;How to write tests"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="d0e4404"></a>47.3.&nbsp;How to write tests</h2></div></div></div><p>The following listings show how to write tests according to the OpenEngSB coding style</p><div class="section" title="47.3.1.&nbsp;"><div class="titlepage"></div>The name of the test method has to describe what is going to be tested. After the "_"
         is described what are the expected results.
<pre class="programlisting">
@Test
public void testBehaviorX_shouldReturnY() {
  //CODE
}
      </pre>
In addition to the normal behaviour the coder should also provide a test for the failure behavior.
      <pre class="programlisting">
@Test(expected = BehaviorException.class)
public void testBehaviorX_shouldThrowException() {
//CODE
}
</pre></div><div class="section" title="47.3.2.&nbsp;Technologies for writing test, and how to use them"><div class="titlepage"><div><div><h3 class="title"><a name="d0e4416"></a>47.3.2.&nbsp;Technologies for writing test, and how to use them</h3></div></div></div><p>The OpenEngSB developers decided to use following testing tools:</p><div class="caution" title="Caution" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Caution"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Caution]" src="images/admons/caution.png"></td><th align="left">Caution</th></tr><tr><td align="left" valign="top">Instead of using Assert.assertThat(....) or Mockito.mock(...) we use the static import variant:
           assertThat(...) and mock(...)</td></tr></table></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Asserts: We use  <a class="link" href="http://code.google.com/p/hamcrest/wiki/Tutorial" target="_top">
             Hamcrest</a> instead of JUnit.
             A simple example how to use Hamcrest assertions is given in the following listing:
<pre class="programlisting">
 import static org.hamcrest.MatcherAssert.assertThat;
 import static org.hamcrest.MatcherAssert.is;
 [...]
 assertThat(realValue, is(expectedValue));
</pre></li><li class="listitem">Mocking: We use <a class="link" href="http://code.google.com/p/mockito/" target="_top">mockito</a>. A simple
             example how to use Mockito in a correct way is given in the following listing:
<pre class="programlisting">
 import static org.mockito.Mockito.mock;
 import static org.mockito.Mockito.when;
 import static org.mockito.Mockito.times;
 [...]
 //mocking code
 ExampleMock exampleMock = mock(ExampleMock.class);
 when(exampleMock.methodX()).thenReturn(y);
 [...] //testing code
 //verification
 verify(manager, times(1).methodX(Y);
</pre></li></ul></div></div></div></div><div xmlns:fo="http://www.w3.org/1999/XSL/Format" class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="codestyle.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="openengsb-manual.html">Home</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="recommended.eclipse.plugins.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter&nbsp;46.&nbsp;Java Coding Style&nbsp;</td><td width="20%" align="center"><span style="color:white;font-size:85%;"><a href="http://openengsb.org/" title="OpenEngSB Community">OpenEngSB Community</a></span></td><td width="40%" align="right" valign="top">&nbsp;Chapter&nbsp;48.&nbsp;Recommended Eclipse Plug-ins for Developers</td></tr></table></div></body></html>